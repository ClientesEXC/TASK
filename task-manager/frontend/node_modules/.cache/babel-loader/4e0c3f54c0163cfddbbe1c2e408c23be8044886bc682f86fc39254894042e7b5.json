{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Silvia\\\\WebstormProjects\\\\TASK\\\\task-manager\\\\frontend\\\\src\\\\Rental.jsx\",\n  _s = $RefreshSig$();\n// =====================================================\n// ARCHIVO: frontend/src/Rental.jsx\n// Sistema de alquileres con múltiples items corregido\n// =====================================================\n\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport axios from 'axios';\nimport { Package, User, Calendar, DollarSign, Search, Filter, Plus, X, Check, AlertCircle, Clock, Phone, Mail, MapPin, Shield, Edit, Trash2, Eye, ChevronDown, ChevronUp, RefreshCw, FileText, CreditCard } from 'lucide-react';\n\n// Configuración de API\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\n\n// Configuración de axios\naxios.defaults.baseURL = API_URL;\nfunction Rental({\n  updateTabData\n}) {\n  _s();\n  // =====================================================\n  // ESTADOS PRINCIPALES\n  // =====================================================\n  const [items, setItems] = useState([]);\n  const [rentals, setRentals] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [notification, setNotification] = useState(null);\n\n  // Estados de vista\n  const [currentView, setCurrentView] = useState('items');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterCategory, setFilterCategory] = useState('all');\n\n  // Estados de modales\n  const [modals, setModals] = useState({\n    item: false,\n    rental: false,\n    return: false,\n    payment: false\n  });\n\n  // Estado para alquiler múltiple\n  const [rentalForm, setRentalForm] = useState({\n    customer_name: '',\n    customer_id_number: '',\n    customer_phone: '',\n    customer_email: '',\n    customer_address: '',\n    rental_start: new Date().toISOString().split('T')[0],\n    rental_end: '',\n    deposit: 0,\n    has_collateral: false,\n    collateral_description: '',\n    notes: '',\n    items: [] // Array de items a alquilar\n  });\n\n  // Estado para items seleccionados\n  const [selectedItems, setSelectedItems] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n\n  // =====================================================\n  // EFECTOS\n  // =====================================================\n  useEffect(() => {\n    loadInitialData();\n  }, []);\n  useEffect(() => {\n    // Actualizar notificaciones del tab\n    if (updateTabData) {\n      const overdueCount = rentals.filter(r => r.status === 'activo' && new Date(r.rental_end) < new Date()).length;\n      updateTabData({\n        notification: overdueCount > 0 ? overdueCount : null\n      });\n    }\n  }, [rentals, updateTabData]);\n\n  // =====================================================\n  // FUNCIONES DE CARGA DE DATOS\n  // =====================================================\n  const loadInitialData = async () => {\n    setLoading(true);\n    try {\n      await Promise.all([fetchItems(), fetchRentals()]);\n    } catch (error) {\n      showNotification('Error al cargar datos', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchItems = async () => {\n    try {\n      const response = await axios.get('/rental-items/enhanced');\n      setItems(response.data);\n    } catch (error) {\n      console.error('Error fetching items:', error);\n      showNotification('Error al cargar artículos', 'error');\n    }\n  };\n  const fetchRentals = async () => {\n    try {\n      const response = await axios.get('/rentals/enhanced');\n      setRentals(response.data);\n    } catch (error) {\n      console.error('Error fetching rentals:', error);\n      showNotification('Error al cargar alquileres', 'error');\n    }\n  };\n\n  // =====================================================\n  // FUNCIONES DEL CARRITO DE ALQUILER\n  // =====================================================\n  const addToCart = item => {\n    const existingItem = cartItems.find(ci => ci.item_id === item.id);\n    if (existingItem) {\n      // Si ya existe, aumentar cantidad\n      if (existingItem.quantity < item.quantity_available) {\n        setCartItems(cartItems.map(ci => ci.item_id === item.id ? {\n          ...ci,\n          quantity: ci.quantity + 1\n        } : ci));\n        showNotification(`${item.name} - Cantidad: ${existingItem.quantity + 1}`, 'info');\n      } else {\n        showNotification('No hay más unidades disponibles', 'warning');\n      }\n    } else {\n      // Agregar nuevo item al carrito\n      if (item.quantity_available > 0) {\n        const newCartItem = {\n          item_id: item.id,\n          item_name: item.name,\n          quantity: 1,\n          max_quantity: item.quantity_available,\n          price_per_day: item.daily_rate || 0,\n          image_url: item.image_url\n        };\n        setCartItems([...cartItems, newCartItem]);\n        showNotification(`${item.name} agregado al carrito`, 'success');\n      } else {\n        showNotification('Artículo no disponible', 'error');\n      }\n    }\n  };\n  const removeFromCart = itemId => {\n    setCartItems(cartItems.filter(ci => ci.item_id !== itemId));\n    showNotification('Artículo removido del carrito', 'info');\n  };\n  const updateCartItemQuantity = (itemId, quantity) => {\n    if (quantity <= 0) {\n      removeFromCart(itemId);\n    } else {\n      setCartItems(cartItems.map(ci => ci.item_id === itemId ? {\n        ...ci,\n        quantity: Math.min(quantity, ci.max_quantity)\n      } : ci));\n    }\n  };\n  const calculateTotal = useCallback(() => {\n    if (!rentalForm.rental_start || !rentalForm.rental_end) return 0;\n    const start = new Date(rentalForm.rental_start);\n    const end = new Date(rentalForm.rental_end);\n    const days = Math.ceil((end - start) / (1000 * 60 * 60 * 24)) + 1;\n    return cartItems.reduce((total, item) => {\n      return total + item.price_per_day * item.quantity * days;\n    }, 0);\n  }, [cartItems, rentalForm.rental_start, rentalForm.rental_end]);\n\n  // =====================================================\n  // CREAR ALQUILER CON MÚLTIPLES ITEMS\n  // =====================================================\n  const handleCreateRental = async e => {\n    e.preventDefault();\n\n    // Validación\n    if (cartItems.length === 0) {\n      showNotification('Debe agregar al menos un artículo', 'error');\n      return;\n    }\n    if (!rentalForm.customer_name || !rentalForm.customer_id_number || !rentalForm.customer_phone) {\n      showNotification('Complete los datos del cliente', 'error');\n      return;\n    }\n    if (!rentalForm.rental_start || !rentalForm.rental_end) {\n      showNotification('Seleccione las fechas de alquiler', 'error');\n      return;\n    }\n    setLoading(true);\n    try {\n      // Preparar datos para enviar\n      const rentalData = {\n        ...rentalForm,\n        items: cartItems.map(item => ({\n          item_id: item.item_id,\n          quantity_rented: item.quantity\n        }))\n      };\n      const response = await axios.post('/rentals/enhanced', rentalData);\n      if (response.data.success) {\n        showNotification(`Alquiler creado exitosamente - ${response.data.itemsCount} artículo(s)`, 'success');\n\n        // Limpiar formulario y carrito\n        setCartItems([]);\n        setRentalForm({\n          customer_name: '',\n          customer_id_number: '',\n          customer_phone: '',\n          customer_email: '',\n          customer_address: '',\n          rental_start: new Date().toISOString().split('T')[0],\n          rental_end: '',\n          deposit: 0,\n          has_collateral: false,\n          collateral_description: '',\n          notes: '',\n          items: []\n        });\n\n        // Recargar datos\n        await Promise.all([fetchItems(), fetchRentals()]);\n\n        // Cerrar modal\n        setModals({\n          ...modals,\n          rental: false\n        });\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error creating rental:', error);\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Error al crear alquiler';\n      showNotification(errorMessage, 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // =====================================================\n  // PROCESAR DEVOLUCIÓN\n  // =====================================================\n  const handleReturn = async rental => {\n    // Aquí puedes implementar un modal más complejo para seleccionar\n    // qué items y cantidades devolver\n\n    const confirmReturn = window.confirm(`¿Confirmar devolución de alquiler de ${rental.customer_name}?`);\n    if (!confirmReturn) return;\n    setLoading(true);\n    try {\n      // Si el rental tiene múltiples items, necesitarías un modal\n      // para especificar qué se devuelve\n      const returnData = {\n        condition_notes: 'Devolución completa',\n        return_condition: 'bueno'\n      };\n\n      // Si hay items_list (nueva estructura)\n      if (rental.total_items > 1) {\n        // Aquí deberías abrir un modal para seleccionar items\n        returnData.items_returned = [\n          // Este array debería llenarse desde un modal\n          // { item_id: 1, quantity_returned: 2 }\n        ];\n      }\n      await axios.patch(`/rentals/${rental.id}/return`, returnData);\n      showNotification('Devolución procesada exitosamente', 'success');\n      await fetchRentals();\n      await fetchItems();\n    } catch (error) {\n      console.error('Error processing return:', error);\n      showNotification('Error al procesar devolución', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // =====================================================\n  // FUNCIÓN DE NOTIFICACIÓN\n  // =====================================================\n  const showNotification = (message, type = 'info') => {\n    setNotification({\n      message,\n      type\n    });\n    setTimeout(() => setNotification(null), 3000);\n  };\n\n  // =====================================================\n  // FILTROS Y BÚSQUEDA\n  // =====================================================\n  const filteredItems = useMemo(() => {\n    return items.filter(item => {\n      const matchSearch = item.name.toLowerCase().includes(searchTerm.toLowerCase());\n      const matchCategory = filterCategory === 'all' || item.category === filterCategory;\n      return matchSearch && matchCategory;\n    });\n  }, [items, searchTerm, filterCategory]);\n\n  // =====================================================\n  // RENDERIZADO\n  // =====================================================\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rental-container\",\n    children: [notification && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `notification notification-${notification.type}`,\n      children: notification.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rental-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Gesti\\xF3n de Alquileres\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"view-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: currentView === 'items' ? 'active' : '',\n          onClick: () => setCurrentView('items'),\n          children: [/*#__PURE__*/_jsxDEV(Package, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 25\n          }, this), \"Art\\xEDculos\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: currentView === 'rentals' ? 'active' : '',\n          onClick: () => setCurrentView('rentals'),\n          children: [/*#__PURE__*/_jsxDEV(FileText, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 25\n          }, this), \"Alquileres\", rentals.filter(r => r.is_overdue).length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge\",\n            children: rentals.filter(r => r.is_overdue).length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: currentView === 'cart' ? 'active' : '',\n          onClick: () => setCurrentView('cart'),\n          children: [\"\\uD83D\\uDED2 Carrito\", cartItems.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge\",\n            children: cartItems.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-box\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Buscar...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filterCategory,\n          onChange: e => setFilterCategory(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"Todas las categor\\xEDas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"herramientas\",\n            children: \"Herramientas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"equipos\",\n            children: \"Equipos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"vehiculos\",\n            children: \"Veh\\xEDculos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"otros\",\n            children: \"Otros\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => setModals({\n            ...modals,\n            item: true\n          }),\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 25\n          }, this), \"Nuevo Art\\xEDculo\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 13\n    }, this), currentView === 'items' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"items-grid\",\n      children: filteredItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item-card\",\n        children: [item.image_url && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: item.image_url,\n          alt: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"item-category\",\n          children: item.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"item-price\",\n          children: [\"$\", item.daily_rate || 0, \"/d\\xEDa\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"item-availability\",\n          children: [\"Disponible: \", item.quantity_available || 0, \" / \", item.quantity_total || 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"item-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => addToCart(item),\n            disabled: item.quantity_available === 0,\n            children: item.quantity_available > 0 ? 'Agregar al carrito' : 'No disponible'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 29\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 17\n    }, this), currentView === 'rentals' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rentals-list\",\n      children: rentals.map(rental => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `rental-card ${rental.is_overdue ? 'overdue' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rental-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: rental.customer_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [rental.customer_id_number, \" \\u2022 \", rental.customer_phone]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 33\n          }, this), rental.is_overdue && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge badge-danger\",\n            children: [\"Vencido hace \", rental.days_overdue, \" d\\xEDas\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rental-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Art\\xEDculos:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 36\n            }, this), \" \", rental.items_list || rental.item_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Cantidad:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 460,\n              columnNumber: 37\n            }, this), \" \", rental.total_quantity || rental.quantity_rented || 1, \" items\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Per\\xEDodo:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 37\n            }, this), \" \", rental.rental_start, \" - \", rental.rental_end]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Total:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 37\n            }, this), \" $\", rental.total_amount || 0, rental.total_paid > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-success\",\n                children: [\" (Pagado: $\", rental.total_paid, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-warning\",\n                children: [\" - Saldo: $\", (rental.total_amount - rental.total_paid).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rental-actions\",\n          children: [rental.status === 'activo' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-success\",\n              onClick: () => handleReturn(rental),\n              children: [/*#__PURE__*/_jsxDEV(Check, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 45\n              }, this), \"Devolver\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-warning\",\n              children: [/*#__PURE__*/_jsxDEV(CreditCard, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 45\n              }, this), \"Abono\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            children: [/*#__PURE__*/_jsxDEV(Eye, {\n              size: 14\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 37\n            }, this), \"Detalles\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 29\n        }, this)]\n      }, rental.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 17\n    }, this), currentView === 'cart' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-view\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Carrito de Alquiler\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 21\n      }, this), cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-cart\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"El carrito est\\xE1 vac\\xEDo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => setCurrentView('items'),\n          children: \"Ver Art\\xEDculos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-items\",\n          children: cartItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.image_url || '/placeholder.png',\n              alt: item.item_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 522,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-item-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: item.item_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"$\", item.price_per_day, \"/d\\xEDa\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-item-quantity\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => updateCartItemQuantity(item.item_id, item.quantity - 1),\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: item.quantity,\n                onChange: e => updateCartItemQuantity(item.item_id, parseInt(e.target.value)),\n                min: \"1\",\n                max: item.max_quantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 536,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => updateCartItemQuantity(item.item_id, item.quantity + 1),\n                disabled: item.quantity >= item.max_quantity,\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-remove\",\n              onClick: () => removeFromCart(item.item_id),\n              children: /*#__PURE__*/_jsxDEV(X, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 41\n            }, this)]\n          }, item.item_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-summary\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Datos del Cliente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleCreateRental,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Nombre completo *\",\n                value: rentalForm.customer_name,\n                onChange: e => setRentalForm({\n                  ...rentalForm,\n                  customer_name: e.target.value\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"CI/RUC *\",\n                value: rentalForm.customer_id_number,\n                onChange: e => setRentalForm({\n                  ...rentalForm,\n                  customer_id_number: e.target.value\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"tel\",\n                placeholder: \"Tel\\xE9fono *\",\n                value: rentalForm.customer_phone,\n                onChange: e => setRentalForm({\n                  ...rentalForm,\n                  customer_phone: e.target.value\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 593,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                placeholder: \"Email\",\n                value: rentalForm.customer_email,\n                onChange: e => setRentalForm({\n                  ...rentalForm,\n                  customer_email: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 603,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Direcci\\xF3n\",\n              value: rentalForm.customer_address,\n              onChange: e => setRentalForm({\n                ...rentalForm,\n                customer_address: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 614,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Per\\xEDodo de Alquiler\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 624,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: rentalForm.rental_start,\n                onChange: e => setRentalForm({\n                  ...rentalForm,\n                  rental_start: e.target.value\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 626,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: rentalForm.rental_end,\n                onChange: e => setRentalForm({\n                  ...rentalForm,\n                  rental_end: e.target.value\n                }),\n                min: rentalForm.rental_start,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 635,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 625,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                placeholder: \"Dep\\xF3sito\",\n                value: rentalForm.deposit,\n                onChange: e => setRentalForm({\n                  ...rentalForm,\n                  deposit: parseFloat(e.target.value) || 0\n                }),\n                min: \"0\",\n                step: \"0.01\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 648,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-check\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                id: \"has_collateral\",\n                checked: rentalForm.has_collateral,\n                onChange: e => setRentalForm({\n                  ...rentalForm,\n                  has_collateral: e.target.checked\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 662,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"has_collateral\",\n                children: \"Tiene prenda/garant\\xEDa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 671,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 661,\n              columnNumber: 37\n            }, this), rentalForm.has_collateral && /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Descripci\\xF3n de la prenda\",\n              value: rentalForm.collateral_description,\n              onChange: e => setRentalForm({\n                ...rentalForm,\n                collateral_description: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              placeholder: \"Notas adicionales\",\n              value: rentalForm.notes,\n              onChange: e => setRentalForm({\n                ...rentalForm,\n                notes: e.target.value\n              }),\n              rows: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 688,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"total-summary\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [\"Total: $\", calculateTotal().toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 699,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 698,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary btn-block\",\n              disabled: loading,\n              children: loading ? 'Procesando...' : 'Crear Alquiler'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 702,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 330,\n    columnNumber: 9\n  }, this);\n}\n_s(Rental, \"V1D0VIZpkrCA3MDVAzfy/O4uxDg=\");\n_c = Rental;\nexport default Rental;\nvar _c;\n$RefreshReg$(_c, \"Rental\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","axios","Package","User","Calendar","DollarSign","Search","Filter","Plus","X","Check","AlertCircle","Clock","Phone","Mail","MapPin","Shield","Edit","Trash2","Eye","ChevronDown","ChevronUp","RefreshCw","FileText","CreditCard","jsxDEV","_jsxDEV","Fragment","_Fragment","API_URL","process","env","REACT_APP_API_URL","defaults","baseURL","Rental","updateTabData","_s","items","setItems","rentals","setRentals","loading","setLoading","notification","setNotification","currentView","setCurrentView","searchTerm","setSearchTerm","filterCategory","setFilterCategory","modals","setModals","item","rental","return","payment","rentalForm","setRentalForm","customer_name","customer_id_number","customer_phone","customer_email","customer_address","rental_start","Date","toISOString","split","rental_end","deposit","has_collateral","collateral_description","notes","selectedItems","setSelectedItems","cartItems","setCartItems","loadInitialData","overdueCount","filter","r","status","length","Promise","all","fetchItems","fetchRentals","error","showNotification","response","get","data","console","addToCart","existingItem","find","ci","item_id","id","quantity","quantity_available","map","name","newCartItem","item_name","max_quantity","price_per_day","daily_rate","image_url","removeFromCart","itemId","updateCartItemQuantity","Math","min","calculateTotal","start","end","days","ceil","reduce","total","handleCreateRental","e","preventDefault","rentalData","quantity_rented","post","success","itemsCount","_error$response","_error$response$data","errorMessage","handleReturn","confirmReturn","window","confirm","returnData","condition_notes","return_condition","total_items","items_returned","patch","message","type","setTimeout","filteredItems","matchSearch","toLowerCase","includes","matchCategory","category","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","is_overdue","placeholder","value","onChange","target","src","alt","quantity_total","disabled","days_overdue","items_list","total_quantity","total_amount","total_paid","toFixed","parseInt","max","onSubmit","required","parseFloat","step","checked","htmlFor","rows","_c","$RefreshReg$"],"sources":["C:/Users/Silvia/WebstormProjects/TASK/task-manager/frontend/src/Rental.jsx"],"sourcesContent":["// =====================================================\r\n// ARCHIVO: frontend/src/Rental.jsx\r\n// Sistema de alquileres con múltiples items corregido\r\n// =====================================================\r\n\r\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n    Package, User, Calendar, DollarSign, Search, Filter,\r\n    Plus, X, Check, AlertCircle, Clock, Phone, Mail,\r\n    MapPin, Shield, Edit, Trash2, Eye, ChevronDown,\r\n    ChevronUp, RefreshCw, FileText, CreditCard\r\n} from 'lucide-react';\r\n\r\n// Configuración de API\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\r\n\r\n// Configuración de axios\r\naxios.defaults.baseURL = API_URL;\r\n\r\nfunction Rental({ updateTabData }) {\r\n    // =====================================================\r\n    // ESTADOS PRINCIPALES\r\n    // =====================================================\r\n    const [items, setItems] = useState([]);\r\n    const [rentals, setRentals] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [notification, setNotification] = useState(null);\r\n\r\n    // Estados de vista\r\n    const [currentView, setCurrentView] = useState('items');\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [filterCategory, setFilterCategory] = useState('all');\r\n\r\n    // Estados de modales\r\n    const [modals, setModals] = useState({\r\n        item: false,\r\n        rental: false,\r\n        return: false,\r\n        payment: false\r\n    });\r\n\r\n    // Estado para alquiler múltiple\r\n    const [rentalForm, setRentalForm] = useState({\r\n        customer_name: '',\r\n        customer_id_number: '',\r\n        customer_phone: '',\r\n        customer_email: '',\r\n        customer_address: '',\r\n        rental_start: new Date().toISOString().split('T')[0],\r\n        rental_end: '',\r\n        deposit: 0,\r\n        has_collateral: false,\r\n        collateral_description: '',\r\n        notes: '',\r\n        items: [] // Array de items a alquilar\r\n    });\r\n\r\n    // Estado para items seleccionados\r\n    const [selectedItems, setSelectedItems] = useState([]);\r\n    const [cartItems, setCartItems] = useState([]);\r\n\r\n    // =====================================================\r\n    // EFECTOS\r\n    // =====================================================\r\n    useEffect(() => {\r\n        loadInitialData();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        // Actualizar notificaciones del tab\r\n        if (updateTabData) {\r\n            const overdueCount = rentals.filter(r =>\r\n                r.status === 'activo' &&\r\n                new Date(r.rental_end) < new Date()\r\n            ).length;\r\n\r\n            updateTabData({\r\n                notification: overdueCount > 0 ? overdueCount : null\r\n            });\r\n        }\r\n    }, [rentals, updateTabData]);\r\n\r\n    // =====================================================\r\n    // FUNCIONES DE CARGA DE DATOS\r\n    // =====================================================\r\n    const loadInitialData = async () => {\r\n        setLoading(true);\r\n        try {\r\n            await Promise.all([\r\n                fetchItems(),\r\n                fetchRentals()\r\n            ]);\r\n        } catch (error) {\r\n            showNotification('Error al cargar datos', 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchItems = async () => {\r\n        try {\r\n            const response = await axios.get('/rental-items/enhanced');\r\n            setItems(response.data);\r\n        } catch (error) {\r\n            console.error('Error fetching items:', error);\r\n            showNotification('Error al cargar artículos', 'error');\r\n        }\r\n    };\r\n\r\n    const fetchRentals = async () => {\r\n        try {\r\n            const response = await axios.get('/rentals/enhanced');\r\n            setRentals(response.data);\r\n        } catch (error) {\r\n            console.error('Error fetching rentals:', error);\r\n            showNotification('Error al cargar alquileres', 'error');\r\n        }\r\n    };\r\n\r\n    // =====================================================\r\n    // FUNCIONES DEL CARRITO DE ALQUILER\r\n    // =====================================================\r\n    const addToCart = (item) => {\r\n        const existingItem = cartItems.find(ci => ci.item_id === item.id);\r\n\r\n        if (existingItem) {\r\n            // Si ya existe, aumentar cantidad\r\n            if (existingItem.quantity < item.quantity_available) {\r\n                setCartItems(cartItems.map(ci =>\r\n                    ci.item_id === item.id\r\n                        ? { ...ci, quantity: ci.quantity + 1 }\r\n                        : ci\r\n                ));\r\n                showNotification(`${item.name} - Cantidad: ${existingItem.quantity + 1}`, 'info');\r\n            } else {\r\n                showNotification('No hay más unidades disponibles', 'warning');\r\n            }\r\n        } else {\r\n            // Agregar nuevo item al carrito\r\n            if (item.quantity_available > 0) {\r\n                const newCartItem = {\r\n                    item_id: item.id,\r\n                    item_name: item.name,\r\n                    quantity: 1,\r\n                    max_quantity: item.quantity_available,\r\n                    price_per_day: item.daily_rate || 0,\r\n                    image_url: item.image_url\r\n                };\r\n                setCartItems([...cartItems, newCartItem]);\r\n                showNotification(`${item.name} agregado al carrito`, 'success');\r\n            } else {\r\n                showNotification('Artículo no disponible', 'error');\r\n            }\r\n        }\r\n    };\r\n\r\n    const removeFromCart = (itemId) => {\r\n        setCartItems(cartItems.filter(ci => ci.item_id !== itemId));\r\n        showNotification('Artículo removido del carrito', 'info');\r\n    };\r\n\r\n    const updateCartItemQuantity = (itemId, quantity) => {\r\n        if (quantity <= 0) {\r\n            removeFromCart(itemId);\r\n        } else {\r\n            setCartItems(cartItems.map(ci =>\r\n                ci.item_id === itemId\r\n                    ? { ...ci, quantity: Math.min(quantity, ci.max_quantity) }\r\n                    : ci\r\n            ));\r\n        }\r\n    };\r\n\r\n    const calculateTotal = useCallback(() => {\r\n        if (!rentalForm.rental_start || !rentalForm.rental_end) return 0;\r\n\r\n        const start = new Date(rentalForm.rental_start);\r\n        const end = new Date(rentalForm.rental_end);\r\n        const days = Math.ceil((end - start) / (1000 * 60 * 60 * 24)) + 1;\r\n\r\n        return cartItems.reduce((total, item) => {\r\n            return total + (item.price_per_day * item.quantity * days);\r\n        }, 0);\r\n    }, [cartItems, rentalForm.rental_start, rentalForm.rental_end]);\r\n\r\n    // =====================================================\r\n    // CREAR ALQUILER CON MÚLTIPLES ITEMS\r\n    // =====================================================\r\n    const handleCreateRental = async (e) => {\r\n        e.preventDefault();\r\n\r\n        // Validación\r\n        if (cartItems.length === 0) {\r\n            showNotification('Debe agregar al menos un artículo', 'error');\r\n            return;\r\n        }\r\n\r\n        if (!rentalForm.customer_name || !rentalForm.customer_id_number || !rentalForm.customer_phone) {\r\n            showNotification('Complete los datos del cliente', 'error');\r\n            return;\r\n        }\r\n\r\n        if (!rentalForm.rental_start || !rentalForm.rental_end) {\r\n            showNotification('Seleccione las fechas de alquiler', 'error');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n\r\n        try {\r\n            // Preparar datos para enviar\r\n            const rentalData = {\r\n                ...rentalForm,\r\n                items: cartItems.map(item => ({\r\n                    item_id: item.item_id,\r\n                    quantity_rented: item.quantity\r\n                }))\r\n            };\r\n\r\n            const response = await axios.post('/rentals/enhanced', rentalData);\r\n\r\n            if (response.data.success) {\r\n                showNotification(\r\n                    `Alquiler creado exitosamente - ${response.data.itemsCount} artículo(s)`,\r\n                    'success'\r\n                );\r\n\r\n                // Limpiar formulario y carrito\r\n                setCartItems([]);\r\n                setRentalForm({\r\n                    customer_name: '',\r\n                    customer_id_number: '',\r\n                    customer_phone: '',\r\n                    customer_email: '',\r\n                    customer_address: '',\r\n                    rental_start: new Date().toISOString().split('T')[0],\r\n                    rental_end: '',\r\n                    deposit: 0,\r\n                    has_collateral: false,\r\n                    collateral_description: '',\r\n                    notes: '',\r\n                    items: []\r\n                });\r\n\r\n                // Recargar datos\r\n                await Promise.all([fetchItems(), fetchRentals()]);\r\n\r\n                // Cerrar modal\r\n                setModals({ ...modals, rental: false });\r\n            }\r\n        } catch (error) {\r\n            console.error('Error creating rental:', error);\r\n            const errorMessage = error.response?.data?.error || 'Error al crear alquiler';\r\n            showNotification(errorMessage, 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // =====================================================\r\n    // PROCESAR DEVOLUCIÓN\r\n    // =====================================================\r\n    const handleReturn = async (rental) => {\r\n        // Aquí puedes implementar un modal más complejo para seleccionar\r\n        // qué items y cantidades devolver\r\n\r\n        const confirmReturn = window.confirm(\r\n            `¿Confirmar devolución de alquiler de ${rental.customer_name}?`\r\n        );\r\n\r\n        if (!confirmReturn) return;\r\n\r\n        setLoading(true);\r\n\r\n        try {\r\n            // Si el rental tiene múltiples items, necesitarías un modal\r\n            // para especificar qué se devuelve\r\n            const returnData = {\r\n                condition_notes: 'Devolución completa',\r\n                return_condition: 'bueno'\r\n            };\r\n\r\n            // Si hay items_list (nueva estructura)\r\n            if (rental.total_items > 1) {\r\n                // Aquí deberías abrir un modal para seleccionar items\r\n                returnData.items_returned = [\r\n                    // Este array debería llenarse desde un modal\r\n                    // { item_id: 1, quantity_returned: 2 }\r\n                ];\r\n            }\r\n\r\n            await axios.patch(`/rentals/${rental.id}/return`, returnData);\r\n\r\n            showNotification('Devolución procesada exitosamente', 'success');\r\n            await fetchRentals();\r\n            await fetchItems();\r\n\r\n        } catch (error) {\r\n            console.error('Error processing return:', error);\r\n            showNotification('Error al procesar devolución', 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // =====================================================\r\n    // FUNCIÓN DE NOTIFICACIÓN\r\n    // =====================================================\r\n    const showNotification = (message, type = 'info') => {\r\n        setNotification({ message, type });\r\n        setTimeout(() => setNotification(null), 3000);\r\n    };\r\n\r\n    // =====================================================\r\n    // FILTROS Y BÚSQUEDA\r\n    // =====================================================\r\n    const filteredItems = useMemo(() => {\r\n        return items.filter(item => {\r\n            const matchSearch = item.name.toLowerCase().includes(searchTerm.toLowerCase());\r\n            const matchCategory = filterCategory === 'all' || item.category === filterCategory;\r\n            return matchSearch && matchCategory;\r\n        });\r\n    }, [items, searchTerm, filterCategory]);\r\n\r\n    // =====================================================\r\n    // RENDERIZADO\r\n    // =====================================================\r\n    return (\r\n        <div className=\"rental-container\">\r\n            {/* Notificación */}\r\n            {notification && (\r\n                <div className={`notification notification-${notification.type}`}>\r\n                    {notification.message}\r\n                </div>\r\n            )}\r\n\r\n            {/* Header */}\r\n            <div className=\"rental-header\">\r\n                <h1>Gestión de Alquileres</h1>\r\n\r\n                {/* Tabs de vista */}\r\n                <div className=\"view-tabs\">\r\n                    <button\r\n                        className={currentView === 'items' ? 'active' : ''}\r\n                        onClick={() => setCurrentView('items')}\r\n                    >\r\n                        <Package size={16} />\r\n                        Artículos\r\n                    </button>\r\n                    <button\r\n                        className={currentView === 'rentals' ? 'active' : ''}\r\n                        onClick={() => setCurrentView('rentals')}\r\n                    >\r\n                        <FileText size={16} />\r\n                        Alquileres\r\n                        {rentals.filter(r => r.is_overdue).length > 0 && (\r\n                            <span className=\"badge\">\r\n                                {rentals.filter(r => r.is_overdue).length}\r\n                            </span>\r\n                        )}\r\n                    </button>\r\n                    <button\r\n                        className={currentView === 'cart' ? 'active' : ''}\r\n                        onClick={() => setCurrentView('cart')}\r\n                    >\r\n                        🛒 Carrito\r\n                        {cartItems.length > 0 && (\r\n                            <span className=\"badge\">{cartItems.length}</span>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Controles */}\r\n                <div className=\"header-controls\">\r\n                    <div className=\"search-box\">\r\n                        <Search size={16} />\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Buscar...\"\r\n                            value={searchTerm}\r\n                            onChange={(e) => setSearchTerm(e.target.value)}\r\n                        />\r\n                    </div>\r\n\r\n                    <select\r\n                        value={filterCategory}\r\n                        onChange={(e) => setFilterCategory(e.target.value)}\r\n                    >\r\n                        <option value=\"all\">Todas las categorías</option>\r\n                        <option value=\"herramientas\">Herramientas</option>\r\n                        <option value=\"equipos\">Equipos</option>\r\n                        <option value=\"vehiculos\">Vehículos</option>\r\n                        <option value=\"otros\">Otros</option>\r\n                    </select>\r\n\r\n                    <button\r\n                        className=\"btn btn-primary\"\r\n                        onClick={() => setModals({ ...modals, item: true })}\r\n                    >\r\n                        <Plus size={16} />\r\n                        Nuevo Artículo\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Vista de Artículos */}\r\n            {currentView === 'items' && (\r\n                <div className=\"items-grid\">\r\n                    {filteredItems.map(item => (\r\n                        <div key={item.id} className=\"item-card\">\r\n                            {item.image_url && (\r\n                                <img src={item.image_url} alt={item.name} />\r\n                            )}\r\n                            <h3>{item.name}</h3>\r\n                            <p className=\"item-category\">{item.category}</p>\r\n                            <p className=\"item-price\">\r\n                                ${item.daily_rate || 0}/día\r\n                            </p>\r\n                            <p className=\"item-availability\">\r\n                                Disponible: {item.quantity_available || 0} / {item.quantity_total || 1}\r\n                            </p>\r\n                            <div className=\"item-actions\">\r\n                                <button\r\n                                    className=\"btn btn-primary\"\r\n                                    onClick={() => addToCart(item)}\r\n                                    disabled={item.quantity_available === 0}\r\n                                >\r\n                                    {item.quantity_available > 0 ? 'Agregar al carrito' : 'No disponible'}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            {/* Vista de Alquileres */}\r\n            {currentView === 'rentals' && (\r\n                <div className=\"rentals-list\">\r\n                    {rentals.map(rental => (\r\n                        <div\r\n                            key={rental.id}\r\n                            className={`rental-card ${rental.is_overdue ? 'overdue' : ''}`}\r\n                        >\r\n                            <div className=\"rental-header\">\r\n                                <div>\r\n                                    <h4>{rental.customer_name}</h4>\r\n                                    <p>{rental.customer_id_number} • {rental.customer_phone}</p>\r\n                                </div>\r\n                                {rental.is_overdue && (\r\n                                    <span className=\"badge badge-danger\">\r\n                                        Vencido hace {rental.days_overdue} días\r\n                                    </span>\r\n                                )}\r\n                            </div>\r\n\r\n                            <div className=\"rental-body\">\r\n                                <p><strong>Artículos:</strong> {rental.items_list || rental.item_name}</p>\r\n                                <p>\r\n                                    <strong>Cantidad:</strong> {rental.total_quantity || rental.quantity_rented || 1} items\r\n                                </p>\r\n                                <p>\r\n                                    <strong>Período:</strong> {rental.rental_start} - {rental.rental_end}\r\n                                </p>\r\n                                <p>\r\n                                    <strong>Total:</strong> ${rental.total_amount || 0}\r\n                                    {rental.total_paid > 0 && (\r\n                                        <>\r\n                                            <span className=\"text-success\"> (Pagado: ${rental.total_paid})</span>\r\n                                            <span className=\"text-warning\"> - Saldo: ${(rental.total_amount - rental.total_paid).toFixed(2)}</span>\r\n                                        </>\r\n                                    )}\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div className=\"rental-actions\">\r\n                                {rental.status === 'activo' && (\r\n                                    <>\r\n                                        <button\r\n                                            className=\"btn btn-success\"\r\n                                            onClick={() => handleReturn(rental)}\r\n                                        >\r\n                                            <Check size={14} />\r\n                                            Devolver\r\n                                        </button>\r\n                                        <button className=\"btn btn-warning\">\r\n                                            <CreditCard size={14} />\r\n                                            Abono\r\n                                        </button>\r\n                                    </>\r\n                                )}\r\n                                <button className=\"btn btn-secondary\">\r\n                                    <Eye size={14} />\r\n                                    Detalles\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            {/* Vista del Carrito */}\r\n            {currentView === 'cart' && (\r\n                <div className=\"cart-view\">\r\n                    <h2>Carrito de Alquiler</h2>\r\n\r\n                    {cartItems.length === 0 ? (\r\n                        <div className=\"empty-cart\">\r\n                            <p>El carrito está vacío</p>\r\n                            <button\r\n                                className=\"btn btn-primary\"\r\n                                onClick={() => setCurrentView('items')}\r\n                            >\r\n                                Ver Artículos\r\n                            </button>\r\n                        </div>\r\n                    ) : (\r\n                        <>\r\n                            <div className=\"cart-items\">\r\n                                {cartItems.map(item => (\r\n                                    <div key={item.item_id} className=\"cart-item\">\r\n                                        <img src={item.image_url || '/placeholder.png'} alt={item.item_name} />\r\n                                        <div className=\"cart-item-info\">\r\n                                            <h4>{item.item_name}</h4>\r\n                                            <p>${item.price_per_day}/día</p>\r\n                                        </div>\r\n                                        <div className=\"cart-item-quantity\">\r\n                                            <button\r\n                                                onClick={() => updateCartItemQuantity(\r\n                                                    item.item_id,\r\n                                                    item.quantity - 1\r\n                                                )}\r\n                                            >\r\n                                                -\r\n                                            </button>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                value={item.quantity}\r\n                                                onChange={(e) => updateCartItemQuantity(\r\n                                                    item.item_id,\r\n                                                    parseInt(e.target.value)\r\n                                                )}\r\n                                                min=\"1\"\r\n                                                max={item.max_quantity}\r\n                                            />\r\n                                            <button\r\n                                                onClick={() => updateCartItemQuantity(\r\n                                                    item.item_id,\r\n                                                    item.quantity + 1\r\n                                                )}\r\n                                                disabled={item.quantity >= item.max_quantity}\r\n                                            >\r\n                                                +\r\n                                            </button>\r\n                                        </div>\r\n                                        <button\r\n                                            className=\"btn-remove\"\r\n                                            onClick={() => removeFromCart(item.item_id)}\r\n                                        >\r\n                                            <X size={16} />\r\n                                        </button>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n\r\n                            <div className=\"cart-summary\">\r\n                                <h3>Datos del Cliente</h3>\r\n                                <form onSubmit={handleCreateRental}>\r\n                                    <div className=\"form-row\">\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            placeholder=\"Nombre completo *\"\r\n                                            value={rentalForm.customer_name}\r\n                                            onChange={(e) => setRentalForm({\r\n                                                ...rentalForm,\r\n                                                customer_name: e.target.value\r\n                                            })}\r\n                                            required\r\n                                        />\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            placeholder=\"CI/RUC *\"\r\n                                            value={rentalForm.customer_id_number}\r\n                                            onChange={(e) => setRentalForm({\r\n                                                ...rentalForm,\r\n                                                customer_id_number: e.target.value\r\n                                            })}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-row\">\r\n                                        <input\r\n                                            type=\"tel\"\r\n                                            placeholder=\"Teléfono *\"\r\n                                            value={rentalForm.customer_phone}\r\n                                            onChange={(e) => setRentalForm({\r\n                                                ...rentalForm,\r\n                                                customer_phone: e.target.value\r\n                                            })}\r\n                                            required\r\n                                        />\r\n                                        <input\r\n                                            type=\"email\"\r\n                                            placeholder=\"Email\"\r\n                                            value={rentalForm.customer_email}\r\n                                            onChange={(e) => setRentalForm({\r\n                                                ...rentalForm,\r\n                                                customer_email: e.target.value\r\n                                            })}\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        placeholder=\"Dirección\"\r\n                                        value={rentalForm.customer_address}\r\n                                        onChange={(e) => setRentalForm({\r\n                                            ...rentalForm,\r\n                                            customer_address: e.target.value\r\n                                        })}\r\n                                    />\r\n\r\n                                    <h3>Período de Alquiler</h3>\r\n                                    <div className=\"form-row\">\r\n                                        <input\r\n                                            type=\"date\"\r\n                                            value={rentalForm.rental_start}\r\n                                            onChange={(e) => setRentalForm({\r\n                                                ...rentalForm,\r\n                                                rental_start: e.target.value\r\n                                            })}\r\n                                            required\r\n                                        />\r\n                                        <input\r\n                                            type=\"date\"\r\n                                            value={rentalForm.rental_end}\r\n                                            onChange={(e) => setRentalForm({\r\n                                                ...rentalForm,\r\n                                                rental_end: e.target.value\r\n                                            })}\r\n                                            min={rentalForm.rental_start}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-row\">\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            placeholder=\"Depósito\"\r\n                                            value={rentalForm.deposit}\r\n                                            onChange={(e) => setRentalForm({\r\n                                                ...rentalForm,\r\n                                                deposit: parseFloat(e.target.value) || 0\r\n                                            })}\r\n                                            min=\"0\"\r\n                                            step=\"0.01\"\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-check\">\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            id=\"has_collateral\"\r\n                                            checked={rentalForm.has_collateral}\r\n                                            onChange={(e) => setRentalForm({\r\n                                                ...rentalForm,\r\n                                                has_collateral: e.target.checked\r\n                                            })}\r\n                                        />\r\n                                        <label htmlFor=\"has_collateral\">\r\n                                            Tiene prenda/garantía\r\n                                        </label>\r\n                                    </div>\r\n\r\n                                    {rentalForm.has_collateral && (\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            placeholder=\"Descripción de la prenda\"\r\n                                            value={rentalForm.collateral_description}\r\n                                            onChange={(e) => setRentalForm({\r\n                                                ...rentalForm,\r\n                                                collateral_description: e.target.value\r\n                                            })}\r\n                                        />\r\n                                    )}\r\n\r\n                                    <textarea\r\n                                        placeholder=\"Notas adicionales\"\r\n                                        value={rentalForm.notes}\r\n                                        onChange={(e) => setRentalForm({\r\n                                            ...rentalForm,\r\n                                            notes: e.target.value\r\n                                        })}\r\n                                        rows=\"3\"\r\n                                    />\r\n\r\n                                    <div className=\"total-summary\">\r\n                                        <h3>Total: ${calculateTotal().toFixed(2)}</h3>\r\n                                    </div>\r\n\r\n                                    <button\r\n                                        type=\"submit\"\r\n                                        className=\"btn btn-primary btn-block\"\r\n                                        disabled={loading}\r\n                                    >\r\n                                        {loading ? 'Procesando...' : 'Crear Alquiler'}\r\n                                    </button>\r\n                                </form>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Rental;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}