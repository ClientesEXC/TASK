{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Silvia\\\\WebstormProjects\\\\TASK\\\\task-manager\\\\frontend\\\\src\\\\Rental.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// task-manager/frontend/src/Rental.jsx\nimport { API_URL } from './config/api';\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport axios from 'axios';\nimport { Plus, Edit2, Trash2, Calendar, DollarSign, Package, User, Clock, Search, Filter, X, AlertCircle, CheckCircle, ArrowRight, Key, Home, Phone, Mail, MapPin, CreditCard, FileText, Shield, RotateCcw, AlertTriangle, Eye, Archive, TrendingUp, Hash, Camera, ChevronLeft, ChevronRight, Download, RefreshCw } from 'lucide-react';\nimport './Rental.css';\n\n// Configuraci칩n de categor칤as y estados\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CATEGORIES = {\n  herramientas: {\n    label: 'Mesas'\n  },\n  construccion: {\n    label: 'N칰meros'\n  },\n  jardineria: {\n    label: 'Sillas'\n  },\n  otros: {\n    label: 'Otros',\n    icon: '游닍'\n  }\n};\nconst STATUS_CONFIG = {\n  disponible: {\n    label: 'Disponible',\n    color: '#10b981',\n    bgColor: '#d1fae5'\n  },\n  agotado: {\n    label: 'Agotado',\n    color: '#ef4444',\n    bgColor: '#fee2e2'\n  },\n  alquilado: {\n    label: 'Alquilado',\n    color: '#f59e0b',\n    bgColor: '#fef3c7'\n  },\n  mantenimiento: {\n    label: 'Mantenimiento',\n    color: '#6b7280',\n    bgColor: '#f3f4f6'\n  }\n};\n\n// Componente de Notificaci칩n\nconst Notification = ({\n  message,\n  type = 'success',\n  onClose\n}) => {\n  _s();\n  useEffect(() => {\n    const timer = setTimeout(onClose, 3000);\n    return () => clearTimeout(timer);\n  }, [onClose]);\n  const colors = {\n    success: '#10b981',\n    error: '#ef4444',\n    warning: '#f59e0b',\n    info: '#3b82f6'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"notification\",\n    style: {\n      background: colors[type]\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onClose,\n      className: \"notification-close\",\n      children: /*#__PURE__*/_jsxDEV(X, {\n        size: 16\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n\n// Componente principal\n_s(Notification, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = Notification;\nfunction Rental({\n  updateTabData\n}) {\n  _s2();\n  var _items$find;\n  // Estados principales\n  const [items, setItems] = useState([]);\n  const [rentals, setRentals] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [notification, setNotification] = useState(null);\n\n  // Estados de vista y filtros\n  const [currentView, setCurrentView] = useState('items');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterCategory, setFilterCategory] = useState('all');\n  const [filterStatus, setFilterStatus] = useState('all');\n  const [sortBy, setSortBy] = useState('name');\n  const [sortOrder, setSortOrder] = useState('asc');\n\n  // Estados de modales\n  const [modals, setModals] = useState({\n    item: false,\n    rental: false,\n    return: false,\n    payment: false,\n    details: false\n  });\n\n  // Estados de formularios\n  const [editingItem, setEditingItem] = useState(null);\n  const [selectedItem, setSelectedItem] = useState(null);\n  const [selectedRental, setSelectedRental] = useState(null);\n  const [payments, setPayments] = useState([]);\n\n  // Estado del formulario de art칤culo\n  const [itemForm, setItemForm] = useState({\n    name: '',\n    description: '',\n    category: 'herramientas',\n    quantity: 1,\n    rental_price: 0,\n    image_url: ''\n  });\n\n  // Estado del formulario de alquiler\n  const [rentalForm, setRentalForm] = useState({\n    item_id: [],\n    customer_name: '',\n    customer_id_number: '',\n    customer_address: '',\n    customer_phone: '',\n    customer_email: '',\n    rental_start: new Date().toISOString().split('T')[0],\n    rental_end: '',\n    quantity_rented: 1,\n    has_collateral: false,\n    collateral_description: '',\n    total_amount: 0,\n    initial_deposit: 0,\n    notes: ''\n  });\n\n  // Estado para el art칤culo que se est치 agregando actualmente\n  const [currentItemSelection, setCurrentItemSelection] = useState({\n    item_id: '',\n    quantity: 1\n  });\n  const addItemToRental = () => {\n    if (!currentItemSelection.item_id) {\n      showNotification('Por favor seleccione un art칤culo', 'warning');\n      return;\n    }\n    const selectedItem = items.find(i => i.id === parseInt(currentItemSelection.item_id));\n    if (!selectedItem) return;\n\n    // Verificar si el art칤culo ya est치 en la lista\n    const existingIndex = rentalForm.items.findIndex(item => item.item_id === parseInt(currentItemSelection.item_id));\n    if (existingIndex >= 0) {\n      // Si ya existe, actualizar la cantidad\n      const updatedItems = [...rentalForm.items];\n      const newQuantity = updatedItems[existingIndex].quantity + currentItemSelection.quantity;\n      if (newQuantity > selectedItem.quantity_available) {\n        showNotification(`Solo hay ${selectedItem.quantity_available} unidades disponibles`, 'error');\n        return;\n      }\n      updatedItems[existingIndex].quantity = newQuantity;\n      setRentalForm({\n        ...rentalForm,\n        items: updatedItems\n      });\n    } else {\n      // Si no existe, agregar nuevo\n      if (currentItemSelection.quantity > selectedItem.quantity_available) {\n        showNotification(`Solo hay ${selectedItem.quantity_available} unidades disponibles`, 'error');\n        return;\n      }\n      const newItem = {\n        item_id: parseInt(currentItemSelection.item_id),\n        name: selectedItem.name,\n        quantity: currentItemSelection.quantity,\n        daily_rate: selectedItem.daily_rate || 0,\n        available: selectedItem.quantity_available\n      };\n      setRentalForm({\n        ...rentalForm,\n        items: [...rentalForm.items, newItem]\n      });\n    }\n\n    // Limpiar selecci칩n actual\n    setCurrentItemSelection({\n      item_id: '',\n      quantity: 1\n    });\n    showNotification('Art칤culo agregado', 'success');\n  };\n\n  // 3. Funci칩n para quitar un art칤culo de la lista\n  const removeItemFromRental = itemId => {\n    setRentalForm({\n      ...rentalForm,\n      items: rentalForm.items.filter(item => item.item_id !== itemId)\n    });\n  };\n  const calculateTotalPrice = useCallback(() => {\n    if (!rentalForm.rental_start || !rentalForm.rental_end || rentalForm.items.length === 0) {\n      return 0;\n    }\n    const start = new Date(rentalForm.rental_start);\n    const end = new Date(rentalForm.rental_end);\n    const days = Math.ceil((end - start) / (1000 * 60 * 60 * 24)) + 1;\n    return rentalForm.items.reduce((total, item) => {\n      return total + item.daily_rate * item.quantity * days;\n    }, 0);\n  }, [rentalForm.rental_start, rentalForm.rental_end, rentalForm.items]);\n\n  // 5. Actualizar el precio autom치ticamente\n  useEffect(() => {\n    const total = calculateTotalPrice();\n    setRentalForm(prev => ({\n      ...prev,\n      total_amount: total\n    }));\n  }, [calculateTotalPrice]);\n\n  // Estado del formulario de devoluci칩n\n  const [returnForm, setReturnForm] = useState({\n    condition: 'bueno',\n    notes: '',\n    final_payment: 0\n  });\n\n  // Estado del formulario de pago\n  const [paymentForm, setPaymentForm] = useState({\n    amount: 0,\n    payment_method: 'efectivo',\n    notes: ''\n  });\n  // Estados de subida de imagen\n  const [imageFile, setImageFile] = useState(null);\n  const [imagePreview, setImagePreview] = useState('');\n  const [uploadingImage, setUploadingImage] = useState(false);\n  // Estad칤sticas computadas\n  const stats = useMemo(() => {\n    // Calcular totales de items\n    const totalItems = items.length;\n    const totalUnits = items.reduce((sum, item) => {\n      return sum + (parseInt(item.quantity_total) || 0);\n    }, 0);\n    const availableUnits = items.reduce((sum, item) => {\n      return sum + (parseInt(item.quantity_available) || 0);\n    }, 0);\n\n    // Calcular unidades alquiladas correctamente\n    const rentedUnits = Math.max(0, totalUnits - availableUnits);\n\n    // Calcular alquileres activos\n    const activeRentals = rentals.filter(r => r.status === 'activo');\n    const today = new Date();\n    const overdueRentals = activeRentals.filter(r => {\n      const endDate = new Date(r.rental_end);\n      return endDate < today;\n    });\n    return {\n      totalItems,\n      totalUnits,\n      availableUnits,\n      rentedUnits,\n      // Siempre ser치 >= 0\n      activeRentals: activeRentals.length,\n      overdueRentals: overdueRentals.length\n    };\n  }, [items, rentals]);\n  // Cargar datos iniciales\n  useEffect(() => {\n    loadInitialData();\n  }, []);\n\n  // Actualizar badge de pendientes\n  useEffect(() => {\n    if (updateTabData) {\n      updateTabData({\n        notification: stats.overdueRentals > 0 ? stats.overdueRentals : null\n      });\n    }\n  }, [stats.overdueRentals]);\n\n  // Funciones de carga de datos\n  const loadInitialData = async () => {\n    setLoading(true);\n    try {\n      await Promise.all([fetchItems(), fetchRentals()]);\n    } catch (error) {\n      showNotification('Error al cargar datos', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchItems = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/rental-items/enhanced`);\n      setItems(response.data);\n    } catch (error) {\n      console.error('Error fetching items:', error);\n      setError('Error al cargar art칤culos');\n    }\n  };\n  const fetchRentals = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/rentals/enhanced`);\n      setRentals(response.data);\n    } catch (error) {\n      console.error('Error fetching rentals:', error);\n      setError('Error al cargar alquileres');\n    }\n  };\n  const fetchPayments = async rentalId => {\n    if (!rentalId) {\n      console.error('No rental ID provided');\n      setPayments([]); // Establecer array vac칤o si no hay ID\n      return;\n    }\n    try {\n      const response = await axios.get(`${API_URL}/rentals/${rentalId}/payments`);\n      // Asegurar que siempre sea un array\n      setPayments(Array.isArray(response.data) ? response.data : []);\n    } catch (error) {\n      console.error('Error fetching payments:', error);\n      setPayments([]); // En caso de error, establecer array vac칤o\n      showNotification('Error al cargar los abonos', 'error');\n    }\n  };\n\n  // Funciones de filtrado y ordenamiento\n  const getFilteredItems = useCallback(() => {\n    let filtered = [...items];\n\n    // B칰squeda\n    if (searchTerm) {\n      const search = searchTerm.toLowerCase();\n      filtered = filtered.filter(item => {\n        var _item$name, _item$description;\n        return ((_item$name = item.name) === null || _item$name === void 0 ? void 0 : _item$name.toLowerCase().includes(search)) || ((_item$description = item.description) === null || _item$description === void 0 ? void 0 : _item$description.toLowerCase().includes(search));\n      });\n    }\n\n    // Filtro por categor칤a\n    if (filterCategory !== 'all') {\n      filtered = filtered.filter(item => item.category === filterCategory);\n    }\n\n    // Filtro por estado\n    if (filterStatus !== 'all') {\n      if (filterStatus === 'disponible') {\n        filtered = filtered.filter(item => item.quantity_available > 0);\n      } else if (filterStatus === 'agotado') {\n        filtered = filtered.filter(item => item.quantity_available === 0);\n      }\n    }\n\n    // Ordenamiento\n    filtered.sort((a, b) => {\n      let valueA = a[sortBy];\n      let valueB = b[sortBy];\n      if (typeof valueA === 'string') {\n        var _valueB;\n        valueA = valueA.toLowerCase();\n        valueB = ((_valueB = valueB) === null || _valueB === void 0 ? void 0 : _valueB.toLowerCase()) || '';\n      }\n      if (sortOrder === 'asc') {\n        return valueA > valueB ? 1 : -1;\n      } else {\n        return valueA < valueB ? 1 : -1;\n      }\n    });\n    return filtered;\n  }, [items, searchTerm, filterCategory, filterStatus, sortBy, sortOrder]);\n  const getActiveRentals = useCallback(() => {\n    return rentals.filter(r => r.status === 'activo');\n  }, [rentals]);\n  const getPendingReturns = useCallback(() => {\n    const today = new Date();\n    return rentals.filter(r => {\n      if (r.status !== 'activo') return false;\n      const endDate = new Date(r.rental_end);\n      return endDate <= today;\n    });\n  }, [rentals]);\n\n  // C치lculo de precio de alquiler\n  const calculateRentalPrice = useCallback(() => {\n    if (!selectedItem || !rentalForm.rental_start || !rentalForm.rental_end) {\n      return 0;\n    }\n    const start = new Date(rentalForm.rental_start);\n    const end = new Date(rentalForm.rental_end);\n    const days = Math.ceil((end - start) / (1000 * 60 * 60 * 24)) + 1;\n    const price = selectedItem.rental_price || selectedItem.daily_rate || 0;\n    const quantity = rentalForm.quantity_rented || 1;\n    return price * days * quantity;\n  }, [selectedItem, rentalForm.rental_start, rentalForm.rental_end, rentalForm.quantity_rented]);\n\n  // Actualizar precio autom치ticamente\n  useEffect(() => {\n    if (selectedItem) {\n      const price = calculateRentalPrice();\n      setRentalForm(prev => ({\n        ...prev,\n        total_amount: price\n      }));\n    }\n  }, [selectedItem, calculateRentalPrice]);\n\n  // Funci칩n para subir la imagen al servidor\n  const handleImageUpload = async file => {\n    if (!file) return;\n\n    // Validar que sea PNG\n    if (!file.type.includes('png')) {\n      showNotification('Solo se permiten im치genes PNG', 'error');\n      return;\n    }\n\n    // Validar tama침o (m치ximo 2MB)\n    if (file.size > 2 * 1024 * 1024) {\n      showNotification('La imagen no debe superar 2MB', 'error');\n      return;\n    }\n    setUploadingImage(true);\n    try {\n      const formData = new FormData();\n      formData.append('image', file);\n      const response = await axios.post(`${API_URL.replace('/api', '')}/api/upload/image`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      const imageUrl = response.data.url;\n      setItemForm({\n        ...itemForm,\n        image_url: imageUrl\n      });\n      setImagePreview(imageUrl);\n      showNotification('Imagen subida exitosamente', 'success');\n    } catch (error) {\n      console.error('Error al subir imagen:', error);\n      showNotification('Error al subir la imagen', 'error');\n    } finally {\n      setUploadingImage(false);\n    }\n  };\n\n  // Funci칩n para eliminar la imagen\n  const handleRemoveImage = () => {\n    setImageFile(null);\n    setImagePreview('');\n    setItemForm({\n      ...itemForm,\n      image_url: ''\n    });\n  };\n\n  // Manejadores de modales\n  const openModal = (modalName, data = null) => {\n    setModals(prev => ({\n      ...prev,\n      [modalName]: true\n    }));\n    if (modalName === 'item') {\n      if (data) {\n        setEditingItem(data);\n        setItemForm({\n          name: data.name || '',\n          description: data.description || '',\n          category: data.category || 'herramientas',\n          quantity: data.quantity_total || 1,\n          rental_price: data.daily_rate || 0,\n          image_url: data.image_url || ''\n        });\n        // Establecer preview si hay imagen existente\n        setImagePreview(data.image_url || '');\n      } else {\n        setEditingItem(null);\n        setItemForm({\n          name: '',\n          description: '',\n          category: 'herramientas',\n          quantity: 1,\n          rental_price: 0,\n          image_url: ''\n        });\n        setImagePreview('');\n        setImageFile(null);\n      }\n    } else if (modalName === 'rental' && data) {\n      setSelectedItem(data);\n      setRentalForm(prev => ({\n        ...prev,\n        item_id: data.id,\n        quantity_rented: 1\n      }));\n    } else if (modalName === 'return' && data) {\n      setSelectedRental(data);\n    } else if (modalName === 'payment' && data) {\n      setSelectedRental(data);\n      fetchPayments(data.id);\n    }\n  };\n  const closeModal = modalName => {\n    setModals(prev => ({\n      ...prev,\n      [modalName]: false\n    }));\n    if (modalName === 'item') {\n      setEditingItem(null);\n      setItemForm({\n        name: '',\n        description: '',\n        category: 'herramientas',\n        quantity: 1,\n        rental_price: 0,\n        image_url: ''\n      });\n      setImagePreview('');\n      setImageFile(null);\n    } else if (modalName === 'rental') {\n      setSelectedItem(null);\n      setRentalForm({\n        item_id: '',\n        customer_name: '',\n        customer_id_number: '',\n        customer_address: '',\n        customer_phone: '',\n        customer_email: '',\n        rental_start: new Date().toISOString().split('T')[0],\n        rental_end: '',\n        quantity_rented: 1,\n        has_collateral: false,\n        collateral_description: '',\n        total_amount: 0,\n        initial_deposit: 0,\n        notes: ''\n      });\n    }\n  };\n\n  // Manejadores de formularios\n\n  const handleItemSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      // Preparar los datos con la estructura correcta que espera el backend\n      const itemData = {\n        name: itemForm.name,\n        description: itemForm.description || '',\n        category: itemForm.category,\n        daily_rate: parseFloat(itemForm.rental_price) || 0,\n        weekly_rate: (parseFloat(itemForm.rental_price) || 0) * 6,\n        monthly_rate: (parseFloat(itemForm.rental_price) || 0) * 25,\n        quantity_total: parseInt(itemForm.quantity) || 1,\n        quantity_available: parseInt(itemForm.quantity) || 1,\n        status: 'disponible',\n        image_url: itemForm.image_url || ''\n      };\n      if (editingItem) {\n        // Al editar, mantener la cantidad disponible actual\n        const currentItem = items.find(item => item.id === editingItem.id);\n        if (currentItem) {\n          // Calcular la diferencia para mantener la proporci칩n correcta\n          const rentedQuantity = currentItem.quantity_total - currentItem.quantity_available;\n          itemData.quantity_available = Math.max(0, itemData.quantity_total - rentedQuantity);\n        }\n        await axios.put(`${API_URL}/rental-items/${editingItem.id}`, itemData);\n        showNotification('Art칤culo actualizado exitosamente');\n      } else {\n        // Crear nuevo art칤culo\n        await axios.post(`${API_URL}/rental-items`, itemData);\n        showNotification('Art칤culo creado exitosamente');\n      }\n      await fetchItems();\n      closeModal('item');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error:', error);\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Error al guardar el art칤culo';\n      showNotification(errorMessage, 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Busca la funci칩n handleRentalSubmit en tu Rental.jsx y reempl치zala con esta versi칩n corregida:\n\n  const handleRentalSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      // Validar que se haya seleccionado un art칤culo\n      if (!rentalForm.item_id) {\n        showNotification('Por favor seleccione un art칤culo', 'error');\n        setLoading(false);\n        return;\n      }\n\n      // Preparar los datos del alquiler\n      const rentalPromises = rentalForm.items.map(async item => {\n        var _rentalForm$customer_, _rentalForm$customer_2;\n        const rentalData = {\n          // Datos del art칤culo\n          item_id: item.item_id,\n          quantity_rented: item.quantity,\n          customer_name: rentalForm.customer_name.trim(),\n          customer_id_number: rentalForm.customer_id_number.trim(),\n          customer_phone: rentalForm.customer_phone.trim(),\n          customer_address: ((_rentalForm$customer_ = rentalForm.customer_address) === null || _rentalForm$customer_ === void 0 ? void 0 : _rentalForm$customer_.trim()) || '',\n          customer_email: ((_rentalForm$customer_2 = rentalForm.customer_email) === null || _rentalForm$customer_2 === void 0 ? void 0 : _rentalForm$customer_2.trim()) || '',\n          rental_start: rentalForm.rental_start,\n          rental_end: rentalForm.rental_end,\n          // Calcular el precio para este art칤culo espec칤fico\n          total_amount: calculateItemPrice(item, rentalForm.rental_start, rentalForm.rental_end),\n          initial_deposit: rentalForm.initial_deposit > 0 ? rentalForm.initial_deposit / rentalForm.items.length : 0,\n          // Dividir el dep칩sito entre todos los art칤culos\n          notes: rentalForm.notes || ''\n        };\n        return axios.post(`${API_URL}/rentals`, rentalData);\n      });\n\n      // Validaci칩n adicional de campos requeridos\n      if (!rentalData.customer_name || !rentalData.customer_id_number || !rentalData.customer_phone) {\n        showNotification('Por favor complete todos los campos obligatorios del cliente', 'error');\n        setLoading(false);\n        return;\n      }\n      if (!rentalData.rental_start || !rentalData.rental_end) {\n        showNotification('Por favor seleccione las fechas de inicio y fin del alquiler', 'error');\n        setLoading(false);\n        return;\n      }\n\n      // Validar que la fecha de fin sea posterior a la de inicio\n      if (new Date(rentalData.rental_end) <= new Date(rentalData.rental_start)) {\n        showNotification('La fecha de fin debe ser posterior a la fecha de inicio', 'error');\n        setLoading(false);\n        return;\n      }\n      console.log('Enviando datos del alquiler:', rentalData); // Para debugging\n\n      // IMPORTANTE: Usar la ruta correcta /api/rentals (sin /complete)\n      const response = await axios.post(`${API_URL}/rentals`, rentalData);\n\n      // Si la respuesta es exitosa\n      if (response.data) {\n        showNotification('Alquiler creado exitosamente', 'success');\n\n        // Recargar los datos\n        await Promise.all([fetchItems(), fetchRentals()]);\n\n        // Limpiar el formulario\n        setRentalForm({\n          item_id: '',\n          customer_name: '',\n          customer_id_number: '',\n          customer_address: '',\n          customer_phone: '',\n          customer_email: '',\n          rental_start: '',\n          rental_end: '',\n          quantity_rented: 1,\n          total_amount: 0,\n          initial_deposit: 0,\n          notes: ''\n        });\n\n        // Cerrar el modal\n        closeModal('rental');\n      }\n    } catch (error) {\n      console.error('Error al crear alquiler:', error);\n\n      // Manejar diferentes tipos de errores\n      let errorMessage = 'Error al crear alquiler';\n      if (error.response) {\n        var _error$response$data2, _error$response$data3;\n        // Error del servidor\n        errorMessage = ((_error$response$data2 = error.response.data) === null || _error$response$data2 === void 0 ? void 0 : _error$response$data2.error) || ((_error$response$data3 = error.response.data) === null || _error$response$data3 === void 0 ? void 0 : _error$response$data3.message) || errorMessage;\n        console.error('Respuesta del servidor:', error.response.data);\n      } else if (error.request) {\n        // No hubo respuesta del servidor\n        errorMessage = 'No se pudo conectar con el servidor';\n        console.error('No hay respuesta:', error.request);\n      } else {\n        // Error en la configuraci칩n de la petici칩n\n        errorMessage = error.message;\n      }\n      showNotification(errorMessage, 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleReturnSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      await axios.patch(`${API_URL}/rentals/${selectedRental.id}/return`, {\n        condition_notes: returnForm.notes,\n        return_condition: returnForm.condition\n      });\n\n      // Si hay pago final, registrarlo\n      if (returnForm.final_payment > 0) {\n        await axios.post(`${API_URL}/rentals/${selectedRental.id}/payments`, {\n          amount: returnForm.final_payment,\n          payment_method: 'efectivo',\n          notes: 'Pago al devolver'\n        });\n      }\n      showNotification('Devoluci칩n registrada exitosamente');\n      await Promise.all([fetchItems(), fetchRentals()]);\n      closeModal('return');\n    } catch (error) {\n      console.error('Error:', error);\n      showNotification('Error al registrar devoluci칩n', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handlePaymentSubmit = async e => {\n    e.preventDefault();\n    if (!selectedRental || !selectedRental.id) {\n      showNotification('Error: No se ha seleccionado un alquiler', 'error');\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API_URL}/rentals/${selectedRental.id}/payments`, paymentForm);\n      showNotification('Abono registrado exitosamente', 'success');\n\n      // Recargar los pagos\n      await fetchPayments(selectedRental.id);\n\n      // Limpiar el formulario\n      setPaymentForm({\n        amount: 0,\n        payment_method: 'efectivo',\n        notes: ''\n      });\n\n      // Actualizar la lista de alquileres\n      await fetchRentals();\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Error:', error);\n      const errorMessage = ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || 'Error al registrar abono';\n      showNotification(errorMessage, 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleDeleteItem = async id => {\n    // Buscar el art칤culo para mostrar su nombre en la confirmaci칩n\n    const item = items.find(i => i.id === id);\n    const itemName = item ? item.name : 'este art칤culo';\n    if (!window.confirm(`쮼st치 seguro de eliminar \"${itemName}\"?\\n\\nEsta acci칩n no se puede deshacer.`)) {\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await axios.delete(`${API_URL}/rental-items/${id}`);\n\n      // Mostrar mensaje de 칠xito con detalles si est치n disponibles\n      if (response.data && response.data.stats) {\n        const {\n          payments_deleted,\n          rentals_deleted\n        } = response.data.stats;\n        let message = 'Art칤culo eliminado exitosamente';\n        if (rentals_deleted > 0 || payments_deleted > 0) {\n          message += `. Se eliminaron ${rentals_deleted} alquiler(es) hist칩rico(s) y ${payments_deleted} pago(s) asociado(s).`;\n        }\n        showNotification(message, 'success');\n      } else {\n        showNotification('Art칤culo eliminado exitosamente', 'success');\n      }\n\n      // Recargar la lista de art칤culos\n      await fetchItems();\n    } catch (error) {\n      console.error('Error al eliminar:', error);\n\n      // Manejar diferentes tipos de errores\n      let errorMessage = 'Error al eliminar el art칤culo';\n      if (error.response) {\n        if (error.response.status === 400) {\n          // Error de validaci칩n (art칤culo tiene alquileres activos)\n          errorMessage = error.response.data.error || 'No se puede eliminar: El art칤culo est치 en uso';\n        } else if (error.response.status === 404) {\n          errorMessage = 'El art칤culo no fue encontrado';\n        } else if (error.response.status === 500) {\n          // Error del servidor\n          errorMessage = error.response.data.error || 'Error interno del servidor';\n\n          // Si hay detalles adicionales en desarrollo\n          if (error.response.data.details) {\n            console.error('Detalles del error:', error.response.data.details);\n          }\n        }\n      } else if (error.request) {\n        errorMessage = 'No se pudo conectar con el servidor';\n      }\n\n      // Mostrar notificaci칩n de error\n      showNotification(errorMessage, 'error');\n\n      // Si el error indica que hay alquileres activos, ofrecer m치s informaci칩n\n      if (errorMessage.includes('alquiler') && errorMessage.includes('activo')) {\n        // Opcionalmente, mostrar una lista de los alquileres activos\n        const activeRentalsForItem = rentals.filter(r => r.item_id === id && r.status === 'activo');\n        if (activeRentalsForItem.length > 0) {\n          console.log('Alquileres activos que impiden la eliminaci칩n:');\n          activeRentalsForItem.forEach(rental => {\n            console.log(`- Cliente: ${rental.customer_name}, Fecha fin: ${formatDate(rental.rental_end)}`);\n          });\n        }\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleDeletePayment = async paymentId => {\n    if (!window.confirm('쮼st치 seguro de eliminar este abono?')) return;\n    try {\n      await axios.delete(`${API_URL}/rental-payments/${paymentId}`);\n      showNotification('Abono eliminado');\n      await fetchPayments(selectedRental.id);\n    } catch (error) {\n      showNotification('Error al eliminar abono', 'error');\n    }\n  };\n\n  // Funci칩n para mostrar notificaciones\n  const showNotification = (message, type = 'success') => {\n    setNotification({\n      message,\n      type\n    });\n  };\n\n  // Funci칩n para formatear fecha\n  const formatDate = date => {\n    if (!date) return '';\n    const options = {\n      day: '2-digit',\n      month: 'short',\n      year: 'numeric'\n    };\n    return new Date(date).toLocaleDateString('es-ES', options);\n  };\n\n  // Funci칩n para calcular d칤as vencidos\n  const getDaysOverdue = endDate => {\n    const today = new Date();\n    const end = new Date(endDate);\n    const diff = Math.floor((today - end) / (1000 * 60 * 60 * 24));\n    return diff > 0 ? diff : 0;\n  };\n\n  // Renderizado del componente\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rental-container\",\n    children: [notification && /*#__PURE__*/_jsxDEV(Notification, {\n      message: notification.message,\n      type: notification.type,\n      onClose: () => setNotification(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 886,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rental-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-top\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"header-title\",\n          children: \"Gesti\\xF3n de Alquileres\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 896,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => openModal('item'),\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 902,\n              columnNumber: 29\n            }, this), \"Nuevo Art\\xEDculo\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 898,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-warning\",\n            onClick: () => {\n              setSelectedItem(null);\n              openModal('rental');\n            },\n            children: [/*#__PURE__*/_jsxDEV(Key, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 912,\n              columnNumber: 29\n            }, this), \"Nuevo Alquiler\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 905,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary\",\n            onClick: loadInitialData,\n            disabled: loading,\n            children: /*#__PURE__*/_jsxDEV(RefreshCw, {\n              size: 20,\n              className: loading ? 'spinning' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 920,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 915,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 897,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 895,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-box\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 928,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Buscar art\\xEDculos...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 929,\n            columnNumber: 25\n          }, this), searchTerm && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"clear-search\",\n            onClick: () => setSearchTerm(''),\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 940,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 936,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 927,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"filter-select\",\n          value: filterCategory,\n          onChange: e => setFilterCategory(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"Todas las categor\\xEDas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 950,\n            columnNumber: 25\n          }, this), Object.entries(CATEGORIES).map(([key, cat]) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: key,\n            children: [cat.icon, \" \", cat.label]\n          }, key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 952,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 945,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"filter-select\",\n          value: filterStatus,\n          onChange: e => setFilterStatus(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"Todos los estados\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 963,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"disponible\",\n            children: \"\\u2705 Disponibles\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 964,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"agotado\",\n            children: \"\\u274C Agotados\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 965,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 958,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 926,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"view-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab-button ${currentView === 'items' ? 'active' : ''}`,\n          onClick: () => setCurrentView('items'),\n          children: [/*#__PURE__*/_jsxDEV(Package, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 975,\n            columnNumber: 25\n          }, this), \"Art\\xEDculos\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 971,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab-button ${currentView === 'rentals' ? 'active' : ''}`,\n          onClick: () => setCurrentView('rentals'),\n          children: [/*#__PURE__*/_jsxDEV(Key, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 982,\n            columnNumber: 25\n          }, this), \"Alquilados\", stats.activeRentals > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge\",\n            children: stats.activeRentals\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 985,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 978,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab-button ${currentView === 'pending' ? 'active' : ''}`,\n          onClick: () => setCurrentView('pending'),\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 992,\n            columnNumber: 25\n          }, this), \"Pendientes\", stats.overdueRentals > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge badge-danger\",\n            children: stats.overdueRentals\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 995,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 988,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 970,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 894,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon yellow\",\n          children: /*#__PURE__*/_jsxDEV(Package, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1005,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1004,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.totalItems\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1008,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Total Art\\xEDculos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1009,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1007,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1003,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon green\",\n          children: /*#__PURE__*/_jsxDEV(CheckCircle, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1014,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1013,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.availableUnits\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1017,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Disponibles\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1018,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1016,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1012,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon blue\",\n          children: /*#__PURE__*/_jsxDEV(Key, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1023,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1022,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.rentedUnits\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1026,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Alquilados\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1027,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1025,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1021,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon red\",\n          children: /*#__PURE__*/_jsxDEV(AlertTriangle, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1032,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1031,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-value\",\n            children: stats.overdueRentals\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1035,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Vencidos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1036,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1034,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1030,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1002,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rental-content\",\n      children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-overlay\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1045,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Cargando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1046,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1044,\n        columnNumber: 21\n      }, this), currentView === 'items' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"items-grid\",\n        children: getFilteredItems().length > 0 ? getFilteredItems().map(item => {\n          var _CATEGORIES$item$cate;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-image\",\n              children: [item.image_url ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.image_url,\n                alt: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1058,\n                columnNumber: 45\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-image\",\n                children: /*#__PURE__*/_jsxDEV(Package, {\n                  size: 48\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1061,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1060,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-quantity-badge\",\n                children: [/*#__PURE__*/_jsxDEV(Hash, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1065,\n                  columnNumber: 45\n                }, this), item.quantity_available || 0, \"/\", item.quantity_total || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1064,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-category-badge\",\n                children: (_CATEGORIES$item$cate = CATEGORIES[item.category]) === null || _CATEGORIES$item$cate === void 0 ? void 0 : _CATEGORIES$item$cate.icon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1068,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1056,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"item-name\",\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1073,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"item-description\",\n                children: item.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1074,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-price\",\n                children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1077,\n                  columnNumber: 45\n                }, this), \"$\", item.daily_rate || 0, \"/d\\xEDa\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1076,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-status\",\n                style: {\n                  background: item.quantity_available > 0 ? STATUS_CONFIG.disponible.bgColor : STATUS_CONFIG.agotado.bgColor,\n                  color: item.quantity_available > 0 ? STATUS_CONFIG.disponible.color : STATUS_CONFIG.agotado.color\n                },\n                children: item.quantity_available > 0 ? `${item.quantity_available} disponibles` : 'Agotado'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1081,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-rent\",\n                  onClick: () => openModal('rental', item),\n                  disabled: item.quantity_available === 0,\n                  children: [/*#__PURE__*/_jsxDEV(Key, {\n                    size: 14\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1103,\n                    columnNumber: 49\n                  }, this), \"Alquilar\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1098,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-edit\",\n                  onClick: () => openModal('item', item),\n                  children: /*#__PURE__*/_jsxDEV(Edit2, {\n                    size: 14\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1110,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1106,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-delete\",\n                  onClick: () => handleDeleteItem(item.id),\n                  children: /*#__PURE__*/_jsxDEV(Trash2, {\n                    size: 14\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1116,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1112,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1097,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1072,\n              columnNumber: 37\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1055,\n            columnNumber: 33\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(Package, {\n            size: 64\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1124,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"No se encontraron art\\xEDculos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1125,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Comienza agregando tu primer art\\xEDculo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1126,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => openModal('item'),\n            children: [/*#__PURE__*/_jsxDEV(Plus, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1131,\n              columnNumber: 37\n            }, this), \"Agregar Art\\xEDculo\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1127,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1123,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1052,\n        columnNumber: 21\n      }, this), currentView === 'rentals' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-list\",\n        children: getActiveRentals().length > 0 ? getActiveRentals().map(rental => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rental-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rental-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rental-customer\",\n              children: [/*#__PURE__*/_jsxDEV(User, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1147,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: rental.customer_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1149,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"customer-details\",\n                  children: [rental.customer_id_number, \" \\u2022 \", rental.customer_phone]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1150,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1148,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1146,\n              columnNumber: 41\n            }, this), rental.has_collateral && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"collateral-badge\",\n              children: [/*#__PURE__*/_jsxDEV(Shield, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1157,\n                columnNumber: 49\n              }, this), \"Con Prenda\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1156,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1145,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rental-item-info\",\n            children: [/*#__PURE__*/_jsxDEV(Package, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1164,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: rental.item_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1165,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"quantity\",\n              children: [\"x\", rental.quantity_rented]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1166,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1163,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rental-dates\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"date-item\",\n              children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1171,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"date-label\",\n                  children: \"Inicio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1173,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"date-value\",\n                  children: formatDate(rental.rental_start)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1174,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1172,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1170,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(ArrowRight, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1177,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"date-item\",\n              children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1179,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"date-label\",\n                  children: \"Devoluci\\xF3n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1181,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"date-value\",\n                  children: formatDate(rental.rental_end)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1182,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1180,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1178,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1169,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rental-payment-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"payment-stat\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"payment-label\",\n                children: \"Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1189,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"payment-value\",\n                children: [\"$\", rental.total_amount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1190,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1188,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"payment-stat\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"payment-label\",\n                children: \"Abonado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1193,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"payment-value text-green\",\n                children: [\"$\", rental.total_paid || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1194,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1192,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"payment-stat\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"payment-label\",\n                children: \"Saldo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1199,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"payment-value text-orange\",\n                children: [\"$\", (rental.total_amount - (rental.total_paid || 0)).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1200,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1198,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1187,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rental-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-success\",\n              onClick: () => openModal('return', rental),\n              children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1211,\n                columnNumber: 45\n              }, this), \"Devolver\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1207,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-warning\",\n              onClick: () => openModal('payment', rental),\n              children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1218,\n                columnNumber: 45\n              }, this), \"Abonos\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1214,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-secondary\",\n              onClick: () => {\n                setSelectedRental(rental);\n                openModal('details');\n              },\n              children: [/*#__PURE__*/_jsxDEV(Eye, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1228,\n                columnNumber: 45\n              }, this), \"Detalles\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1221,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1206,\n            columnNumber: 37\n          }, this)]\n        }, rental.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1144,\n          columnNumber: 33\n        }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(Key, {\n            size: 64\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1236,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"No hay art\\xEDculos alquilados\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1237,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Los alquileres activos aparecer\\xE1n aqu\\xED\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1238,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1235,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1141,\n        columnNumber: 21\n      }, this), currentView === 'pending' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rentals-list\",\n        children: getPendingReturns().length > 0 ? getPendingReturns().map(rental => {\n          const daysOverdue = getDaysOverdue(rental.rental_end);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rental-card overdue\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overdue-indicator\",\n              children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1254,\n                columnNumber: 45\n              }, this), daysOverdue, \" d\\xEDas vencido\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1253,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rental-header\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rental-customer\",\n                children: [/*#__PURE__*/_jsxDEV(User, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1260,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: rental.customer_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1262,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"customer-details\",\n                    children: [\"\\uD83D\\uDCF1 \", rental.customer_phone]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1263,\n                    columnNumber: 53\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1261,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1259,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1258,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rental-item-info\",\n              children: [/*#__PURE__*/_jsxDEV(Package, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1271,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: rental.item_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1272,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1270,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"overdue-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"info-label\",\n                  children: \"Debi\\xF3 devolver:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1277,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"info-value\",\n                  children: formatDate(rental.rental_end)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1278,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1276,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"info-label\",\n                  children: \"Saldo pendiente:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1281,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"info-value text-orange\",\n                  children: [\"$\", (rental.total_amount - (rental.total_paid || 0)).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1282,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1280,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1275,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rental-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-success\",\n                onClick: () => openModal('return', rental),\n                children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1293,\n                  columnNumber: 49\n                }, this), \"Registrar Devoluci\\xF3n\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1289,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                onClick: () => window.location.href = `tel:${rental.customer_phone}`,\n                children: [/*#__PURE__*/_jsxDEV(Phone, {\n                  size: 14\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1300,\n                  columnNumber: 49\n                }, this), \"Contactar\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1296,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1288,\n              columnNumber: 41\n            }, this)]\n          }, rental.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1252,\n            columnNumber: 37\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n            size: 64,\n            color: \"#10b981\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1309,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"No hay devoluciones pendientes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1310,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\xA1Todos los alquileres est\\xE1n al d\\xEDa!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1311,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1308,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1246,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1042,\n      columnNumber: 13\n    }, this), modals.item && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => closeModal('item'),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: editingItem ? 'Editar Art칤culo' : 'Nuevo Art칤culo'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1323,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-btn\",\n            onClick: () => closeModal('item'),\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1325,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1324,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1322,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleItemSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Nombre del art\\xEDculo *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1331,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              value: itemForm.name,\n              onChange: e => setItemForm({\n                ...itemForm,\n                name: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1332,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1330,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Categor\\xEDa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1343,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-control\",\n                value: itemForm.category,\n                onChange: e => setItemForm({\n                  ...itemForm,\n                  category: e.target.value\n                }),\n                children: Object.entries(CATEGORIES).map(([key, cat]) => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: key,\n                  children: [cat.icon, \" \", cat.label]\n                }, key, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1350,\n                  columnNumber: 45\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1344,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1342,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Cantidad\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1358,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                className: \"form-control\",\n                value: itemForm.quantity,\n                onChange: e => setItemForm({\n                  ...itemForm,\n                  quantity: parseInt(e.target.value)\n                }),\n                min: \"1\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1359,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1357,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1341,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Precio de alquiler (por d\\xEDa)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1371,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control\",\n              value: itemForm.rental_price,\n              onChange: e => setItemForm({\n                ...itemForm,\n                rental_price: parseFloat(e.target.value)\n              }),\n              step: \"0.01\",\n              min: \"0\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1372,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1370,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Descripci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1384,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"form-control\",\n              value: itemForm.description,\n              onChange: e => setItemForm({\n                ...itemForm,\n                description: e.target.value\n              }),\n              rows: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1385,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1383,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Imagen del art\\xEDculo (PNG)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1394,\n              columnNumber: 33\n            }, this), (imagePreview || itemForm.image_url) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"image-preview-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: imagePreview || itemForm.image_url,\n                alt: \"Preview\",\n                className: \"image-preview\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1399,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"remove-image-btn\",\n                onClick: handleRemoveImage,\n                title: \"Eliminar imagen\",\n                children: /*#__PURE__*/_jsxDEV(X, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1410,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1404,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1398,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              id: \"image-upload\",\n              accept: \"image/png\",\n              onChange: e => {\n                const file = e.target.files[0];\n                if (file) {\n                  setImageFile(file);\n                  handleImageUpload(file);\n                }\n              },\n              style: {\n                display: 'none'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1416,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"image-upload\",\n              className: `upload-image-btn ${uploadingImage ? 'uploading' : ''}`,\n              children: uploadingImage ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"spinner-small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1437,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Subiendo...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1438,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Camera, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1442,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: imagePreview || itemForm.image_url ? 'Cambiar imagen' : 'Subir imagen PNG'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1443,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1431,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"form-help\",\n              children: \"Solo archivos PNG. Tama\\xF1o m\\xE1ximo: 2MB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1452,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1393,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              onClick: () => closeModal('item'),\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1458,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              disabled: loading,\n              children: loading ? 'Guardando...' : 'Guardar'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1465,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1457,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1329,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1321,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1320,\n      columnNumber: 17\n    }, this), modals.rental && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => closeModal('rental'),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content large\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Nuevo Alquiler\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1483,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-btn\",\n            onClick: () => closeModal('rental'),\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1485,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1484,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1482,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleRentalSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Art\\xEDculos a alquilar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1492,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-selector\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  style: {\n                    flex: 2\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Seleccionar art\\xEDculo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1498,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    className: \"form-control\",\n                    value: currentItemSelection.item_id,\n                    onChange: e => setCurrentItemSelection({\n                      ...currentItemSelection,\n                      item_id: e.target.value\n                    }),\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"Seleccione un art\\xEDculo...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1507,\n                      columnNumber: 49\n                    }, this), items.filter(item => item.quantity_available > 0).map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: item.id,\n                      children: [item.name, \" (\", item.quantity_available, \" disponibles) - $\", item.daily_rate, \"/d\\xEDa\"]\n                    }, item.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1509,\n                      columnNumber: 53\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1499,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1497,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  style: {\n                    flex: 1\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Cantidad\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1517,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    className: \"form-control\",\n                    value: currentItemSelection.quantity,\n                    onChange: e => setCurrentItemSelection({\n                      ...currentItemSelection,\n                      quantity: parseInt(e.target.value) || 1\n                    }),\n                    min: \"1\",\n                    max: ((_items$find = items.find(i => i.id === parseInt(currentItemSelection.item_id))) === null || _items$find === void 0 ? void 0 : _items$find.quantity_available) || 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1518,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1516,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  style: {\n                    alignSelf: 'flex-end'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn btn-secondary\",\n                    onClick: addItemToRental,\n                    disabled: !currentItemSelection.item_id,\n                    children: [/*#__PURE__*/_jsxDEV(Plus, {\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1538,\n                      columnNumber: 49\n                    }, this), \"Agregar\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1532,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1531,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1496,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1495,\n              columnNumber: 33\n            }, this), rentalForm.items.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"items-list\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"items-table\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Art\\xEDculo\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1551,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Cantidad\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1552,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Precio/d\\xEDa\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1553,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Subtotal/d\\xEDa\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1554,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Acciones\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1555,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1550,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1549,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: rentalForm.items.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1561,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: item.quantity\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1562,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [\"$\", item.daily_rate]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1563,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: [\"$\", (item.daily_rate * item.quantity).toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1564,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"btn btn-sm btn-danger\",\n                        onClick: () => removeItemFromRental(item.item_id),\n                        children: /*#__PURE__*/_jsxDEV(Trash2, {\n                          size: 14\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 1571,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1566,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1565,\n                      columnNumber: 53\n                    }, this)]\n                  }, item.item_id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1560,\n                    columnNumber: 49\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1558,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1548,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1547,\n              columnNumber: 37\n            }, this), rentalForm.items.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted text-center\",\n              children: \"No hay art\\xEDculos agregados. Seleccione al menos un art\\xEDculo para continuar.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1582,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1491,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Informaci\\xF3n del Cliente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1590,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Nombre completo *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1592,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                value: rentalForm.customer_name,\n                onChange: e => setRentalForm({\n                  ...rentalForm,\n                  customer_name: e.target.value\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1593,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1591,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"C\\xE9dula de identidad *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1604,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  value: rentalForm.customer_id_number,\n                  onChange: e => setRentalForm({\n                    ...rentalForm,\n                    customer_id_number: e.target.value\n                  }),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1605,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1603,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Tel\\xE9fono *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1614,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"tel\",\n                  className: \"form-control\",\n                  value: rentalForm.customer_phone,\n                  onChange: e => setRentalForm({\n                    ...rentalForm,\n                    customer_phone: e.target.value\n                  }),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1615,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1613,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1602,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Direcci\\xF3n de domicilio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1626,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                value: rentalForm.customer_address,\n                onChange: e => setRentalForm({\n                  ...rentalForm,\n                  customer_address: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1627,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1625,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1636,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                className: \"form-control\",\n                value: rentalForm.customer_email,\n                onChange: e => setRentalForm({\n                  ...rentalForm,\n                  customer_email: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1637,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1635,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1589,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Detalles del Alquiler\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1648,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Fecha de inicio *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1651,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  className: \"form-control\",\n                  value: rentalForm.rental_start,\n                  onChange: e => setRentalForm({\n                    ...rentalForm,\n                    rental_start: e.target.value\n                  }),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1652,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1650,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Fecha de devoluci\\xF3n *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1661,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  className: \"form-control\",\n                  value: rentalForm.rental_end,\n                  onChange: e => setRentalForm({\n                    ...rentalForm,\n                    rental_end: e.target.value\n                  }),\n                  min: rentalForm.rental_start,\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1662,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1660,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1649,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Costo total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1675,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  className: \"form-control\",\n                  value: rentalForm.total_amount,\n                  onChange: e => setRentalForm({\n                    ...rentalForm,\n                    total_amount: parseFloat(e.target.value) || 0\n                  }),\n                  step: \"0.01\",\n                  min: \"0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1676,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1674,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Dep\\xF3sito inicial\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1686,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  className: \"form-control\",\n                  value: rentalForm.initial_deposit,\n                  onChange: e => setRentalForm({\n                    ...rentalForm,\n                    initial_deposit: parseFloat(e.target.value) || 0\n                  }),\n                  step: \"0.01\",\n                  min: \"0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1687,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1685,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1673,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Notas adicionales\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1699,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                className: \"form-control\",\n                value: rentalForm.notes,\n                onChange: e => setRentalForm({\n                  ...rentalForm,\n                  notes: e.target.value\n                }),\n                rows: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1700,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1698,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1647,\n            columnNumber: 29\n          }, this), rentalForm.items.length > 0 && rentalForm.rental_start && rentalForm.rental_end && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rental-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Resumen del Alquiler\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1712,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Art\\xEDculos:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1714,\n                  columnNumber: 44\n                }, this), \" \", rentalForm.items.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1714,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Per\\xEDodo:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1715,\n                  columnNumber: 44\n                }, this), \" \", formatDate(rentalForm.rental_start), \" - \", formatDate(rentalForm.rental_end)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1715,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"D\\xEDas:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1716,\n                  columnNumber: 44\n                }, this), \" \", Math.ceil((new Date(rentalForm.rental_end) - new Date(rentalForm.rental_start)) / (1000 * 60 * 60 * 24)) + 1]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1716,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"total-price\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Total:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1717,\n                  columnNumber: 68\n                }, this), \" $\", calculateTotalPrice().toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1717,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1713,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1711,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              onClick: () => closeModal('rental'),\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1724,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              disabled: loading || rentalForm.items.length === 0,\n              children: loading ? 'Creando...' : 'Crear Alquiler'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1731,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1723,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1489,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1481,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1480,\n      columnNumber: 17\n    }, this), modals.return && selectedRental && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => closeModal('return'),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Registrar Devoluci\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1749,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-btn\",\n            onClick: () => closeModal('return'),\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1751,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1750,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1748,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleReturnSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rental-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: selectedRental.item_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1757,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Cliente: \", selectedRental.customer_name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1758,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Per\\xEDodo: \", formatDate(selectedRental.rental_start), \" - \", formatDate(selectedRental.rental_end)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1759,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1756,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Estado del art\\xEDculo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1763,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-control\",\n              value: returnForm.condition,\n              onChange: e => setReturnForm({\n                ...returnForm,\n                condition: e.target.value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"bueno\",\n                children: \"Bueno\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1769,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"regular\",\n                children: \"Regular\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1770,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"da\\xF1ado\",\n                children: \"Da\\xF1ado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1771,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1764,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1762,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Notas sobre el estado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1776,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"form-control\",\n              value: returnForm.notes,\n              onChange: e => setReturnForm({\n                ...returnForm,\n                notes: e.target.value\n              }),\n              rows: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1777,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1775,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"payment-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Total del alquiler:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1787,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"amount\",\n                children: [\"$\", selectedRental.total_amount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1788,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1786,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Abonado:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1791,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"amount text-green\",\n                children: [\"$\", selectedRental.total_paid || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1792,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1790,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item total\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Saldo pendiente:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1795,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"amount text-orange\",\n                children: [\"$\", (selectedRental.total_amount - (selectedRental.total_paid || 0)).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1796,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1794,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1785,\n            columnNumber: 29\n          }, this), selectedRental.total_amount - (selectedRental.total_paid || 0) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Pago final\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1804,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control\",\n              value: returnForm.final_payment,\n              onChange: e => setReturnForm({\n                ...returnForm,\n                final_payment: parseFloat(e.target.value)\n              }),\n              step: \"0.01\",\n              min: \"0\",\n              max: selectedRental.total_amount - (selectedRental.total_paid || 0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1805,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1803,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              onClick: () => closeModal('return'),\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1818,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              disabled: loading,\n              children: loading ? 'Procesando...' : 'Confirmar Devoluci칩n'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1825,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1817,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1755,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1747,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1746,\n      columnNumber: 17\n    }, this), modals.payment && selectedRental && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => closeModal('payment'),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Gesti\\xF3n de Abonos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1843,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-btn\",\n            onClick: () => closeModal('payment'),\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1845,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1844,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1842,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rental-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: selectedRental.item_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1850,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Cliente: \", selectedRental.customer_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1851,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Total del alquiler: $\", selectedRental.total_amount || 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1852,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1849,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"payments-list\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Abonos realizados\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1857,\n            columnNumber: 29\n          }, this), Array.isArray(payments) && payments.length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"payments-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Fecha\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1862,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Monto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1863,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"M\\xE9todo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1864,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Notas\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1865,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1861,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1860,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: payments.map(payment => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: formatDate(payment.payment_date)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1871,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [\"$\", payment.amount]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1872,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: payment.payment_method\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1873,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: payment.notes || '-'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1874,\n                  columnNumber: 45\n                }, this)]\n              }, payment.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1870,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1868,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1859,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted\",\n            children: \"No hay abonos registrados\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1880,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1856,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"payment-summary\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Total del alquiler:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1887,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"amount\",\n              children: [\"$\", selectedRental.total_amount || 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1888,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1886,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Total abonado:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1891,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"amount\",\n              children: [\"$\", Array.isArray(payments) ? payments.reduce((sum, p) => sum + (parseFloat(p.amount) || 0), 0).toFixed(2) : '0.00']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1892,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1890,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-item total\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Saldo pendiente:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1900,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"amount\",\n              children: [\"$\", ((parseFloat(selectedRental.total_amount) || 0) - (Array.isArray(payments) ? payments.reduce((sum, p) => sum + (parseFloat(p.amount) || 0), 0) : 0)).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1901,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1899,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1885,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handlePaymentSubmit,\n          className: \"payment-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Registrar nuevo abono\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1914,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Monto del abono\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1917,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              className: \"form-control\",\n              value: paymentForm.amount,\n              onChange: e => setPaymentForm({\n                ...paymentForm,\n                amount: parseFloat(e.target.value) || 0\n              }),\n              step: \"0.01\",\n              min: \"0.01\",\n              max: (parseFloat(selectedRental.total_amount) || 0) - (Array.isArray(payments) ? payments.reduce((sum, p) => sum + (parseFloat(p.amount) || 0), 0) : 0),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1918,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1916,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"M\\xE9todo de pago\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1937,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-control\",\n              value: paymentForm.payment_method,\n              onChange: e => setPaymentForm({\n                ...paymentForm,\n                payment_method: e.target.value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"efectivo\",\n                children: \"Efectivo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1946,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"transferencia\",\n                children: \"Transferencia\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1947,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"tarjeta\",\n                children: \"Tarjeta\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1948,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"otro\",\n                children: \"Otro\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1949,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1938,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1936,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Notas (opcional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1954,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"form-control\",\n              value: paymentForm.notes,\n              onChange: e => setPaymentForm({\n                ...paymentForm,\n                notes: e.target.value\n              }),\n              rows: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1955,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1953,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              onClick: () => closeModal('payment'),\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1967,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              disabled: loading || !paymentForm.amount,\n              children: loading ? 'Registrando...' : 'Registrar Abono'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1974,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1966,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1913,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1841,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1840,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 883,\n    columnNumber: 9\n  }, this);\n}\n_s2(Rental, \"KB1tIsz0bv3fOR8PxkXtd86PVfw=\");\n_c2 = Rental;\nexport default Rental;\nvar _c, _c2;\n$RefreshReg$(_c, \"Notification\");\n$RefreshReg$(_c2, \"Rental\");","map":{"version":3,"names":["API_URL","React","useState","useEffect","useCallback","useMemo","axios","Plus","Edit2","Trash2","Calendar","DollarSign","Package","User","Clock","Search","Filter","X","AlertCircle","CheckCircle","ArrowRight","Key","Home","Phone","Mail","MapPin","CreditCard","FileText","Shield","RotateCcw","AlertTriangle","Eye","Archive","TrendingUp","Hash","Camera","ChevronLeft","ChevronRight","Download","RefreshCw","jsxDEV","_jsxDEV","Fragment","_Fragment","CATEGORIES","herramientas","label","construccion","jardineria","otros","icon","STATUS_CONFIG","disponible","color","bgColor","agotado","alquilado","mantenimiento","Notification","message","type","onClose","_s","timer","setTimeout","clearTimeout","colors","success","error","warning","info","className","style","background","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","_c","Rental","updateTabData","_s2","_items$find","items","setItems","rentals","setRentals","loading","setLoading","setError","notification","setNotification","currentView","setCurrentView","searchTerm","setSearchTerm","filterCategory","setFilterCategory","filterStatus","setFilterStatus","sortBy","setSortBy","sortOrder","setSortOrder","modals","setModals","item","rental","return","payment","details","editingItem","setEditingItem","selectedItem","setSelectedItem","selectedRental","setSelectedRental","payments","setPayments","itemForm","setItemForm","name","description","category","quantity","rental_price","image_url","rentalForm","setRentalForm","item_id","customer_name","customer_id_number","customer_address","customer_phone","customer_email","rental_start","Date","toISOString","split","rental_end","quantity_rented","has_collateral","collateral_description","total_amount","initial_deposit","notes","currentItemSelection","setCurrentItemSelection","addItemToRental","showNotification","find","i","id","parseInt","existingIndex","findIndex","updatedItems","newQuantity","quantity_available","newItem","daily_rate","available","removeItemFromRental","itemId","filter","calculateTotalPrice","length","start","end","days","Math","ceil","reduce","total","prev","returnForm","setReturnForm","condition","final_payment","paymentForm","setPaymentForm","amount","payment_method","imageFile","setImageFile","imagePreview","setImagePreview","uploadingImage","setUploadingImage","stats","totalItems","totalUnits","sum","quantity_total","availableUnits","rentedUnits","max","activeRentals","r","status","today","overdueRentals","endDate","loadInitialData","Promise","all","fetchItems","fetchRentals","response","get","data","console","fetchPayments","rentalId","Array","isArray","getFilteredItems","filtered","search","toLowerCase","_item$name","_item$description","includes","sort","a","b","valueA","valueB","_valueB","getActiveRentals","getPendingReturns","calculateRentalPrice","price","handleImageUpload","file","formData","FormData","append","post","replace","headers","imageUrl","url","handleRemoveImage","openModal","modalName","closeModal","handleItemSubmit","e","preventDefault","itemData","parseFloat","weekly_rate","monthly_rate","currentItem","rentedQuantity","put","_error$response","_error$response$data","errorMessage","handleRentalSubmit","rentalPromises","map","_rentalForm$customer_","_rentalForm$customer_2","rentalData","trim","calculateItemPrice","log","_error$response$data2","_error$response$data3","request","handleReturnSubmit","patch","condition_notes","return_condition","handlePaymentSubmit","_error$response2","_error$response2$data","handleDeleteItem","itemName","window","confirm","delete","payments_deleted","rentals_deleted","activeRentalsForItem","forEach","formatDate","handleDeletePayment","paymentId","date","options","day","month","year","toLocaleDateString","getDaysOverdue","diff","floor","disabled","placeholder","value","onChange","target","Object","entries","key","cat","_CATEGORIES$item$cate","src","alt","item_name","total_paid","toFixed","daysOverdue","location","href","stopPropagation","onSubmit","required","min","step","rows","title","accept","files","display","htmlFor","flex","alignSelf","payment_date","p","_c2","$RefreshReg$"],"sources":["C:/Users/Silvia/WebstormProjects/TASK/task-manager/frontend/src/Rental.jsx"],"sourcesContent":["// task-manager/frontend/src/Rental.jsx\r\nimport { API_URL } from './config/api';\r\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n    Plus, Edit2, Trash2, Calendar, DollarSign,\r\n    Package, User, Clock, Search, Filter,\r\n    X, AlertCircle, CheckCircle, ArrowRight,\r\n    Key, Home, Phone, Mail, MapPin, CreditCard,\r\n    FileText, Shield, RotateCcw, AlertTriangle,\r\n    Eye, Archive, TrendingUp, Hash, Camera,\r\n    ChevronLeft, ChevronRight, Download, RefreshCw\r\n} from 'lucide-react';\r\nimport './Rental.css';\r\n\r\n\r\n\r\n// Configuraci칩n de categor칤as y estados\r\nconst CATEGORIES = {\r\n    herramientas: { label: 'Mesas'},\r\n    construccion: { label: 'N칰meros'},\r\n    jardineria: { label: 'Sillas' },\r\n    otros: { label: 'Otros', icon: '游닍' }\r\n};\r\n\r\nconst STATUS_CONFIG = {\r\n    disponible: { label: 'Disponible', color: '#10b981', bgColor: '#d1fae5' },\r\n    agotado: { label: 'Agotado', color: '#ef4444', bgColor: '#fee2e2' },\r\n    alquilado: { label: 'Alquilado', color: '#f59e0b', bgColor: '#fef3c7' },\r\n    mantenimiento: { label: 'Mantenimiento', color: '#6b7280', bgColor: '#f3f4f6' }\r\n};\r\n\r\n// Componente de Notificaci칩n\r\nconst Notification = ({ message, type = 'success', onClose }) => {\r\n    useEffect(() => {\r\n        const timer = setTimeout(onClose, 3000);\r\n        return () => clearTimeout(timer);\r\n    }, [onClose]);\r\n\r\n    const colors = {\r\n        success: '#10b981',\r\n        error: '#ef4444',\r\n        warning: '#f59e0b',\r\n        info: '#3b82f6'\r\n    };\r\n\r\n    return (\r\n        <div className=\"notification\" style={{ background: colors[type] }}>\r\n            <span>{message}</span>\r\n            <button onClick={onClose} className=\"notification-close\">\r\n                <X size={16} />\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Componente principal\r\nfunction Rental({ updateTabData }) {\r\n    // Estados principales\r\n    const [items, setItems] = useState([]);\r\n    const [rentals, setRentals] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [notification, setNotification] = useState(null);\r\n\r\n    // Estados de vista y filtros\r\n    const [currentView, setCurrentView] = useState('items');\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [filterCategory, setFilterCategory] = useState('all');\r\n    const [filterStatus, setFilterStatus] = useState('all');\r\n    const [sortBy, setSortBy] = useState('name');\r\n    const [sortOrder, setSortOrder] = useState('asc');\r\n\r\n    // Estados de modales\r\n    const [modals, setModals] = useState({\r\n        item: false,\r\n        rental: false,\r\n        return: false,\r\n        payment: false,\r\n        details: false\r\n    });\r\n\r\n    // Estados de formularios\r\n    const [editingItem, setEditingItem] = useState(null);\r\n    const [selectedItem, setSelectedItem] = useState(null);\r\n    const [selectedRental, setSelectedRental] = useState(null);\r\n    const [payments, setPayments] = useState([]);\r\n\r\n    // Estado del formulario de art칤culo\r\n    const [itemForm, setItemForm] = useState({\r\n        name: '',\r\n        description: '',\r\n        category: 'herramientas',\r\n        quantity: 1,\r\n        rental_price: 0,\r\n        image_url: ''\r\n    });\r\n\r\n    // Estado del formulario de alquiler\r\n    const [rentalForm, setRentalForm] = useState({\r\n        item_id: [],\r\n        customer_name: '',\r\n        customer_id_number: '',\r\n        customer_address: '',\r\n        customer_phone: '',\r\n        customer_email: '',\r\n        rental_start: new Date().toISOString().split('T')[0],\r\n        rental_end: '',\r\n        quantity_rented: 1,\r\n        has_collateral: false,\r\n        collateral_description: '',\r\n        total_amount: 0,\r\n        initial_deposit: 0,\r\n        notes: ''\r\n    });\r\n\r\n    // Estado para el art칤culo que se est치 agregando actualmente\r\n    const [currentItemSelection, setCurrentItemSelection] = useState({\r\n        item_id: '',\r\n        quantity: 1\r\n    });\r\n\r\n    const addItemToRental = () => {\r\n        if (!currentItemSelection.item_id) {\r\n            showNotification('Por favor seleccione un art칤culo', 'warning');\r\n            return;\r\n        }\r\n\r\n        const selectedItem = items.find(i => i.id === parseInt(currentItemSelection.item_id));\r\n        if (!selectedItem) return;\r\n\r\n        // Verificar si el art칤culo ya est치 en la lista\r\n        const existingIndex = rentalForm.items.findIndex(\r\n            item => item.item_id === parseInt(currentItemSelection.item_id)\r\n        );\r\n\r\n        if (existingIndex >= 0) {\r\n            // Si ya existe, actualizar la cantidad\r\n            const updatedItems = [...rentalForm.items];\r\n            const newQuantity = updatedItems[existingIndex].quantity + currentItemSelection.quantity;\r\n\r\n            if (newQuantity > selectedItem.quantity_available) {\r\n                showNotification(`Solo hay ${selectedItem.quantity_available} unidades disponibles`, 'error');\r\n                return;\r\n            }\r\n\r\n            updatedItems[existingIndex].quantity = newQuantity;\r\n            setRentalForm({ ...rentalForm, items: updatedItems });\r\n        } else {\r\n            // Si no existe, agregar nuevo\r\n            if (currentItemSelection.quantity > selectedItem.quantity_available) {\r\n                showNotification(`Solo hay ${selectedItem.quantity_available} unidades disponibles`, 'error');\r\n                return;\r\n            }\r\n\r\n            const newItem = {\r\n                item_id: parseInt(currentItemSelection.item_id),\r\n                name: selectedItem.name,\r\n                quantity: currentItemSelection.quantity,\r\n                daily_rate: selectedItem.daily_rate || 0,\r\n                available: selectedItem.quantity_available\r\n            };\r\n\r\n            setRentalForm({\r\n                ...rentalForm,\r\n                items: [...rentalForm.items, newItem]\r\n            });\r\n        }\r\n\r\n        // Limpiar selecci칩n actual\r\n        setCurrentItemSelection({ item_id: '', quantity: 1 });\r\n        showNotification('Art칤culo agregado', 'success');\r\n    };\r\n\r\n// 3. Funci칩n para quitar un art칤culo de la lista\r\n    const removeItemFromRental = (itemId) => {\r\n        setRentalForm({\r\n            ...rentalForm,\r\n            items: rentalForm.items.filter(item => item.item_id !== itemId)\r\n        });\r\n    };\r\n\r\n    const calculateTotalPrice = useCallback(() => {\r\n        if (!rentalForm.rental_start || !rentalForm.rental_end || rentalForm.items.length === 0) {\r\n            return 0;\r\n        }\r\n\r\n        const start = new Date(rentalForm.rental_start);\r\n        const end = new Date(rentalForm.rental_end);\r\n        const days = Math.ceil((end - start) / (1000 * 60 * 60 * 24)) + 1;\r\n\r\n        return rentalForm.items.reduce((total, item) => {\r\n            return total + (item.daily_rate * item.quantity * days);\r\n        }, 0);\r\n    }, [rentalForm.rental_start, rentalForm.rental_end, rentalForm.items]);\r\n\r\n// 5. Actualizar el precio autom치ticamente\r\n    useEffect(() => {\r\n        const total = calculateTotalPrice();\r\n        setRentalForm(prev => ({ ...prev, total_amount: total }));\r\n    }, [calculateTotalPrice]);\r\n\r\n    // Estado del formulario de devoluci칩n\r\n    const [returnForm, setReturnForm] = useState({\r\n        condition: 'bueno',\r\n        notes: '',\r\n        final_payment: 0\r\n    });\r\n\r\n    // Estado del formulario de pago\r\n    const [paymentForm, setPaymentForm] = useState({\r\n        amount: 0,\r\n        payment_method: 'efectivo',\r\n        notes: ''\r\n    });\r\n    // Estados de subida de imagen\r\n    const [imageFile, setImageFile] = useState(null);\r\n    const [imagePreview, setImagePreview] = useState('');\r\n    const [uploadingImage, setUploadingImage] = useState(false);\r\n    // Estad칤sticas computadas\r\n    const stats = useMemo(() => {\r\n        // Calcular totales de items\r\n        const totalItems = items.length;\r\n        const totalUnits = items.reduce((sum, item) => {\r\n            return sum + (parseInt(item.quantity_total) || 0);\r\n        }, 0);\r\n        const availableUnits = items.reduce((sum, item) => {\r\n            return sum + (parseInt(item.quantity_available) || 0);\r\n        }, 0);\r\n\r\n        // Calcular unidades alquiladas correctamente\r\n        const rentedUnits = Math.max(0, totalUnits - availableUnits);\r\n\r\n        // Calcular alquileres activos\r\n        const activeRentals = rentals.filter(r => r.status === 'activo');\r\n        const today = new Date();\r\n        const overdueRentals = activeRentals.filter(r => {\r\n            const endDate = new Date(r.rental_end);\r\n            return endDate < today;\r\n        });\r\n\r\n        return {\r\n            totalItems,\r\n            totalUnits,\r\n            availableUnits,\r\n            rentedUnits, // Siempre ser치 >= 0\r\n            activeRentals: activeRentals.length,\r\n            overdueRentals: overdueRentals.length\r\n        };\r\n    }, [items, rentals]);\r\n    // Cargar datos iniciales\r\n    useEffect(() => {\r\n        loadInitialData();\r\n    }, []);\r\n\r\n    // Actualizar badge de pendientes\r\n    useEffect(() => {\r\n        if (updateTabData) {\r\n            updateTabData({\r\n                notification: stats.overdueRentals > 0 ? stats.overdueRentals : null\r\n            });\r\n        }\r\n    }, [stats.overdueRentals]);\r\n\r\n    // Funciones de carga de datos\r\n    const loadInitialData = async () => {\r\n        setLoading(true);\r\n        try {\r\n            await Promise.all([\r\n                fetchItems(),\r\n                fetchRentals()\r\n            ]);\r\n        } catch (error) {\r\n            showNotification('Error al cargar datos', 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchItems = async () => {\r\n        try {\r\n            const response = await axios.get(`${API_URL}/rental-items/enhanced`);\r\n            setItems(response.data);\r\n        } catch (error) {\r\n            console.error('Error fetching items:', error);\r\n            setError('Error al cargar art칤culos');\r\n        }\r\n    };\r\n\r\n    const fetchRentals = async () => {\r\n        try {\r\n            const response = await axios.get(`${API_URL}/rentals/enhanced`);\r\n            setRentals(response.data);\r\n        } catch (error) {\r\n            console.error('Error fetching rentals:', error);\r\n            setError('Error al cargar alquileres');\r\n        }\r\n    };\r\n\r\n    const fetchPayments = async (rentalId) => {\r\n        if (!rentalId) {\r\n            console.error('No rental ID provided');\r\n            setPayments([]); // Establecer array vac칤o si no hay ID\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await axios.get(`${API_URL}/rentals/${rentalId}/payments`);\r\n            // Asegurar que siempre sea un array\r\n            setPayments(Array.isArray(response.data) ? response.data : []);\r\n        } catch (error) {\r\n            console.error('Error fetching payments:', error);\r\n            setPayments([]); // En caso de error, establecer array vac칤o\r\n            showNotification('Error al cargar los abonos', 'error');\r\n        }\r\n    };\r\n\r\n    // Funciones de filtrado y ordenamiento\r\n    const getFilteredItems = useCallback(() => {\r\n        let filtered = [...items];\r\n\r\n        // B칰squeda\r\n        if (searchTerm) {\r\n            const search = searchTerm.toLowerCase();\r\n            filtered = filtered.filter(item =>\r\n                item.name?.toLowerCase().includes(search) ||\r\n                item.description?.toLowerCase().includes(search)\r\n            );\r\n        }\r\n\r\n        // Filtro por categor칤a\r\n        if (filterCategory !== 'all') {\r\n            filtered = filtered.filter(item => item.category === filterCategory);\r\n        }\r\n\r\n        // Filtro por estado\r\n        if (filterStatus !== 'all') {\r\n            if (filterStatus === 'disponible') {\r\n                filtered = filtered.filter(item => item.quantity_available > 0);\r\n            } else if (filterStatus === 'agotado') {\r\n                filtered = filtered.filter(item => item.quantity_available === 0);\r\n            }\r\n        }\r\n\r\n        // Ordenamiento\r\n        filtered.sort((a, b) => {\r\n            let valueA = a[sortBy];\r\n            let valueB = b[sortBy];\r\n\r\n            if (typeof valueA === 'string') {\r\n                valueA = valueA.toLowerCase();\r\n                valueB = valueB?.toLowerCase() || '';\r\n            }\r\n\r\n            if (sortOrder === 'asc') {\r\n                return valueA > valueB ? 1 : -1;\r\n            } else {\r\n                return valueA < valueB ? 1 : -1;\r\n            }\r\n        });\r\n\r\n        return filtered;\r\n    }, [items, searchTerm, filterCategory, filterStatus, sortBy, sortOrder]);\r\n\r\n    const getActiveRentals = useCallback(() => {\r\n        return rentals.filter(r => r.status === 'activo');\r\n    }, [rentals]);\r\n\r\n    const getPendingReturns = useCallback(() => {\r\n        const today = new Date();\r\n        return rentals.filter(r => {\r\n            if (r.status !== 'activo') return false;\r\n            const endDate = new Date(r.rental_end);\r\n            return endDate <= today;\r\n        });\r\n    }, [rentals]);\r\n\r\n    // C치lculo de precio de alquiler\r\n    const calculateRentalPrice = useCallback(() => {\r\n        if (!selectedItem || !rentalForm.rental_start || !rentalForm.rental_end) {\r\n            return 0;\r\n        }\r\n\r\n        const start = new Date(rentalForm.rental_start);\r\n        const end = new Date(rentalForm.rental_end);\r\n        const days = Math.ceil((end - start) / (1000 * 60 * 60 * 24)) + 1;\r\n\r\n        const price = selectedItem.rental_price || selectedItem.daily_rate || 0;\r\n        const quantity = rentalForm.quantity_rented || 1;\r\n\r\n        return price * days * quantity;\r\n    }, [selectedItem, rentalForm.rental_start, rentalForm.rental_end, rentalForm.quantity_rented]);\r\n\r\n    // Actualizar precio autom치ticamente\r\n    useEffect(() => {\r\n        if (selectedItem) {\r\n            const price = calculateRentalPrice();\r\n            setRentalForm(prev => ({ ...prev, total_amount: price }));\r\n        }\r\n    }, [selectedItem, calculateRentalPrice]);\r\n\r\n    // Funci칩n para subir la imagen al servidor\r\n    const handleImageUpload = async (file) => {\r\n        if (!file) return;\r\n\r\n        // Validar que sea PNG\r\n        if (!file.type.includes('png')) {\r\n            showNotification('Solo se permiten im치genes PNG', 'error');\r\n            return;\r\n        }\r\n\r\n        // Validar tama침o (m치ximo 2MB)\r\n        if (file.size > 2 * 1024 * 1024) {\r\n            showNotification('La imagen no debe superar 2MB', 'error');\r\n            return;\r\n        }\r\n\r\n        setUploadingImage(true);\r\n\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('image', file);\r\n\r\n            const response = await axios.post(\r\n                `${API_URL.replace('/api', '')}/api/upload/image`,\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data'\r\n                    }\r\n                }\r\n            );\r\n\r\n            const imageUrl = response.data.url;\r\n            setItemForm({ ...itemForm, image_url: imageUrl });\r\n            setImagePreview(imageUrl);\r\n            showNotification('Imagen subida exitosamente', 'success');\r\n        } catch (error) {\r\n            console.error('Error al subir imagen:', error);\r\n            showNotification('Error al subir la imagen', 'error');\r\n        } finally {\r\n            setUploadingImage(false);\r\n        }\r\n    };\r\n\r\n// Funci칩n para eliminar la imagen\r\n    const handleRemoveImage = () => {\r\n        setImageFile(null);\r\n        setImagePreview('');\r\n        setItemForm({ ...itemForm, image_url: '' });\r\n    };\r\n\r\n    // Manejadores de modales\r\n    const openModal = (modalName, data = null) => {\r\n        setModals(prev => ({ ...prev, [modalName]: true }));\r\n\r\n        if (modalName === 'item') {\r\n            if (data) {\r\n                setEditingItem(data);\r\n                setItemForm({\r\n                    name: data.name || '',\r\n                    description: data.description || '',\r\n                    category: data.category || 'herramientas',\r\n                    quantity: data.quantity_total || 1,\r\n                    rental_price: data.daily_rate || 0,\r\n                    image_url: data.image_url || ''\r\n                });\r\n                // Establecer preview si hay imagen existente\r\n                setImagePreview(data.image_url || '');\r\n            } else {\r\n                setEditingItem(null);\r\n                setItemForm({\r\n                    name: '',\r\n                    description: '',\r\n                    category: 'herramientas',\r\n                    quantity: 1,\r\n                    rental_price: 0,\r\n                    image_url: ''\r\n                });\r\n                setImagePreview('');\r\n                setImageFile(null);\r\n            }\r\n\r\n\r\n        } else if (modalName === 'rental' && data) {\r\n            setSelectedItem(data);\r\n            setRentalForm(prev => ({\r\n                ...prev,\r\n                item_id: data.id,\r\n                quantity_rented: 1\r\n            }));\r\n        } else if (modalName === 'return' && data) {\r\n            setSelectedRental(data);\r\n        } else if (modalName === 'payment' && data) {\r\n            setSelectedRental(data);\r\n            fetchPayments(data.id);\r\n        }\r\n    };\r\n\r\n    const closeModal = (modalName) => {\r\n        setModals(prev => ({ ...prev, [modalName]: false }));\r\n\r\n        if (modalName === 'item') {\r\n            setEditingItem(null);\r\n            setItemForm({\r\n                name: '',\r\n                description: '',\r\n                category: 'herramientas',\r\n                quantity: 1,\r\n                rental_price: 0,\r\n                image_url: ''\r\n            });\r\n            setImagePreview('');\r\n            setImageFile(null);\r\n        } else if (modalName === 'rental') {\r\n            setSelectedItem(null);\r\n            setRentalForm({\r\n                item_id: '',\r\n                customer_name: '',\r\n                customer_id_number: '',\r\n                customer_address: '',\r\n                customer_phone: '',\r\n                customer_email: '',\r\n                rental_start: new Date().toISOString().split('T')[0],\r\n                rental_end: '',\r\n                quantity_rented: 1,\r\n                has_collateral: false,\r\n                collateral_description: '',\r\n                total_amount: 0,\r\n                initial_deposit: 0,\r\n                notes: ''\r\n            });\r\n        }\r\n    };\r\n\r\n    // Manejadores de formularios\r\n\r\n    const handleItemSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n\r\n        try {\r\n            // Preparar los datos con la estructura correcta que espera el backend\r\n            const itemData = {\r\n                name: itemForm.name,\r\n                description: itemForm.description || '',\r\n                category: itemForm.category,\r\n                daily_rate: parseFloat(itemForm.rental_price) || 0,\r\n                weekly_rate: (parseFloat(itemForm.rental_price) || 0) * 6,\r\n                monthly_rate: (parseFloat(itemForm.rental_price) || 0) * 25,\r\n                quantity_total: parseInt(itemForm.quantity) || 1,\r\n                quantity_available: parseInt(itemForm.quantity) || 1,\r\n                status: 'disponible',\r\n                image_url: itemForm.image_url || ''\r\n            };\r\n\r\n            if (editingItem) {\r\n                // Al editar, mantener la cantidad disponible actual\r\n                const currentItem = items.find(item => item.id === editingItem.id);\r\n                if (currentItem) {\r\n                    // Calcular la diferencia para mantener la proporci칩n correcta\r\n                    const rentedQuantity = currentItem.quantity_total - currentItem.quantity_available;\r\n                    itemData.quantity_available = Math.max(0, itemData.quantity_total - rentedQuantity);\r\n                }\r\n\r\n                await axios.put(`${API_URL}/rental-items/${editingItem.id}`, itemData);\r\n                showNotification('Art칤culo actualizado exitosamente');\r\n            } else {\r\n                // Crear nuevo art칤culo\r\n                await axios.post(`${API_URL}/rental-items`, itemData);\r\n                showNotification('Art칤culo creado exitosamente');\r\n            }\r\n\r\n            await fetchItems();\r\n            closeModal('item');\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n            const errorMessage = error.response?.data?.error || 'Error al guardar el art칤culo';\r\n            showNotification(errorMessage, 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Busca la funci칩n handleRentalSubmit en tu Rental.jsx y reempl치zala con esta versi칩n corregida:\r\n\r\n    const handleRentalSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n\r\n        try {\r\n            // Validar que se haya seleccionado un art칤culo\r\n            if (!rentalForm.item_id) {\r\n                showNotification('Por favor seleccione un art칤culo', 'error');\r\n                setLoading(false);\r\n                return;\r\n            }\r\n\r\n            // Preparar los datos del alquiler\r\n            const rentalPromises = rentalForm.items.map(async (item) => {\r\n\r\n                const rentalData = {\r\n                // Datos del art칤culo\r\n                    item_id: item.item_id,\r\n                    quantity_rented: item.quantity,\r\n                    customer_name: rentalForm.customer_name.trim(),\r\n                    customer_id_number: rentalForm.customer_id_number.trim(),\r\n                    customer_phone: rentalForm.customer_phone.trim(),\r\n                    customer_address: rentalForm.customer_address?.trim() || '',\r\n                    customer_email: rentalForm.customer_email?.trim() || '',\r\n                    rental_start: rentalForm.rental_start,\r\n                    rental_end: rentalForm.rental_end,\r\n                    // Calcular el precio para este art칤culo espec칤fico\r\n                    total_amount: calculateItemPrice(item, rentalForm.rental_start, rentalForm.rental_end),\r\n                    initial_deposit: rentalForm.initial_deposit > 0 ?\r\n                        (rentalForm.initial_deposit / rentalForm.items.length) : 0, // Dividir el dep칩sito entre todos los art칤culos\r\n                    notes: rentalForm.notes || ''\r\n                };\r\n\r\n                return axios.post(`${API_URL}/rentals`, rentalData);\r\n            });\r\n\r\n            // Validaci칩n adicional de campos requeridos\r\n            if (!rentalData.customer_name || !rentalData.customer_id_number || !rentalData.customer_phone) {\r\n                showNotification('Por favor complete todos los campos obligatorios del cliente', 'error');\r\n                setLoading(false);\r\n                return;\r\n            }\r\n\r\n            if (!rentalData.rental_start || !rentalData.rental_end) {\r\n                showNotification('Por favor seleccione las fechas de inicio y fin del alquiler', 'error');\r\n                setLoading(false);\r\n                return;\r\n            }\r\n\r\n            // Validar que la fecha de fin sea posterior a la de inicio\r\n            if (new Date(rentalData.rental_end) <= new Date(rentalData.rental_start)) {\r\n                showNotification('La fecha de fin debe ser posterior a la fecha de inicio', 'error');\r\n                setLoading(false);\r\n                return;\r\n            }\r\n\r\n            console.log('Enviando datos del alquiler:', rentalData); // Para debugging\r\n\r\n            // IMPORTANTE: Usar la ruta correcta /api/rentals (sin /complete)\r\n            const response = await axios.post(`${API_URL}/rentals`, rentalData);\r\n\r\n            // Si la respuesta es exitosa\r\n            if (response.data) {\r\n                showNotification('Alquiler creado exitosamente', 'success');\r\n\r\n                // Recargar los datos\r\n                await Promise.all([fetchItems(), fetchRentals()]);\r\n\r\n                // Limpiar el formulario\r\n                setRentalForm({\r\n                    item_id: '',\r\n                    customer_name: '',\r\n                    customer_id_number: '',\r\n                    customer_address: '',\r\n                    customer_phone: '',\r\n                    customer_email: '',\r\n                    rental_start: '',\r\n                    rental_end: '',\r\n                    quantity_rented: 1,\r\n                    total_amount: 0,\r\n                    initial_deposit: 0,\r\n                    notes: ''\r\n                });\r\n\r\n                // Cerrar el modal\r\n                closeModal('rental');\r\n            }\r\n\r\n        } catch (error) {\r\n            console.error('Error al crear alquiler:', error);\r\n\r\n            // Manejar diferentes tipos de errores\r\n            let errorMessage = 'Error al crear alquiler';\r\n\r\n            if (error.response) {\r\n                // Error del servidor\r\n                errorMessage = error.response.data?.error || error.response.data?.message || errorMessage;\r\n                console.error('Respuesta del servidor:', error.response.data);\r\n            } else if (error.request) {\r\n                // No hubo respuesta del servidor\r\n                errorMessage = 'No se pudo conectar con el servidor';\r\n                console.error('No hay respuesta:', error.request);\r\n            } else {\r\n                // Error en la configuraci칩n de la petici칩n\r\n                errorMessage = error.message;\r\n            }\r\n\r\n            showNotification(errorMessage, 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleReturnSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n\r\n        try {\r\n            await axios.patch(`${API_URL}/rentals/${selectedRental.id}/return`, {\r\n                condition_notes: returnForm.notes,\r\n                return_condition: returnForm.condition\r\n            });\r\n\r\n            // Si hay pago final, registrarlo\r\n            if (returnForm.final_payment > 0) {\r\n                await axios.post(`${API_URL}/rentals/${selectedRental.id}/payments`, {\r\n                    amount: returnForm.final_payment,\r\n                    payment_method: 'efectivo',\r\n                    notes: 'Pago al devolver'\r\n                });\r\n            }\r\n\r\n            showNotification('Devoluci칩n registrada exitosamente');\r\n            await Promise.all([fetchItems(), fetchRentals()]);\r\n            closeModal('return');\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n            showNotification('Error al registrar devoluci칩n', 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handlePaymentSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!selectedRental || !selectedRental.id) {\r\n            showNotification('Error: No se ha seleccionado un alquiler', 'error');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n\r\n        try {\r\n            const response = await axios.post(\r\n                `${API_URL}/rentals/${selectedRental.id}/payments`,\r\n                paymentForm\r\n            );\r\n\r\n            showNotification('Abono registrado exitosamente', 'success');\r\n\r\n            // Recargar los pagos\r\n            await fetchPayments(selectedRental.id);\r\n\r\n            // Limpiar el formulario\r\n            setPaymentForm({\r\n                amount: 0,\r\n                payment_method: 'efectivo',\r\n                notes: ''\r\n            });\r\n\r\n            // Actualizar la lista de alquileres\r\n            await fetchRentals();\r\n\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n            const errorMessage = error.response?.data?.error || 'Error al registrar abono';\r\n            showNotification(errorMessage, 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDeleteItem = async (id) => {\r\n        // Buscar el art칤culo para mostrar su nombre en la confirmaci칩n\r\n        const item = items.find(i => i.id === id);\r\n        const itemName = item ? item.name : 'este art칤culo';\r\n\r\n        if (!window.confirm(`쮼st치 seguro de eliminar \"${itemName}\"?\\n\\nEsta acci칩n no se puede deshacer.`)) {\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n\r\n        try {\r\n            const response = await axios.delete(`${API_URL}/rental-items/${id}`);\r\n\r\n            // Mostrar mensaje de 칠xito con detalles si est치n disponibles\r\n            if (response.data && response.data.stats) {\r\n                const { payments_deleted, rentals_deleted } = response.data.stats;\r\n                let message = 'Art칤culo eliminado exitosamente';\r\n\r\n                if (rentals_deleted > 0 || payments_deleted > 0) {\r\n                    message += `. Se eliminaron ${rentals_deleted} alquiler(es) hist칩rico(s) y ${payments_deleted} pago(s) asociado(s).`;\r\n                }\r\n\r\n                showNotification(message, 'success');\r\n            } else {\r\n                showNotification('Art칤culo eliminado exitosamente', 'success');\r\n            }\r\n\r\n            // Recargar la lista de art칤culos\r\n            await fetchItems();\r\n\r\n        } catch (error) {\r\n            console.error('Error al eliminar:', error);\r\n\r\n            // Manejar diferentes tipos de errores\r\n            let errorMessage = 'Error al eliminar el art칤culo';\r\n\r\n            if (error.response) {\r\n                if (error.response.status === 400) {\r\n                    // Error de validaci칩n (art칤culo tiene alquileres activos)\r\n                    errorMessage = error.response.data.error || 'No se puede eliminar: El art칤culo est치 en uso';\r\n                } else if (error.response.status === 404) {\r\n                    errorMessage = 'El art칤culo no fue encontrado';\r\n                } else if (error.response.status === 500) {\r\n                    // Error del servidor\r\n                    errorMessage = error.response.data.error || 'Error interno del servidor';\r\n\r\n                    // Si hay detalles adicionales en desarrollo\r\n                    if (error.response.data.details) {\r\n                        console.error('Detalles del error:', error.response.data.details);\r\n                    }\r\n                }\r\n            } else if (error.request) {\r\n                errorMessage = 'No se pudo conectar con el servidor';\r\n            }\r\n\r\n            // Mostrar notificaci칩n de error\r\n            showNotification(errorMessage, 'error');\r\n\r\n            // Si el error indica que hay alquileres activos, ofrecer m치s informaci칩n\r\n            if (errorMessage.includes('alquiler') && errorMessage.includes('activo')) {\r\n                // Opcionalmente, mostrar una lista de los alquileres activos\r\n                const activeRentalsForItem = rentals.filter(\r\n                    r => r.item_id === id && r.status === 'activo'\r\n                );\r\n\r\n                if (activeRentalsForItem.length > 0) {\r\n                    console.log('Alquileres activos que impiden la eliminaci칩n:');\r\n                    activeRentalsForItem.forEach(rental => {\r\n                        console.log(`- Cliente: ${rental.customer_name}, Fecha fin: ${formatDate(rental.rental_end)}`);\r\n                    });\r\n                }\r\n            }\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n\r\n    const handleDeletePayment = async (paymentId) => {\r\n        if (!window.confirm('쮼st치 seguro de eliminar este abono?')) return;\r\n\r\n        try {\r\n            await axios.delete(`${API_URL}/rental-payments/${paymentId}`);\r\n            showNotification('Abono eliminado');\r\n            await fetchPayments(selectedRental.id);\r\n        } catch (error) {\r\n            showNotification('Error al eliminar abono', 'error');\r\n        }\r\n    };\r\n\r\n    // Funci칩n para mostrar notificaciones\r\n    const showNotification = (message, type = 'success') => {\r\n        setNotification({ message, type });\r\n    };\r\n\r\n    // Funci칩n para formatear fecha\r\n    const formatDate = (date) => {\r\n        if (!date) return '';\r\n        const options = { day: '2-digit', month: 'short', year: 'numeric' };\r\n        return new Date(date).toLocaleDateString('es-ES', options);\r\n    };\r\n\r\n    // Funci칩n para calcular d칤as vencidos\r\n    const getDaysOverdue = (endDate) => {\r\n        const today = new Date();\r\n        const end = new Date(endDate);\r\n        const diff = Math.floor((today - end) / (1000 * 60 * 60 * 24));\r\n        return diff > 0 ? diff : 0;\r\n    };\r\n\r\n    // Renderizado del componente\r\n    return (\r\n        <div className=\"rental-container\">\r\n            {/* Notificaciones */}\r\n            {notification && (\r\n                <Notification\r\n                    message={notification.message}\r\n                    type={notification.type}\r\n                    onClose={() => setNotification(null)}\r\n                />\r\n            )}\r\n\r\n            {/* Header Principal */}\r\n            <div className=\"rental-header\">\r\n                <div className=\"header-top\">\r\n                    <h1 className=\"header-title\">Gesti칩n de Alquileres</h1>\r\n                    <div className=\"header-actions\">\r\n                        <button\r\n                            className=\"btn btn-primary\"\r\n                            onClick={() => openModal('item')}\r\n                        >\r\n                            <Plus size={20} />\r\n                            Nuevo Art칤culo\r\n                        </button>\r\n                        <button\r\n                            className=\"btn btn-warning\"\r\n                            onClick={() => {\r\n                                setSelectedItem(null);\r\n                                openModal('rental');\r\n                            }}\r\n                        >\r\n                            <Key size={20} />\r\n                            Nuevo Alquiler\r\n                        </button>\r\n                        <button\r\n                            className=\"btn btn-secondary\"\r\n                            onClick={loadInitialData}\r\n                            disabled={loading}\r\n                        >\r\n                            <RefreshCw size={20} className={loading ? 'spinning' : ''} />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Controles de b칰squeda y filtros */}\r\n                <div className=\"header-controls\">\r\n                    <div className=\"search-box\">\r\n                        <Search size={16} />\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Buscar art칤culos...\"\r\n                            value={searchTerm}\r\n                            onChange={(e) => setSearchTerm(e.target.value)}\r\n                        />\r\n                        {searchTerm && (\r\n                            <button\r\n                                className=\"clear-search\"\r\n                                onClick={() => setSearchTerm('')}\r\n                            >\r\n                                <X size={16} />\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n\r\n                    <select\r\n                        className=\"filter-select\"\r\n                        value={filterCategory}\r\n                        onChange={(e) => setFilterCategory(e.target.value)}\r\n                    >\r\n                        <option value=\"all\">Todas las categor칤as</option>\r\n                        {Object.entries(CATEGORIES).map(([key, cat]) => (\r\n                            <option key={key} value={key}>\r\n                                {cat.icon} {cat.label}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n\r\n                    <select\r\n                        className=\"filter-select\"\r\n                        value={filterStatus}\r\n                        onChange={(e) => setFilterStatus(e.target.value)}\r\n                    >\r\n                        <option value=\"all\">Todos los estados</option>\r\n                        <option value=\"disponible\">九 Disponibles</option>\r\n                        <option value=\"agotado\">仇 Agotados</option>\r\n                    </select>\r\n                </div>\r\n\r\n                {/* Tabs de navegaci칩n */}\r\n                <div className=\"view-tabs\">\r\n                    <button\r\n                        className={`tab-button ${currentView === 'items' ? 'active' : ''}`}\r\n                        onClick={() => setCurrentView('items')}\r\n                    >\r\n                        <Package size={16} />\r\n                        Art칤culos\r\n                    </button>\r\n                    <button\r\n                        className={`tab-button ${currentView === 'rentals' ? 'active' : ''}`}\r\n                        onClick={() => setCurrentView('rentals')}\r\n                    >\r\n                        <Key size={16} />\r\n                        Alquilados\r\n                        {stats.activeRentals > 0 && (\r\n                            <span className=\"badge\">{stats.activeRentals}</span>\r\n                        )}\r\n                    </button>\r\n                    <button\r\n                        className={`tab-button ${currentView === 'pending' ? 'active' : ''}`}\r\n                        onClick={() => setCurrentView('pending')}\r\n                    >\r\n                        <AlertCircle size={16} />\r\n                        Pendientes\r\n                        {stats.overdueRentals > 0 && (\r\n                            <span className=\"badge badge-danger\">{stats.overdueRentals}</span>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Estad칤sticas */}\r\n            <div className=\"stats-grid\">\r\n                <div className=\"stat-card\">\r\n                    <div className=\"stat-icon yellow\">\r\n                        <Package size={24} />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <div className=\"stat-value\">{stats.totalItems}</div>\r\n                        <div className=\"stat-label\">Total Art칤culos</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"stat-card\">\r\n                    <div className=\"stat-icon green\">\r\n                        <CheckCircle size={24} />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <div className=\"stat-value\">{stats.availableUnits}</div>\r\n                        <div className=\"stat-label\">Disponibles</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"stat-card\">\r\n                    <div className=\"stat-icon blue\">\r\n                        <Key size={24} />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <div className=\"stat-value\">{stats.rentedUnits}</div>\r\n                        <div className=\"stat-label\">Alquilados</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"stat-card\">\r\n                    <div className=\"stat-icon red\">\r\n                        <AlertTriangle size={24} />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <div className=\"stat-value\">{stats.overdueRentals}</div>\r\n                        <div className=\"stat-label\">Vencidos</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Contenido Principal */}\r\n            <div className=\"rental-content\">\r\n                {loading && (\r\n                    <div className=\"loading-overlay\">\r\n                        <div className=\"spinner\"></div>\r\n                        <p>Cargando...</p>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Vista de Art칤culos */}\r\n                {currentView === 'items' && (\r\n                    <div className=\"items-grid\">\r\n                        {getFilteredItems().length > 0 ? (\r\n                            getFilteredItems().map(item => (\r\n                                <div key={item.id} className=\"item-card\">\r\n                                    <div className=\"item-image\">\r\n                                        {item.image_url ? (\r\n                                            <img src={item.image_url} alt={item.name} />\r\n                                        ) : (\r\n                                            <div className=\"no-image\">\r\n                                                <Package size={48} />\r\n                                            </div>\r\n                                        )}\r\n                                        <div className=\"item-quantity-badge\">\r\n                                            <Hash size={14} />\r\n                                            {item.quantity_available || 0}/{item.quantity_total || 0}\r\n                                        </div>\r\n                                        <div className=\"item-category-badge\">\r\n                                            {CATEGORIES[item.category]?.icon}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"item-content\">\r\n                                        <h3 className=\"item-name\">{item.name}</h3>\r\n                                        <p className=\"item-description\">{item.description}</p>\r\n\r\n                                        <div className=\"item-price\">\r\n                                            <DollarSign size={16} />\r\n                                            ${item.daily_rate || 0}/d칤a\r\n                                        </div>\r\n\r\n                                        <div\r\n                                            className=\"item-status\"\r\n                                            style={{\r\n                                                background: item.quantity_available > 0\r\n                                                    ? STATUS_CONFIG.disponible.bgColor\r\n                                                    : STATUS_CONFIG.agotado.bgColor,\r\n                                                color: item.quantity_available > 0\r\n                                                    ? STATUS_CONFIG.disponible.color\r\n                                                    : STATUS_CONFIG.agotado.color\r\n                                            }}\r\n                                        >\r\n                                            {item.quantity_available > 0\r\n                                                ? `${item.quantity_available} disponibles`\r\n                                                : 'Agotado'}\r\n                                        </div>\r\n\r\n                                        <div className=\"item-actions\">\r\n                                            <button\r\n                                                className=\"btn btn-rent\"\r\n                                                onClick={() => openModal('rental', item)}\r\n                                                disabled={item.quantity_available === 0}\r\n                                            >\r\n                                                <Key size={14} />\r\n                                                Alquilar\r\n                                            </button>\r\n                                            <button\r\n                                                className=\"btn btn-edit\"\r\n                                                onClick={() => openModal('item', item)}\r\n                                            >\r\n                                                <Edit2 size={14} />\r\n                                            </button>\r\n                                            <button\r\n                                                className=\"btn btn-delete\"\r\n                                                onClick={() => handleDeleteItem(item.id)}\r\n                                            >\r\n                                                <Trash2 size={14} />\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        ) : (\r\n                            <div className=\"empty-state\">\r\n                                <Package size={64} />\r\n                                <h3>No se encontraron art칤culos</h3>\r\n                                <p>Comienza agregando tu primer art칤culo</p>\r\n                                <button\r\n                                    className=\"btn btn-primary\"\r\n                                    onClick={() => openModal('item')}\r\n                                >\r\n                                    <Plus size={20} />\r\n                                    Agregar Art칤culo\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Vista de Alquilados */}\r\n                {currentView === 'rentals' && (\r\n                    <div className=\"rentals-list\">\r\n                        {getActiveRentals().length > 0 ? (\r\n                            getActiveRentals().map(rental => (\r\n                                <div key={rental.id} className=\"rental-card\">\r\n                                    <div className=\"rental-header\">\r\n                                        <div className=\"rental-customer\">\r\n                                            <User size={20} />\r\n                                            <div>\r\n                                                <h4>{rental.customer_name}</h4>\r\n                                                <span className=\"customer-details\">\r\n                                                    {rental.customer_id_number}  {rental.customer_phone}\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                        {rental.has_collateral && (\r\n                                            <div className=\"collateral-badge\">\r\n                                                <Shield size={14} />\r\n                                                Con Prenda\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    <div className=\"rental-item-info\">\r\n                                        <Package size={16} />\r\n                                        <span>{rental.item_name}</span>\r\n                                        <span className=\"quantity\">x{rental.quantity_rented}</span>\r\n                                    </div>\r\n\r\n                                    <div className=\"rental-dates\">\r\n                                        <div className=\"date-item\">\r\n                                            <Calendar size={14} />\r\n                                            <div>\r\n                                                <span className=\"date-label\">Inicio</span>\r\n                                                <span className=\"date-value\">{formatDate(rental.rental_start)}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <ArrowRight size={16} />\r\n                                        <div className=\"date-item\">\r\n                                            <Calendar size={14} />\r\n                                            <div>\r\n                                                <span className=\"date-label\">Devoluci칩n</span>\r\n                                                <span className=\"date-value\">{formatDate(rental.rental_end)}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"rental-payment-info\">\r\n                                        <div className=\"payment-stat\">\r\n                                            <span className=\"payment-label\">Total</span>\r\n                                            <span className=\"payment-value\">${rental.total_amount}</span>\r\n                                        </div>\r\n                                        <div className=\"payment-stat\">\r\n                                            <span className=\"payment-label\">Abonado</span>\r\n                                            <span className=\"payment-value text-green\">\r\n                                                ${rental.total_paid || 0}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div className=\"payment-stat\">\r\n                                            <span className=\"payment-label\">Saldo</span>\r\n                                            <span className=\"payment-value text-orange\">\r\n                                                ${(rental.total_amount - (rental.total_paid || 0)).toFixed(2)}\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"rental-actions\">\r\n                                        <button\r\n                                            className=\"btn btn-success\"\r\n                                            onClick={() => openModal('return', rental)}\r\n                                        >\r\n                                            <RotateCcw size={14} />\r\n                                            Devolver\r\n                                        </button>\r\n                                        <button\r\n                                            className=\"btn btn-warning\"\r\n                                            onClick={() => openModal('payment', rental)}\r\n                                        >\r\n                                            <DollarSign size={14} />\r\n                                            Abonos\r\n                                        </button>\r\n                                        <button\r\n                                            className=\"btn btn-secondary\"\r\n                                            onClick={() => {\r\n                                                setSelectedRental(rental);\r\n                                                openModal('details');\r\n                                            }}\r\n                                        >\r\n                                            <Eye size={14} />\r\n                                            Detalles\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        ) : (\r\n                            <div className=\"empty-state\">\r\n                                <Key size={64} />\r\n                                <h3>No hay art칤culos alquilados</h3>\r\n                                <p>Los alquileres activos aparecer치n aqu칤</p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Vista de Pendientes */}\r\n                {currentView === 'pending' && (\r\n                    <div className=\"rentals-list\">\r\n                        {getPendingReturns().length > 0 ? (\r\n                            getPendingReturns().map(rental => {\r\n                                const daysOverdue = getDaysOverdue(rental.rental_end);\r\n\r\n                                return (\r\n                                    <div key={rental.id} className=\"rental-card overdue\">\r\n                                        <div className=\"overdue-indicator\">\r\n                                            <AlertTriangle size={16} />\r\n                                            {daysOverdue} d칤as vencido\r\n                                        </div>\r\n\r\n                                        <div className=\"rental-header\">\r\n                                            <div className=\"rental-customer\">\r\n                                                <User size={20} />\r\n                                                <div>\r\n                                                    <h4>{rental.customer_name}</h4>\r\n                                                    <span className=\"customer-details\">\r\n                                                        游님 {rental.customer_phone}\r\n                                                    </span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"rental-item-info\">\r\n                                            <Package size={16} />\r\n                                            <span>{rental.item_name}</span>\r\n                                        </div>\r\n\r\n                                        <div className=\"overdue-info\">\r\n                                            <div className=\"info-item\">\r\n                                                <span className=\"info-label\">Debi칩 devolver:</span>\r\n                                                <span className=\"info-value\">{formatDate(rental.rental_end)}</span>\r\n                                            </div>\r\n                                            <div className=\"info-item\">\r\n                                                <span className=\"info-label\">Saldo pendiente:</span>\r\n                                                <span className=\"info-value text-orange\">\r\n                                                    ${(rental.total_amount - (rental.total_paid || 0)).toFixed(2)}\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"rental-actions\">\r\n                                            <button\r\n                                                className=\"btn btn-success\"\r\n                                                onClick={() => openModal('return', rental)}\r\n                                            >\r\n                                                <RotateCcw size={14} />\r\n                                                Registrar Devoluci칩n\r\n                                            </button>\r\n                                            <button\r\n                                                className=\"btn btn-primary\"\r\n                                                onClick={() => window.location.href = `tel:${rental.customer_phone}`}\r\n                                            >\r\n                                                <Phone size={14} />\r\n                                                Contactar\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                );\r\n                            })\r\n                        ) : (\r\n                            <div className=\"empty-state\">\r\n                                <CheckCircle size={64} color=\"#10b981\" />\r\n                                <h3>No hay devoluciones pendientes</h3>\r\n                                <p>춰Todos los alquileres est치n al d칤a!</p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Modal de Art칤culo */}\r\n            {modals.item && (\r\n                <div className=\"modal-overlay\" onClick={() => closeModal('item')}>\r\n                    <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\r\n                        <div className=\"modal-header\">\r\n                            <h2>{editingItem ? 'Editar Art칤culo' : 'Nuevo Art칤culo'}</h2>\r\n                            <button className=\"close-btn\" onClick={() => closeModal('item')}>\r\n                                <X size={24} />\r\n                            </button>\r\n                        </div>\r\n\r\n                        <form onSubmit={handleItemSubmit}>\r\n                            <div className=\"form-group\">\r\n                                <label>Nombre del art칤culo *</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    className=\"form-control\"\r\n                                    value={itemForm.name}\r\n                                    onChange={(e) => setItemForm({...itemForm, name: e.target.value})}\r\n                                    required\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"form-row\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Categor칤a</label>\r\n                                    <select\r\n                                        className=\"form-control\"\r\n                                        value={itemForm.category}\r\n                                        onChange={(e) => setItemForm({...itemForm, category: e.target.value})}\r\n                                    >\r\n                                        {Object.entries(CATEGORIES).map(([key, cat]) => (\r\n                                            <option key={key} value={key}>\r\n                                                {cat.icon} {cat.label}\r\n                                            </option>\r\n                                        ))}\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Cantidad</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        className=\"form-control\"\r\n                                        value={itemForm.quantity}\r\n                                        onChange={(e) => setItemForm({...itemForm, quantity: parseInt(e.target.value)})}\r\n                                        min=\"1\"\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Precio de alquiler (por d칤a)</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    className=\"form-control\"\r\n                                    value={itemForm.rental_price}\r\n                                    onChange={(e) => setItemForm({...itemForm, rental_price: parseFloat(e.target.value)})}\r\n                                    step=\"0.01\"\r\n                                    min=\"0\"\r\n                                    required\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Descripci칩n</label>\r\n                                <textarea\r\n                                    className=\"form-control\"\r\n                                    value={itemForm.description}\r\n                                    onChange={(e) => setItemForm({...itemForm, description: e.target.value})}\r\n                                    rows=\"3\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Imagen del art칤culo (PNG)</label>\r\n\r\n                                {/* Preview de la imagen */}\r\n                                {(imagePreview || itemForm.image_url) && (\r\n                                    <div className=\"image-preview-container\">\r\n                                        <img\r\n                                            src={imagePreview || itemForm.image_url}\r\n                                            alt=\"Preview\"\r\n                                            className=\"image-preview\"\r\n                                        />\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            className=\"remove-image-btn\"\r\n                                            onClick={handleRemoveImage}\r\n                                            title=\"Eliminar imagen\"\r\n                                        >\r\n                                            <X size={20} />\r\n                                        </button>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {/* Input de archivo oculto */}\r\n                                <input\r\n                                    type=\"file\"\r\n                                    id=\"image-upload\"\r\n                                    accept=\"image/png\"\r\n                                    onChange={(e) => {\r\n                                        const file = e.target.files[0];\r\n                                        if (file) {\r\n                                            setImageFile(file);\r\n                                            handleImageUpload(file);\r\n                                        }\r\n                                    }}\r\n                                    style={{ display: 'none' }}\r\n                                />\r\n\r\n                                {/* Bot칩n personalizado para subir imagen */}\r\n                                <label\r\n                                    htmlFor=\"image-upload\"\r\n                                    className={`upload-image-btn ${uploadingImage ? 'uploading' : ''}`}\r\n                                >\r\n                                    {uploadingImage ? (\r\n                                        <>\r\n                                            <div className=\"spinner-small\"></div>\r\n                                            <span>Subiendo...</span>\r\n                                        </>\r\n                                    ) : (\r\n                                        <>\r\n                                            <Camera size={20} />\r\n                                            <span>\r\n                    {imagePreview || itemForm.image_url\r\n                        ? 'Cambiar imagen'\r\n                        : 'Subir imagen PNG'}\r\n                </span>\r\n                                        </>\r\n                                    )}\r\n                                </label>\r\n\r\n                                <small className=\"form-help\">\r\n                                    Solo archivos PNG. Tama침o m치ximo: 2MB\r\n                                </small>\r\n                            </div>\r\n\r\n                            <div className=\"form-actions\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-secondary\"\r\n                                    onClick={() => closeModal('item')}\r\n                                >\r\n                                    Cancelar\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"btn btn-primary\"\r\n                                    disabled={loading}\r\n                                >\r\n                                    {loading ? 'Guardando...' : 'Guardar'}\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Modal de Alquiler */}\r\n            {modals.rental && (\r\n                <div className=\"modal-overlay\" onClick={() => closeModal('rental')}>\r\n                    <div className=\"modal-content large\" onClick={e => e.stopPropagation()}>\r\n                        <div className=\"modal-header\">\r\n                            <h2>Nuevo Alquiler</h2>\r\n                            <button className=\"close-btn\" onClick={() => closeModal('rental')}>\r\n                                <X size={24} />\r\n                            </button>\r\n                        </div>\r\n\r\n                        <form onSubmit={handleRentalSubmit}>\r\n                            {/* Secci칩n para agregar art칤culos */}\r\n                            <div className=\"form-section\">\r\n                                <h3>Art칤culos a alquilar</h3>\r\n\r\n                                {/* Selector de art칤culos */}\r\n                                <div className=\"item-selector\">\r\n                                    <div className=\"form-row\">\r\n                                        <div className=\"form-group\" style={{ flex: 2 }}>\r\n                                            <label>Seleccionar art칤culo</label>\r\n                                            <select\r\n                                                className=\"form-control\"\r\n                                                value={currentItemSelection.item_id}\r\n                                                onChange={(e) => setCurrentItemSelection({\r\n                                                    ...currentItemSelection,\r\n                                                    item_id: e.target.value\r\n                                                })}\r\n                                            >\r\n                                                <option value=\"\">Seleccione un art칤culo...</option>\r\n                                                {items.filter(item => item.quantity_available > 0).map(item => (\r\n                                                    <option key={item.id} value={item.id}>\r\n                                                        {item.name} ({item.quantity_available} disponibles) - ${item.daily_rate}/d칤a\r\n                                                    </option>\r\n                                                ))}\r\n                                            </select>\r\n                                        </div>\r\n\r\n                                        <div className=\"form-group\" style={{ flex: 1 }}>\r\n                                            <label>Cantidad</label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                className=\"form-control\"\r\n                                                value={currentItemSelection.quantity}\r\n                                                onChange={(e) => setCurrentItemSelection({\r\n                                                    ...currentItemSelection,\r\n                                                    quantity: parseInt(e.target.value) || 1\r\n                                                })}\r\n                                                min=\"1\"\r\n                                                max={items.find(i => i.id === parseInt(currentItemSelection.item_id))?.quantity_available || 1}\r\n                                            />\r\n                                        </div>\r\n\r\n                                        <div className=\"form-group\" style={{ alignSelf: 'flex-end' }}>\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"btn btn-secondary\"\r\n                                                onClick={addItemToRental}\r\n                                                disabled={!currentItemSelection.item_id}\r\n                                            >\r\n                                                <Plus size={20} />\r\n                                                Agregar\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Lista de art칤culos agregados */}\r\n                                {rentalForm.items.length > 0 && (\r\n                                    <div className=\"items-list\">\r\n                                        <table className=\"items-table\">\r\n                                            <thead>\r\n                                            <tr>\r\n                                                <th>Art칤culo</th>\r\n                                                <th>Cantidad</th>\r\n                                                <th>Precio/d칤a</th>\r\n                                                <th>Subtotal/d칤a</th>\r\n                                                <th>Acciones</th>\r\n                                            </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                            {rentalForm.items.map((item) => (\r\n                                                <tr key={item.item_id}>\r\n                                                    <td>{item.name}</td>\r\n                                                    <td>{item.quantity}</td>\r\n                                                    <td>${item.daily_rate}</td>\r\n                                                    <td>${(item.daily_rate * item.quantity).toFixed(2)}</td>\r\n                                                    <td>\r\n                                                        <button\r\n                                                            type=\"button\"\r\n                                                            className=\"btn btn-sm btn-danger\"\r\n                                                            onClick={() => removeItemFromRental(item.item_id)}\r\n                                                        >\r\n                                                            <Trash2 size={14} />\r\n                                                        </button>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            ))}\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {rentalForm.items.length === 0 && (\r\n                                    <p className=\"text-muted text-center\">\r\n                                        No hay art칤culos agregados. Seleccione al menos un art칤culo para continuar.\r\n                                    </p>\r\n                                )}\r\n                            </div>\r\n\r\n                            {/* Informaci칩n del Cliente */}\r\n                            <div className=\"form-section\">\r\n                                <h3>Informaci칩n del Cliente</h3>\r\n                                <div className=\"form-group\">\r\n                                    <label>Nombre completo *</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        value={rentalForm.customer_name}\r\n                                        onChange={(e) => setRentalForm({...rentalForm, customer_name: e.target.value})}\r\n                                        required\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-row\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>C칠dula de identidad *</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            value={rentalForm.customer_id_number}\r\n                                            onChange={(e) => setRentalForm({...rentalForm, customer_id_number: e.target.value})}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label>Tel칠fono *</label>\r\n                                        <input\r\n                                            type=\"tel\"\r\n                                            className=\"form-control\"\r\n                                            value={rentalForm.customer_phone}\r\n                                            onChange={(e) => setRentalForm({...rentalForm, customer_phone: e.target.value})}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Direcci칩n de domicilio</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        value={rentalForm.customer_address}\r\n                                        onChange={(e) => setRentalForm({...rentalForm, customer_address: e.target.value})}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Email</label>\r\n                                    <input\r\n                                        type=\"email\"\r\n                                        className=\"form-control\"\r\n                                        value={rentalForm.customer_email}\r\n                                        onChange={(e) => setRentalForm({...rentalForm, customer_email: e.target.value})}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Detalles del Alquiler */}\r\n                            <div className=\"form-section\">\r\n                                <h3>Detalles del Alquiler</h3>\r\n                                <div className=\"form-row\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>Fecha de inicio *</label>\r\n                                        <input\r\n                                            type=\"date\"\r\n                                            className=\"form-control\"\r\n                                            value={rentalForm.rental_start}\r\n                                            onChange={(e) => setRentalForm({...rentalForm, rental_start: e.target.value})}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label>Fecha de devoluci칩n *</label>\r\n                                        <input\r\n                                            type=\"date\"\r\n                                            className=\"form-control\"\r\n                                            value={rentalForm.rental_end}\r\n                                            onChange={(e) => setRentalForm({...rentalForm, rental_end: e.target.value})}\r\n                                            min={rentalForm.rental_start}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"form-row\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>Costo total</label>\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            className=\"form-control\"\r\n                                            value={rentalForm.total_amount}\r\n                                            onChange={(e) => setRentalForm({...rentalForm, total_amount: parseFloat(e.target.value) || 0})}\r\n                                            step=\"0.01\"\r\n                                            min=\"0\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label>Dep칩sito inicial</label>\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            className=\"form-control\"\r\n                                            value={rentalForm.initial_deposit}\r\n                                            onChange={(e) => setRentalForm({...rentalForm, initial_deposit: parseFloat(e.target.value) || 0})}\r\n                                            step=\"0.01\"\r\n                                            min=\"0\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Notas adicionales</label>\r\n                                    <textarea\r\n                                        className=\"form-control\"\r\n                                        value={rentalForm.notes}\r\n                                        onChange={(e) => setRentalForm({...rentalForm, notes: e.target.value})}\r\n                                        rows=\"3\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Resumen del alquiler */}\r\n                            {rentalForm.items.length > 0 && rentalForm.rental_start && rentalForm.rental_end && (\r\n                                <div className=\"rental-summary\">\r\n                                    <h4>Resumen del Alquiler</h4>\r\n                                    <div className=\"summary-details\">\r\n                                        <p><strong>Art칤culos:</strong> {rentalForm.items.length}</p>\r\n                                        <p><strong>Per칤odo:</strong> {formatDate(rentalForm.rental_start)} - {formatDate(rentalForm.rental_end)}</p>\r\n                                        <p><strong>D칤as:</strong> {Math.ceil((new Date(rentalForm.rental_end) - new Date(rentalForm.rental_start)) / (1000 * 60 * 60 * 24)) + 1}</p>\r\n                                        <p className=\"total-price\"><strong>Total:</strong> ${calculateTotalPrice().toFixed(2)}</p>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Botones de acci칩n */}\r\n                            <div className=\"form-actions\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-secondary\"\r\n                                    onClick={() => closeModal('rental')}\r\n                                >\r\n                                    Cancelar\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"btn btn-primary\"\r\n                                    disabled={loading || rentalForm.items.length === 0}\r\n                                >\r\n                                    {loading ? 'Creando...' : 'Crear Alquiler'}\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Modal de Devoluci칩n */}\r\n            {modals.return && selectedRental && (\r\n                <div className=\"modal-overlay\" onClick={() => closeModal('return')}>\r\n                    <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\r\n                        <div className=\"modal-header\">\r\n                            <h2>Registrar Devoluci칩n</h2>\r\n                            <button className=\"close-btn\" onClick={() => closeModal('return')}>\r\n                                <X size={24} />\r\n                            </button>\r\n                        </div>\r\n\r\n                        <form onSubmit={handleReturnSubmit}>\r\n                            <div className=\"rental-summary\">\r\n                                <h3>{selectedRental.item_name}</h3>\r\n                                <p>Cliente: {selectedRental.customer_name}</p>\r\n                                <p>Per칤odo: {formatDate(selectedRental.rental_start)} - {formatDate(selectedRental.rental_end)}</p>\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Estado del art칤culo</label>\r\n                                <select\r\n                                    className=\"form-control\"\r\n                                    value={returnForm.condition}\r\n                                    onChange={(e) => setReturnForm({...returnForm, condition: e.target.value})}\r\n                                >\r\n                                    <option value=\"bueno\">Bueno</option>\r\n                                    <option value=\"regular\">Regular</option>\r\n                                    <option value=\"da침ado\">Da침ado</option>\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Notas sobre el estado</label>\r\n                                <textarea\r\n                                    className=\"form-control\"\r\n                                    value={returnForm.notes}\r\n                                    onChange={(e) => setReturnForm({...returnForm, notes: e.target.value})}\r\n                                    rows=\"3\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"payment-summary\">\r\n                                <div className=\"summary-item\">\r\n                                    <span>Total del alquiler:</span>\r\n                                    <span className=\"amount\">${selectedRental.total_amount}</span>\r\n                                </div>\r\n                                <div className=\"summary-item\">\r\n                                    <span>Abonado:</span>\r\n                                    <span className=\"amount text-green\">${selectedRental.total_paid || 0}</span>\r\n                                </div>\r\n                                <div className=\"summary-item total\">\r\n                                    <span>Saldo pendiente:</span>\r\n                                    <span className=\"amount text-orange\">\r\n                                        ${(selectedRental.total_amount - (selectedRental.total_paid || 0)).toFixed(2)}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {(selectedRental.total_amount - (selectedRental.total_paid || 0)) > 0 && (\r\n                                <div className=\"form-group\">\r\n                                    <label>Pago final</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        className=\"form-control\"\r\n                                        value={returnForm.final_payment}\r\n                                        onChange={(e) => setReturnForm({...returnForm, final_payment: parseFloat(e.target.value)})}\r\n                                        step=\"0.01\"\r\n                                        min=\"0\"\r\n                                        max={selectedRental.total_amount - (selectedRental.total_paid || 0)}\r\n                                    />\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"form-actions\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-secondary\"\r\n                                    onClick={() => closeModal('return')}\r\n                                >\r\n                                    Cancelar\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"btn btn-primary\"\r\n                                    disabled={loading}\r\n                                >\r\n                                    {loading ? 'Procesando...' : 'Confirmar Devoluci칩n'}\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Modal de Pagos */}\r\n            {modals.payment && selectedRental && (\r\n                <div className=\"modal-overlay\" onClick={() => closeModal('payment')}>\r\n                    <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\r\n                        <div className=\"modal-header\">\r\n                            <h2>Gesti칩n de Abonos</h2>\r\n                            <button className=\"close-btn\" onClick={() => closeModal('payment')}>\r\n                                <X size={24} />\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"rental-info\">\r\n                            <h3>{selectedRental.item_name}</h3>\r\n                            <p>Cliente: {selectedRental.customer_name}</p>\r\n                            <p>Total del alquiler: ${selectedRental.total_amount || 0}</p>\r\n                        </div>\r\n\r\n                        {/* Lista de abonos existentes - CON VALIDACI칍N */}\r\n                        <div className=\"payments-list\">\r\n                            <h4>Abonos realizados</h4>\r\n                            {Array.isArray(payments) && payments.length > 0 ? (\r\n                                <table className=\"payments-table\">\r\n                                    <thead>\r\n                                    <tr>\r\n                                        <th>Fecha</th>\r\n                                        <th>Monto</th>\r\n                                        <th>M칠todo</th>\r\n                                        <th>Notas</th>\r\n                                    </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                    {payments.map(payment => (\r\n                                        <tr key={payment.id}>\r\n                                            <td>{formatDate(payment.payment_date)}</td>\r\n                                            <td>${payment.amount}</td>\r\n                                            <td>{payment.payment_method}</td>\r\n                                            <td>{payment.notes || '-'}</td>\r\n                                        </tr>\r\n                                    ))}\r\n                                    </tbody>\r\n                                </table>\r\n                            ) : (\r\n                                <p className=\"text-muted\">No hay abonos registrados</p>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Resumen de pagos - CON VALIDACI칍N */}\r\n                        <div className=\"payment-summary\">\r\n                            <div className=\"summary-item\">\r\n                                <span>Total del alquiler:</span>\r\n                                <span className=\"amount\">${selectedRental.total_amount || 0}</span>\r\n                            </div>\r\n                            <div className=\"summary-item\">\r\n                                <span>Total abonado:</span>\r\n                                <span className=\"amount\">\r\n                        ${Array.isArray(payments)\r\n                                    ? payments.reduce((sum, p) => sum + (parseFloat(p.amount) || 0), 0).toFixed(2)\r\n                                    : '0.00'\r\n                                }\r\n                    </span>\r\n                            </div>\r\n                            <div className=\"summary-item total\">\r\n                                <span>Saldo pendiente:</span>\r\n                                <span className=\"amount\">\r\n                        ${(\r\n                                    (parseFloat(selectedRental.total_amount) || 0) -\r\n                                    (Array.isArray(payments)\r\n                                        ? payments.reduce((sum, p) => sum + (parseFloat(p.amount) || 0), 0)\r\n                                        : 0)\r\n                                ).toFixed(2)}\r\n                    </span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Formulario para nuevo abono */}\r\n                        <form onSubmit={handlePaymentSubmit} className=\"payment-form\">\r\n                            <h4>Registrar nuevo abono</h4>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Monto del abono</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    className=\"form-control\"\r\n                                    value={paymentForm.amount}\r\n                                    onChange={(e) => setPaymentForm({\r\n                                        ...paymentForm,\r\n                                        amount: parseFloat(e.target.value) || 0\r\n                                    })}\r\n                                    step=\"0.01\"\r\n                                    min=\"0.01\"\r\n                                    max={(parseFloat(selectedRental.total_amount) || 0) -\r\n                                        (Array.isArray(payments)\r\n                                            ? payments.reduce((sum, p) => sum + (parseFloat(p.amount) || 0), 0)\r\n                                            : 0)}\r\n                                    required\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>M칠todo de pago</label>\r\n                                <select\r\n                                    className=\"form-control\"\r\n                                    value={paymentForm.payment_method}\r\n                                    onChange={(e) => setPaymentForm({\r\n                                        ...paymentForm,\r\n                                        payment_method: e.target.value\r\n                                    })}\r\n                                >\r\n                                    <option value=\"efectivo\">Efectivo</option>\r\n                                    <option value=\"transferencia\">Transferencia</option>\r\n                                    <option value=\"tarjeta\">Tarjeta</option>\r\n                                    <option value=\"otro\">Otro</option>\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Notas (opcional)</label>\r\n                                <textarea\r\n                                    className=\"form-control\"\r\n                                    value={paymentForm.notes}\r\n                                    onChange={(e) => setPaymentForm({\r\n                                        ...paymentForm,\r\n                                        notes: e.target.value\r\n                                    })}\r\n                                    rows=\"2\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"form-actions\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-secondary\"\r\n                                    onClick={() => closeModal('payment')}\r\n                                >\r\n                                    Cancelar\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"btn btn-primary\"\r\n                                    disabled={loading || !paymentForm.amount}\r\n                                >\r\n                                    {loading ? 'Registrando...' : 'Registrar Abono'}\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Rental;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}