{"ast":null,"code":"import _objectSpread from\"C:/Users/Silvia/WebstormProjects/TASK/task-manager/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// task-manager/frontend/src/Rental.jsx\nimport React,{useState,useEffect,useCallback,useMemo}from'react';import axios from'axios';import{Plus,Edit2,Trash2,Calendar,DollarSign,Package,User,Clock,Search,Filter,X,AlertCircle,CheckCircle,ArrowRight,Key,Home,Phone,Mail,MapPin,CreditCard,FileText,Shield,RotateCcw,AlertTriangle,Eye,Archive,TrendingUp,Hash,Camera,ChevronLeft,ChevronRight,Download,RefreshCw}from'lucide-react';import'./Rental.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'http://localhost:3001/api';// Configuración de categorías y estados\nconst STATUS_CONFIG={disponible:{label:'Disponible',color:'#10b981',bgColor:'#d1fae5'},agotado:{label:'Agotado',color:'#ef4444',bgColor:'#fee2e2'},alquilado:{label:'Alquilado',color:'#f59e0b',bgColor:'#fef3c7'},mantenimiento:{label:'Mantenimiento',color:'#6b7280',bgColor:'#f3f4f6'}};// Componente de Notificación\nconst Notification=_ref=>{let{message,type='success',onClose}=_ref;useEffect(()=>{const timer=setTimeout(onClose,3000);return()=>clearTimeout(timer);},[onClose]);const colors={success:'#10b981',error:'#ef4444',warning:'#f59e0b',info:'#3b82f6'};return/*#__PURE__*/_jsxs(\"div\",{className:\"notification\",style:{background:colors[type]},children:[/*#__PURE__*/_jsx(\"span\",{children:message}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"notification-close\",children:/*#__PURE__*/_jsx(X,{size:16})})]});};// Componente principal\nfunction Rental(_ref2){let{updateTabData}=_ref2;// Estados principales\nconst[items,setItems]=useState([]);const[rentals,setRentals]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[notification,setNotification]=useState(null);// Estados de vista y filtros\nconst[currentView,setCurrentView]=useState('items');const[searchTerm,setSearchTerm]=useState('');const[filterCategory,setFilterCategory]=useState('all');const[filterStatus,setFilterStatus]=useState('all');const[sortBy,setSortBy]=useState('name');const[sortOrder,setSortOrder]=useState('asc');// Estados de modales\nconst[modals,setModals]=useState({item:false,rental:false,return:false,payment:false,details:false});// Estados de formularios\nconst[editingItem,setEditingItem]=useState(null);const[selectedItem,setSelectedItem]=useState(null);const[selectedRental,setSelectedRental]=useState(null);const[payments,setPayments]=useState([]);// Estado del formulario de artículo\nconst[itemForm,setItemForm]=useState({name:'',description:'',category:'herramientas',quantity:1,rental_price:0,image_url:''});// Estado del formulario de alquiler\nconst[rentalForm,setRentalForm]=useState({item_id:'',customer_name:'',customer_id_number:'',customer_address:'',customer_phone:'',customer_email:'',rental_start:new Date().toISOString().split('T')[0],rental_end:'',quantity_rented:1,has_collateral:false,collateral_description:'',total_amount:0,initial_deposit:0,notes:''});// Estado del formulario de devolución\nconst[returnForm,setReturnForm]=useState({condition:'bueno',notes:'',final_payment:0});// Estado del formulario de pago\nconst[paymentForm,setPaymentForm]=useState({amount:0,payment_method:'efectivo',notes:''});// Estadísticas computadas\nconst stats=useMemo(()=>{// Calcular totales de items\nconst totalItems=items.length;const totalUnits=items.reduce((sum,item)=>{return sum+(parseInt(item.quantity_total)||0);},0);const availableUnits=items.reduce((sum,item)=>{return sum+(parseInt(item.quantity_available)||0);},0);// Calcular unidades alquiladas correctamente\nconst rentedUnits=Math.max(0,totalUnits-availableUnits);// Calcular alquileres activos\nconst activeRentals=rentals.filter(r=>r.status==='activo');const today=new Date();const overdueRentals=activeRentals.filter(r=>{const endDate=new Date(r.rental_end);return endDate<today;});return{totalItems,totalUnits,availableUnits,rentedUnits,// Siempre será >= 0\nactiveRentals:activeRentals.length,overdueRentals:overdueRentals.length};},[items,rentals]);// Cargar datos iniciales\nuseEffect(()=>{loadInitialData();},[]);// Actualizar badge de pendientes\nuseEffect(()=>{if(updateTabData){updateTabData({notification:stats.overdueRentals>0?stats.overdueRentals:null});}},[stats.overdueRentals,updateTabData]);// Funciones de carga de datos\nconst loadInitialData=async()=>{setLoading(true);try{await Promise.all([fetchItems(),fetchRentals()]);}catch(error){showNotification('Error al cargar datos','error');}finally{setLoading(false);}};const fetchItems=async()=>{try{const response=await axios.get(\"\".concat(API_URL,\"/rental-items/enhanced\"));setItems(response.data);}catch(error){console.error('Error fetching items:',error);setError('Error al cargar artículos');}};const fetchRentals=async()=>{try{const response=await axios.get(\"\".concat(API_URL,\"/rentals/enhanced\"));setRentals(response.data);}catch(error){console.error('Error fetching rentals:',error);setError('Error al cargar alquileres');}};const fetchPayments=async rentalId=>{try{const response=await axios.get(\"\".concat(API_URL,\"/rentals/\").concat(rentalId,\"/payments\"));setPayments(response.data||[]);}catch(error){console.error('Error fetching payments:',error);setPayments([]);}};// Funciones de filtrado y ordenamiento\nconst getFilteredItems=useCallback(()=>{let filtered=[...items];// Búsqueda\nif(searchTerm){const search=searchTerm.toLowerCase();filtered=filtered.filter(item=>{var _item$name,_item$description;return((_item$name=item.name)===null||_item$name===void 0?void 0:_item$name.toLowerCase().includes(search))||((_item$description=item.description)===null||_item$description===void 0?void 0:_item$description.toLowerCase().includes(search));});}// Filtro por categoría\nif(filterCategory!=='all'){filtered=filtered.filter(item=>item.category===filterCategory);}// Filtro por estado\nif(filterStatus!=='all'){if(filterStatus==='disponible'){filtered=filtered.filter(item=>item.quantity_available>0);}else if(filterStatus==='agotado'){filtered=filtered.filter(item=>item.quantity_available===0);}}// Ordenamiento\nfiltered.sort((a,b)=>{let valueA=a[sortBy];let valueB=b[sortBy];if(typeof valueA==='string'){var _valueB;valueA=valueA.toLowerCase();valueB=((_valueB=valueB)===null||_valueB===void 0?void 0:_valueB.toLowerCase())||'';}if(sortOrder==='asc'){return valueA>valueB?1:-1;}else{return valueA<valueB?1:-1;}});return filtered;},[items,searchTerm,filterCategory,filterStatus,sortBy,sortOrder]);const getActiveRentals=useCallback(()=>{return rentals.filter(r=>r.status==='activo');},[rentals]);const getPendingReturns=useCallback(()=>{const today=new Date();return rentals.filter(r=>{if(r.status!=='activo')return false;const endDate=new Date(r.rental_end);return endDate<=today;});},[rentals]);// Cálculo de precio de alquiler\nconst calculateRentalPrice=useCallback(()=>{if(!selectedItem||!rentalForm.rental_start||!rentalForm.rental_end){return 0;}const start=new Date(rentalForm.rental_start);const end=new Date(rentalForm.rental_end);const days=Math.ceil((end-start)/(1000*60*60*24))+1;const price=selectedItem.rental_price||selectedItem.daily_rate||0;const quantity=rentalForm.quantity_rented||1;return price*days*quantity;},[selectedItem,rentalForm.rental_start,rentalForm.rental_end,rentalForm.quantity_rented]);// Actualizar precio automáticamente\nuseEffect(()=>{if(selectedItem){const price=calculateRentalPrice();setRentalForm(prev=>_objectSpread(_objectSpread({},prev),{},{total_amount:price}));}},[selectedItem,calculateRentalPrice]);// Manejadores de modales\nconst openModal=function(modalName){let data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;setModals(prev=>_objectSpread(_objectSpread({},prev),{},{[modalName]:true}));if(modalName==='item'&&data){setEditingItem(data);setItemForm({name:data.name,description:data.description||'',category:data.category,quantity:data.quantity_total||1,rental_price:data.daily_rate||0,image_url:data.image_url||''});}else if(modalName==='rental'&&data){setSelectedItem(data);setRentalForm(prev=>_objectSpread(_objectSpread({},prev),{},{item_id:data.id,quantity_rented:1}));}else if(modalName==='return'&&data){setSelectedRental(data);}else if(modalName==='payment'&&data){setSelectedRental(data);fetchPayments(data.id);}};const closeModal=modalName=>{setModals(prev=>_objectSpread(_objectSpread({},prev),{},{[modalName]:false}));if(modalName==='item'){setEditingItem(null);setItemForm({name:'',description:'',category:'herramientas',quantity:1,rental_price:0,image_url:''});}else if(modalName==='rental'){setSelectedItem(null);setRentalForm({item_id:'',customer_name:'',customer_id_number:'',customer_address:'',customer_phone:'',customer_email:'',rental_start:new Date().toISOString().split('T')[0],rental_end:'',quantity_rented:1,has_collateral:false,collateral_description:'',total_amount:0,initial_deposit:0,notes:''});}};// Manejadores de formularios\nconst handleItemSubmit=async e=>{e.preventDefault();setLoading(true);try{if(editingItem){await axios.put(\"\".concat(API_URL,\"/rental-items/\").concat(editingItem.id),_objectSpread(_objectSpread({},itemForm),{},{daily_rate:itemForm.rental_price,weekly_rate:itemForm.rental_price*6,monthly_rate:itemForm.rental_price*25,quantity_total:itemForm.quantity,quantity_available:itemForm.quantity}));showNotification('Artículo actualizado exitosamente');}else{await axios.post(\"\".concat(API_URL,\"/rental-items\"),_objectSpread(_objectSpread({},itemForm),{},{daily_rate:itemForm.rental_price,weekly_rate:itemForm.rental_price*6,monthly_rate:itemForm.rental_price*25,quantity:itemForm.quantity,quantity_total:itemForm.quantity,quantity_available:itemForm.quantity,status:'disponible'}));showNotification('Artículo creado exitosamente');}await fetchItems();closeModal('item');}catch(error){console.error('Error:',error);showNotification('Error al guardar el artículo','error');}finally{setLoading(false);}};const handleRentalSubmit=async e=>{e.preventDefault();setLoading(true);try{const rentalData=_objectSpread(_objectSpread({},rentalForm),{},{initial_payment:rentalForm.initial_deposit});await axios.post(\"\".concat(API_URL,\"/rentals/complete\"),rentalData);showNotification('Alquiler creado exitosamente');await Promise.all([fetchItems(),fetchRentals()]);closeModal('rental');}catch(error){console.error('Error:',error);showNotification('Error al crear alquiler','error');}finally{setLoading(false);}};const handleReturnSubmit=async e=>{e.preventDefault();setLoading(true);try{await axios.patch(\"\".concat(API_URL,\"/rentals/\").concat(selectedRental.id,\"/return\"),{condition_notes:returnForm.notes,return_condition:returnForm.condition});// Si hay pago final, registrarlo\nif(returnForm.final_payment>0){await axios.post(\"\".concat(API_URL,\"/rentals/\").concat(selectedRental.id,\"/payments\"),{amount:returnForm.final_payment,payment_method:'efectivo',notes:'Pago al devolver'});}showNotification('Devolución registrada exitosamente');await Promise.all([fetchItems(),fetchRentals()]);closeModal('return');}catch(error){console.error('Error:',error);showNotification('Error al registrar devolución','error');}finally{setLoading(false);}};const handlePaymentSubmit=async e=>{e.preventDefault();setLoading(true);try{await axios.post(\"\".concat(API_URL,\"/rentals/\").concat(selectedRental.id,\"/payments\"),paymentForm);showNotification('Abono registrado exitosamente');await fetchPayments(selectedRental.id);setPaymentForm({amount:0,payment_method:'efectivo',notes:''});}catch(error){console.error('Error:',error);showNotification('Error al registrar abono','error');}finally{setLoading(false);}};const handleDeleteItem=async id=>{if(!window.confirm('¿Está seguro de eliminar este artículo?'))return;setLoading(true);try{await axios.delete(\"\".concat(API_URL,\"/rental-items/\").concat(id));showNotification('Artículo eliminado exitosamente');await fetchItems();}catch(error){console.error('Error:',error);showNotification('Error al eliminar artículo','error');}finally{setLoading(false);}};const handleDeletePayment=async paymentId=>{if(!window.confirm('¿Está seguro de eliminar este abono?'))return;try{await axios.delete(\"\".concat(API_URL,\"/rental-payments/\").concat(paymentId));showNotification('Abono eliminado');await fetchPayments(selectedRental.id);}catch(error){showNotification('Error al eliminar abono','error');}};// Función para mostrar notificaciones\nconst showNotification=function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'success';setNotification({message,type});};// Función para formatear fecha\nconst formatDate=date=>{if(!date)return'';const options={day:'2-digit',month:'short',year:'numeric'};return new Date(date).toLocaleDateString('es-ES',options);};// Función para calcular días vencidos\nconst getDaysOverdue=endDate=>{const today=new Date();const end=new Date(endDate);const diff=Math.floor((today-end)/(1000*60*60*24));return diff>0?diff:0;};// Renderizado del componente\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"rental-container\",children:[notification&&/*#__PURE__*/_jsx(Notification,{message:notification.message,type:notification.type,onClose:()=>setNotification(null)}),/*#__PURE__*/_jsxs(\"div\",{className:\"rental-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-top\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"header-title\",children:\"Gesti\\xF3n de Alquileres\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:()=>openModal('item'),children:[/*#__PURE__*/_jsx(Plus,{size:20}),\"Nuevo Art\\xEDculo\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-warning\",onClick:()=>{setSelectedItem(null);openModal('rental');},children:[/*#__PURE__*/_jsx(Key,{size:20}),\"Nuevo Alquiler\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:loadInitialData,disabled:loading,children:/*#__PURE__*/_jsx(RefreshCw,{size:20,className:loading?'spinning':''})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-box\",children:[/*#__PURE__*/_jsx(Search,{size:16}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Buscar art\\xEDculos...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)}),searchTerm&&/*#__PURE__*/_jsx(\"button\",{className:\"clear-search\",onClick:()=>setSearchTerm(''),children:/*#__PURE__*/_jsx(X,{size:16})})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"filter-select\",value:filterCategory,onChange:e=>setFilterCategory(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"Todas las categor\\xEDas\"}),Object.entries(CATEGORIES).map(_ref3=>{let[key,cat]=_ref3;return/*#__PURE__*/_jsxs(\"option\",{value:key,children:[cat.icon,\" \",cat.label]},key);})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"filter-select\",value:filterStatus,onChange:e=>setFilterStatus(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"Todos los estados\"}),/*#__PURE__*/_jsx(\"option\",{value:\"disponible\",children:\"\\u2705 Disponibles\"}),/*#__PURE__*/_jsx(\"option\",{value:\"agotado\",children:\"\\u274C Agotados\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"view-tabs\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"tab-button \".concat(currentView==='items'?'active':''),onClick:()=>setCurrentView('items'),children:[/*#__PURE__*/_jsx(Package,{size:16}),\"Art\\xEDculos\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"tab-button \".concat(currentView==='rentals'?'active':''),onClick:()=>setCurrentView('rentals'),children:[/*#__PURE__*/_jsx(Key,{size:16}),\"Alquilados\",stats.activeRentals>0&&/*#__PURE__*/_jsx(\"span\",{className:\"badge\",children:stats.activeRentals})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"tab-button \".concat(currentView==='pending'?'active':''),onClick:()=>setCurrentView('pending'),children:[/*#__PURE__*/_jsx(AlertCircle,{size:16}),\"Pendientes\",stats.overdueRentals>0&&/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-danger\",children:stats.overdueRentals})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon yellow\",children:/*#__PURE__*/_jsx(Package,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.totalItems}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Total Art\\xEDculos\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon green\",children:/*#__PURE__*/_jsx(CheckCircle,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.availableUnits}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Disponibles\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon blue\",children:/*#__PURE__*/_jsx(Key,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.rentedUnits}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Alquilados\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon red\",children:/*#__PURE__*/_jsx(AlertTriangle,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.overdueRentals}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"Vencidos\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rental-content\",children:[loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"loading-overlay\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Cargando...\"})]}),currentView==='items'&&/*#__PURE__*/_jsx(\"div\",{className:\"items-grid\",children:getFilteredItems().length>0?getFilteredItems().map(item=>{var _CATEGORIES$item$cate;return/*#__PURE__*/_jsxs(\"div\",{className:\"item-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item-image\",children:[item.image_url?/*#__PURE__*/_jsx(\"img\",{src:item.image_url,alt:item.name}):/*#__PURE__*/_jsx(\"div\",{className:\"no-image\",children:/*#__PURE__*/_jsx(Package,{size:48})}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-quantity-badge\",children:[/*#__PURE__*/_jsx(Hash,{size:14}),item.quantity_available||0,\"/\",item.quantity_total||0]}),/*#__PURE__*/_jsx(\"div\",{className:\"item-category-badge\",children:(_CATEGORIES$item$cate=CATEGORIES[item.category])===null||_CATEGORIES$item$cate===void 0?void 0:_CATEGORIES$item$cate.icon})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-content\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"item-name\",children:item.name}),/*#__PURE__*/_jsx(\"p\",{className:\"item-description\",children:item.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-price\",children:[/*#__PURE__*/_jsx(DollarSign,{size:16}),\"$\",item.daily_rate||0,\"/d\\xEDa\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"item-status\",style:{background:item.quantity_available>0?STATUS_CONFIG.disponible.bgColor:STATUS_CONFIG.agotado.bgColor,color:item.quantity_available>0?STATUS_CONFIG.disponible.color:STATUS_CONFIG.agotado.color},children:item.quantity_available>0?\"\".concat(item.quantity_available,\" disponibles\"):'Agotado'}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-rent\",onClick:()=>openModal('rental',item),disabled:item.quantity_available===0,children:[/*#__PURE__*/_jsx(Key,{size:14}),\"Alquilar\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-edit\",onClick:()=>openModal('item',item),children:/*#__PURE__*/_jsx(Edit2,{size:14})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-delete\",onClick:()=>handleDeleteItem(item.id),children:/*#__PURE__*/_jsx(Trash2,{size:14})})]})]})]},item.id);}):/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Package,{size:64}),/*#__PURE__*/_jsx(\"h3\",{children:\"No se encontraron art\\xEDculos\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Comienza agregando tu primer art\\xEDculo\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:()=>openModal('item'),children:[/*#__PURE__*/_jsx(Plus,{size:20}),\"Agregar Art\\xEDculo\"]})]})}),currentView==='rentals'&&/*#__PURE__*/_jsx(\"div\",{className:\"rentals-list\",children:getActiveRentals().length>0?getActiveRentals().map(rental=>/*#__PURE__*/_jsxs(\"div\",{className:\"rental-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rental-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rental-customer\",children:[/*#__PURE__*/_jsx(User,{size:20}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:rental.customer_name}),/*#__PURE__*/_jsxs(\"span\",{className:\"customer-details\",children:[rental.customer_id_number,\" \\u2022 \",rental.customer_phone]})]})]}),rental.has_collateral&&/*#__PURE__*/_jsxs(\"div\",{className:\"collateral-badge\",children:[/*#__PURE__*/_jsx(Shield,{size:14}),\"Con Prenda\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rental-item-info\",children:[/*#__PURE__*/_jsx(Package,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:rental.item_name}),/*#__PURE__*/_jsxs(\"span\",{className:\"quantity\",children:[\"x\",rental.quantity_rented]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rental-dates\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"date-item\",children:[/*#__PURE__*/_jsx(Calendar,{size:14}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"date-label\",children:\"Inicio\"}),/*#__PURE__*/_jsx(\"span\",{className:\"date-value\",children:formatDate(rental.rental_start)})]})]}),/*#__PURE__*/_jsx(ArrowRight,{size:16}),/*#__PURE__*/_jsxs(\"div\",{className:\"date-item\",children:[/*#__PURE__*/_jsx(Calendar,{size:14}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"date-label\",children:\"Devoluci\\xF3n\"}),/*#__PURE__*/_jsx(\"span\",{className:\"date-value\",children:formatDate(rental.rental_end)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rental-payment-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"payment-stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"payment-label\",children:\"Total\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"payment-value\",children:[\"$\",rental.total_amount]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"payment-label\",children:\"Abonado\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"payment-value text-green\",children:[\"$\",rental.total_paid||0]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-stat\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"payment-label\",children:\"Saldo\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"payment-value text-orange\",children:[\"$\",(rental.total_amount-(rental.total_paid||0)).toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rental-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-success\",onClick:()=>openModal('return',rental),children:[/*#__PURE__*/_jsx(RotateCcw,{size:14}),\"Devolver\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-warning\",onClick:()=>openModal('payment',rental),children:[/*#__PURE__*/_jsx(DollarSign,{size:14}),\"Abonos\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-secondary\",onClick:()=>{setSelectedRental(rental);openModal('details');},children:[/*#__PURE__*/_jsx(Eye,{size:14}),\"Detalles\"]})]})]},rental.id)):/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(Key,{size:64}),/*#__PURE__*/_jsx(\"h3\",{children:\"No hay art\\xEDculos alquilados\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Los alquileres activos aparecer\\xE1n aqu\\xED\"})]})}),currentView==='pending'&&/*#__PURE__*/_jsx(\"div\",{className:\"rentals-list\",children:getPendingReturns().length>0?getPendingReturns().map(rental=>{const daysOverdue=getDaysOverdue(rental.rental_end);return/*#__PURE__*/_jsxs(\"div\",{className:\"rental-card overdue\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"overdue-indicator\",children:[/*#__PURE__*/_jsx(AlertTriangle,{size:16}),daysOverdue,\" d\\xEDas vencido\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"rental-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rental-customer\",children:[/*#__PURE__*/_jsx(User,{size:20}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:rental.customer_name}),/*#__PURE__*/_jsxs(\"span\",{className:\"customer-details\",children:[\"\\uD83D\\uDCF1 \",rental.customer_phone]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"rental-item-info\",children:[/*#__PURE__*/_jsx(Package,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:rental.item_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"overdue-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Debi\\xF3 devolver:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:formatDate(rental.rental_end)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Saldo pendiente:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"info-value text-orange\",children:[\"$\",(rental.total_amount-(rental.total_paid||0)).toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rental-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-success\",onClick:()=>openModal('return',rental),children:[/*#__PURE__*/_jsx(RotateCcw,{size:14}),\"Registrar Devoluci\\xF3n\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:()=>window.location.href=\"tel:\".concat(rental.customer_phone),children:[/*#__PURE__*/_jsx(Phone,{size:14}),\"Contactar\"]})]})]},rental.id);}):/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(CheckCircle,{size:64,color:\"#10b981\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"No hay devoluciones pendientes\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xA1Todos los alquileres est\\xE1n al d\\xEDa!\"})]})})]}),modals.item&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>closeModal('item'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:editingItem?'Editar Artículo':'Nuevo Artículo'}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>closeModal('item'),children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleItemSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nombre del art\\xEDculo *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:itemForm.name,onChange:e=>setItemForm(_objectSpread(_objectSpread({},itemForm),{},{name:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Categor\\xEDa\"}),/*#__PURE__*/_jsx(\"select\",{className:\"form-control\",value:itemForm.category,onChange:e=>setItemForm(_objectSpread(_objectSpread({},itemForm),{},{category:e.target.value})),children:Object.entries(CATEGORIES).map(_ref4=>{let[key,cat]=_ref4;return/*#__PURE__*/_jsxs(\"option\",{value:key,children:[cat.icon,\" \",cat.label]},key);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Cantidad\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",value:itemForm.quantity,onChange:e=>setItemForm(_objectSpread(_objectSpread({},itemForm),{},{quantity:parseInt(e.target.value)})),min:\"1\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Precio de alquiler (por d\\xEDa)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",value:itemForm.rental_price,onChange:e=>setItemForm(_objectSpread(_objectSpread({},itemForm),{},{rental_price:parseFloat(e.target.value)})),step:\"0.01\",min:\"0\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",value:itemForm.description,onChange:e=>setItemForm(_objectSpread(_objectSpread({},itemForm),{},{description:e.target.value})),rows:\"3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"URL de imagen (PNG)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",className:\"form-control\",value:itemForm.image_url,onChange:e=>setItemForm(_objectSpread(_objectSpread({},itemForm),{},{image_url:e.target.value})),placeholder:\"https://ejemplo.com/imagen.png\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>closeModal('item'),children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading,children:loading?'Guardando...':'Guardar'})]})]})]})}),modals.rental&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>closeModal('rental'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content large\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Nuevo Alquiler\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>closeModal('rental'),children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRentalSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Art\\xEDculo a alquilar *\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",value:rentalForm.item_id,onChange:e=>{const item=items.find(i=>i.id===parseInt(e.target.value));setSelectedItem(item);setRentalForm(_objectSpread(_objectSpread({},rentalForm),{},{item_id:e.target.value}));},required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Seleccione un art\\xEDculo...\"}),items.filter(item=>item.quantity_available>0).map(item=>/*#__PURE__*/_jsxs(\"option\",{value:item.id,children:[item.name,\" (\",item.quantity_available,\" disponibles)\"]},item.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Informaci\\xF3n del Cliente\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nombre completo *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:rentalForm.customer_name,onChange:e=>setRentalForm(_objectSpread(_objectSpread({},rentalForm),{},{customer_name:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"C\\xE9dula de identidad *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:rentalForm.customer_id_number,onChange:e=>setRentalForm(_objectSpread(_objectSpread({},rentalForm),{},{customer_id_number:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Tel\\xE9fono *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",className:\"form-control\",value:rentalForm.customer_phone,onChange:e=>setRentalForm(_objectSpread(_objectSpread({},rentalForm),{},{customer_phone:e.target.value})),required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Direcci\\xF3n de domicilio\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:rentalForm.customer_address,onChange:e=>setRentalForm(_objectSpread(_objectSpread({},rentalForm),{},{customer_address:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",value:rentalForm.customer_email,onChange:e=>setRentalForm(_objectSpread(_objectSpread({},rentalForm),{},{customer_email:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Detalles del Alquiler\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Fecha de alquiler *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",value:rentalForm.rental_start,onChange:e=>setRentalForm(_objectSpread(_objectSpread({},rentalForm),{},{rental_start:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Fecha de devoluci\\xF3n *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control\",value:rentalForm.rental_end,onChange:e=>setRentalForm(_objectSpread(_objectSpread({},rentalForm),{},{rental_end:e.target.value})),min:rentalForm.rental_start,required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Cantidad\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",value:rentalForm.quantity_rented,onChange:e=>setRentalForm(_objectSpread(_objectSpread({},rentalForm),{},{quantity_rented:parseInt(e.target.value)})),min:\"1\",max:(selectedItem===null||selectedItem===void 0?void 0:selectedItem.quantity_available)||1,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Costo total\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",value:rentalForm.total_amount,onChange:e=>setRentalForm(_objectSpread(_objectSpread({},rentalForm),{},{total_amount:parseFloat(e.target.value)})),step:\"0.01\",min:\"0\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"checkbox-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"has_collateral\",checked:rentalForm.has_collateral,onChange:e=>setRentalForm(_objectSpread(_objectSpread({},rentalForm),{},{has_collateral:e.target.checked}))}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"has_collateral\",children:\"\\xBFDej\\xF3 prenda?\"})]}),rentalForm.has_collateral&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mt-2\",placeholder:\"Descripci\\xF3n de la prenda\",value:rentalForm.collateral_description,onChange:e=>setRentalForm(_objectSpread(_objectSpread({},rentalForm),{},{collateral_description:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Dep\\xF3sito inicial\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",value:rentalForm.initial_deposit,onChange:e=>setRentalForm(_objectSpread(_objectSpread({},rentalForm),{},{initial_deposit:parseFloat(e.target.value)})),step:\"0.01\",min:\"0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Notas adicionales\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",value:rentalForm.notes,onChange:e=>setRentalForm(_objectSpread(_objectSpread({},rentalForm),{},{notes:e.target.value})),rows:\"3\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>closeModal('rental'),children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading,children:loading?'Creando...':'Crear Alquiler'})]})]})]})}),modals.return&&selectedRental&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>closeModal('return'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Registrar Devoluci\\xF3n\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>closeModal('return'),children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleReturnSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rental-summary\",children:[/*#__PURE__*/_jsx(\"h3\",{children:selectedRental.item_name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Cliente: \",selectedRental.customer_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Per\\xEDodo: \",formatDate(selectedRental.rental_start),\" - \",formatDate(selectedRental.rental_end)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Estado del art\\xEDculo\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",value:returnForm.condition,onChange:e=>setReturnForm(_objectSpread(_objectSpread({},returnForm),{},{condition:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"bueno\",children:\"Bueno\"}),/*#__PURE__*/_jsx(\"option\",{value:\"regular\",children:\"Regular\"}),/*#__PURE__*/_jsx(\"option\",{value:\"da\\xF1ado\",children:\"Da\\xF1ado\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Notas sobre el estado\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",value:returnForm.notes,onChange:e=>setReturnForm(_objectSpread(_objectSpread({},returnForm),{},{notes:e.target.value})),rows:\"3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total del alquiler:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"amount\",children:[\"$\",selectedRental.total_amount]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Abonado:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"amount text-green\",children:[\"$\",selectedRental.total_paid||0]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item total\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Saldo pendiente:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"amount text-orange\",children:[\"$\",(selectedRental.total_amount-(selectedRental.total_paid||0)).toFixed(2)]})]})]}),selectedRental.total_amount-(selectedRental.total_paid||0)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Pago final\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",value:returnForm.final_payment,onChange:e=>setReturnForm(_objectSpread(_objectSpread({},returnForm),{},{final_payment:parseFloat(e.target.value)})),step:\"0.01\",min:\"0\",max:selectedRental.total_amount-(selectedRental.total_paid||0)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>closeModal('return'),children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading,children:loading?'Procesando...':'Confirmar Devolución'})]})]})]})}),modals.payment&&selectedRental&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>closeModal('payment'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Gesti\\xF3n de Abonos\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>closeModal('payment'),children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rental-summary\",children:[/*#__PURE__*/_jsx(\"h3\",{children:selectedRental.item_name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Cliente: \",selectedRental.customer_name]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlePaymentSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Registrar nuevo abono\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Monto\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",value:paymentForm.amount,onChange:e=>setPaymentForm(_objectSpread(_objectSpread({},paymentForm),{},{amount:parseFloat(e.target.value)})),step:\"0.01\",min:\"0.01\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"M\\xE9todo de pago\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",value:paymentForm.payment_method,onChange:e=>setPaymentForm(_objectSpread(_objectSpread({},paymentForm),{},{payment_method:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"efectivo\",children:\"Efectivo\"}),/*#__PURE__*/_jsx(\"option\",{value:\"transferencia\",children:\"Transferencia\"}),/*#__PURE__*/_jsx(\"option\",{value:\"tarjeta\",children:\"Tarjeta\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading,children:loading?'Registrando...':'Agregar Abono'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"payments-history\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Historial de abonos\"}),payments.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"payments-list\",children:payments.map(payment=>/*#__PURE__*/_jsxs(\"div\",{className:\"payment-item\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"payment-date\",children:formatDate(payment.payment_date)}),/*#__PURE__*/_jsx(\"div\",{className:\"payment-method\",children:payment.payment_method})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-amount\",children:[\"$\",payment.amount,/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon\",onClick:()=>handleDeletePayment(payment.id),children:/*#__PURE__*/_jsx(Trash2,{size:14})})]})]},payment.id))}):/*#__PURE__*/_jsx(\"p\",{className:\"no-payments\",children:\"No hay abonos registrados\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"amount\",children:[\"$\",selectedRental.total_amount]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Abonado:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"amount text-green\",children:[\"$\",payments.reduce((sum,p)=>sum+p.amount,0).toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item total\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Saldo:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"amount text-orange\",children:[\"$\",(selectedRental.total_amount-payments.reduce((sum,p)=>sum+p.amount,0)).toFixed(2)]})]})]})]})]})})]});}export default Rental;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","axios","Plus","Edit2","Trash2","Calendar","DollarSign","Package","User","Clock","Search","Filter","X","AlertCircle","CheckCircle","ArrowRight","Key","Home","Phone","Mail","MapPin","CreditCard","FileText","Shield","RotateCcw","AlertTriangle","Eye","Archive","TrendingUp","Hash","Camera","ChevronLeft","ChevronRight","Download","RefreshCw","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","STATUS_CONFIG","disponible","label","color","bgColor","agotado","alquilado","mantenimiento","Notification","_ref","message","type","onClose","timer","setTimeout","clearTimeout","colors","success","error","warning","info","className","style","background","children","onClick","size","Rental","_ref2","updateTabData","items","setItems","rentals","setRentals","loading","setLoading","setError","notification","setNotification","currentView","setCurrentView","searchTerm","setSearchTerm","filterCategory","setFilterCategory","filterStatus","setFilterStatus","sortBy","setSortBy","sortOrder","setSortOrder","modals","setModals","item","rental","return","payment","details","editingItem","setEditingItem","selectedItem","setSelectedItem","selectedRental","setSelectedRental","payments","setPayments","itemForm","setItemForm","name","description","category","quantity","rental_price","image_url","rentalForm","setRentalForm","item_id","customer_name","customer_id_number","customer_address","customer_phone","customer_email","rental_start","Date","toISOString","split","rental_end","quantity_rented","has_collateral","collateral_description","total_amount","initial_deposit","notes","returnForm","setReturnForm","condition","final_payment","paymentForm","setPaymentForm","amount","payment_method","stats","totalItems","length","totalUnits","reduce","sum","parseInt","quantity_total","availableUnits","quantity_available","rentedUnits","Math","max","activeRentals","filter","r","status","today","overdueRentals","endDate","loadInitialData","Promise","all","fetchItems","fetchRentals","showNotification","response","get","concat","data","console","fetchPayments","rentalId","getFilteredItems","filtered","search","toLowerCase","_item$name","_item$description","includes","sort","a","b","valueA","valueB","_valueB","getActiveRentals","getPendingReturns","calculateRentalPrice","start","end","days","ceil","price","daily_rate","prev","_objectSpread","openModal","modalName","arguments","undefined","id","closeModal","handleItemSubmit","e","preventDefault","put","weekly_rate","monthly_rate","post","handleRentalSubmit","rentalData","initial_payment","handleReturnSubmit","patch","condition_notes","return_condition","handlePaymentSubmit","handleDeleteItem","window","confirm","delete","handleDeletePayment","paymentId","formatDate","date","options","day","month","year","toLocaleDateString","getDaysOverdue","diff","floor","disabled","placeholder","value","onChange","target","Object","entries","CATEGORIES","map","_ref3","key","cat","icon","_CATEGORIES$item$cate","src","alt","item_name","total_paid","toFixed","daysOverdue","location","href","stopPropagation","onSubmit","required","_ref4","min","parseFloat","step","rows","find","i","checked","htmlFor","payment_date","p"],"sources":["C:/Users/Silvia/WebstormProjects/TASK/task-manager/frontend/src/Rental.jsx"],"sourcesContent":["// task-manager/frontend/src/Rental.jsx\r\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n    Plus, Edit2, Trash2, Calendar, DollarSign,\r\n    Package, User, Clock, Search, Filter,\r\n    X, AlertCircle, CheckCircle, ArrowRight,\r\n    Key, Home, Phone, Mail, MapPin, CreditCard,\r\n    FileText, Shield, RotateCcw, AlertTriangle,\r\n    Eye, Archive, TrendingUp, Hash, Camera,\r\n    ChevronLeft, ChevronRight, Download, RefreshCw\r\n} from 'lucide-react';\r\nimport './Rental.css';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\r\n\r\n// Configuración de categorías y estados\r\n\r\nconst STATUS_CONFIG = {\r\n    disponible: { label: 'Disponible', color: '#10b981', bgColor: '#d1fae5' },\r\n    agotado: { label: 'Agotado', color: '#ef4444', bgColor: '#fee2e2' },\r\n    alquilado: { label: 'Alquilado', color: '#f59e0b', bgColor: '#fef3c7' },\r\n    mantenimiento: { label: 'Mantenimiento', color: '#6b7280', bgColor: '#f3f4f6' }\r\n};\r\n\r\n// Componente de Notificación\r\nconst Notification = ({ message, type = 'success', onClose }) => {\r\n    useEffect(() => {\r\n        const timer = setTimeout(onClose, 3000);\r\n        return () => clearTimeout(timer);\r\n    }, [onClose]);\r\n\r\n    const colors = {\r\n        success: '#10b981',\r\n        error: '#ef4444',\r\n        warning: '#f59e0b',\r\n        info: '#3b82f6'\r\n    };\r\n\r\n    return (\r\n        <div className=\"notification\" style={{ background: colors[type] }}>\r\n            <span>{message}</span>\r\n            <button onClick={onClose} className=\"notification-close\">\r\n                <X size={16} />\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Componente principal\r\nfunction Rental({ updateTabData }) {\r\n    // Estados principales\r\n    const [items, setItems] = useState([]);\r\n    const [rentals, setRentals] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [notification, setNotification] = useState(null);\r\n\r\n    // Estados de vista y filtros\r\n    const [currentView, setCurrentView] = useState('items');\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [filterCategory, setFilterCategory] = useState('all');\r\n    const [filterStatus, setFilterStatus] = useState('all');\r\n    const [sortBy, setSortBy] = useState('name');\r\n    const [sortOrder, setSortOrder] = useState('asc');\r\n\r\n    // Estados de modales\r\n    const [modals, setModals] = useState({\r\n        item: false,\r\n        rental: false,\r\n        return: false,\r\n        payment: false,\r\n        details: false\r\n    });\r\n\r\n    // Estados de formularios\r\n    const [editingItem, setEditingItem] = useState(null);\r\n    const [selectedItem, setSelectedItem] = useState(null);\r\n    const [selectedRental, setSelectedRental] = useState(null);\r\n    const [payments, setPayments] = useState([]);\r\n\r\n    // Estado del formulario de artículo\r\n    const [itemForm, setItemForm] = useState({\r\n        name: '',\r\n        description: '',\r\n        category: 'herramientas',\r\n        quantity: 1,\r\n        rental_price: 0,\r\n        image_url: ''\r\n    });\r\n\r\n    // Estado del formulario de alquiler\r\n    const [rentalForm, setRentalForm] = useState({\r\n        item_id: '',\r\n        customer_name: '',\r\n        customer_id_number: '',\r\n        customer_address: '',\r\n        customer_phone: '',\r\n        customer_email: '',\r\n        rental_start: new Date().toISOString().split('T')[0],\r\n        rental_end: '',\r\n        quantity_rented: 1,\r\n        has_collateral: false,\r\n        collateral_description: '',\r\n        total_amount: 0,\r\n        initial_deposit: 0,\r\n        notes: ''\r\n    });\r\n\r\n    // Estado del formulario de devolución\r\n    const [returnForm, setReturnForm] = useState({\r\n        condition: 'bueno',\r\n        notes: '',\r\n        final_payment: 0\r\n    });\r\n\r\n    // Estado del formulario de pago\r\n    const [paymentForm, setPaymentForm] = useState({\r\n        amount: 0,\r\n        payment_method: 'efectivo',\r\n        notes: ''\r\n    });\r\n\r\n    // Estadísticas computadas\r\n    const stats = useMemo(() => {\r\n        // Calcular totales de items\r\n        const totalItems = items.length;\r\n        const totalUnits = items.reduce((sum, item) => {\r\n            return sum + (parseInt(item.quantity_total) || 0);\r\n        }, 0);\r\n        const availableUnits = items.reduce((sum, item) => {\r\n            return sum + (parseInt(item.quantity_available) || 0);\r\n        }, 0);\r\n\r\n        // Calcular unidades alquiladas correctamente\r\n        const rentedUnits = Math.max(0, totalUnits - availableUnits);\r\n\r\n        // Calcular alquileres activos\r\n        const activeRentals = rentals.filter(r => r.status === 'activo');\r\n        const today = new Date();\r\n        const overdueRentals = activeRentals.filter(r => {\r\n            const endDate = new Date(r.rental_end);\r\n            return endDate < today;\r\n        });\r\n\r\n        return {\r\n            totalItems,\r\n            totalUnits,\r\n            availableUnits,\r\n            rentedUnits, // Siempre será >= 0\r\n            activeRentals: activeRentals.length,\r\n            overdueRentals: overdueRentals.length\r\n        };\r\n    }, [items, rentals]);\r\n    // Cargar datos iniciales\r\n    useEffect(() => {\r\n        loadInitialData();\r\n    }, []);\r\n\r\n    // Actualizar badge de pendientes\r\n    useEffect(() => {\r\n        if (updateTabData) {\r\n            updateTabData({\r\n                notification: stats.overdueRentals > 0 ? stats.overdueRentals : null\r\n            });\r\n        }\r\n    }, [stats.overdueRentals, updateTabData]);\r\n\r\n    // Funciones de carga de datos\r\n    const loadInitialData = async () => {\r\n        setLoading(true);\r\n        try {\r\n            await Promise.all([\r\n                fetchItems(),\r\n                fetchRentals()\r\n            ]);\r\n        } catch (error) {\r\n            showNotification('Error al cargar datos', 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchItems = async () => {\r\n        try {\r\n            const response = await axios.get(`${API_URL}/rental-items/enhanced`);\r\n            setItems(response.data);\r\n        } catch (error) {\r\n            console.error('Error fetching items:', error);\r\n            setError('Error al cargar artículos');\r\n        }\r\n    };\r\n\r\n    const fetchRentals = async () => {\r\n        try {\r\n            const response = await axios.get(`${API_URL}/rentals/enhanced`);\r\n            setRentals(response.data);\r\n        } catch (error) {\r\n            console.error('Error fetching rentals:', error);\r\n            setError('Error al cargar alquileres');\r\n        }\r\n    };\r\n\r\n    const fetchPayments = async (rentalId) => {\r\n        try {\r\n            const response = await axios.get(`${API_URL}/rentals/${rentalId}/payments`);\r\n            setPayments(response.data || []);\r\n        } catch (error) {\r\n            console.error('Error fetching payments:', error);\r\n            setPayments([]);\r\n        }\r\n    };\r\n\r\n    // Funciones de filtrado y ordenamiento\r\n    const getFilteredItems = useCallback(() => {\r\n        let filtered = [...items];\r\n\r\n        // Búsqueda\r\n        if (searchTerm) {\r\n            const search = searchTerm.toLowerCase();\r\n            filtered = filtered.filter(item =>\r\n                item.name?.toLowerCase().includes(search) ||\r\n                item.description?.toLowerCase().includes(search)\r\n            );\r\n        }\r\n\r\n        // Filtro por categoría\r\n        if (filterCategory !== 'all') {\r\n            filtered = filtered.filter(item => item.category === filterCategory);\r\n        }\r\n\r\n        // Filtro por estado\r\n        if (filterStatus !== 'all') {\r\n            if (filterStatus === 'disponible') {\r\n                filtered = filtered.filter(item => item.quantity_available > 0);\r\n            } else if (filterStatus === 'agotado') {\r\n                filtered = filtered.filter(item => item.quantity_available === 0);\r\n            }\r\n        }\r\n\r\n        // Ordenamiento\r\n        filtered.sort((a, b) => {\r\n            let valueA = a[sortBy];\r\n            let valueB = b[sortBy];\r\n\r\n            if (typeof valueA === 'string') {\r\n                valueA = valueA.toLowerCase();\r\n                valueB = valueB?.toLowerCase() || '';\r\n            }\r\n\r\n            if (sortOrder === 'asc') {\r\n                return valueA > valueB ? 1 : -1;\r\n            } else {\r\n                return valueA < valueB ? 1 : -1;\r\n            }\r\n        });\r\n\r\n        return filtered;\r\n    }, [items, searchTerm, filterCategory, filterStatus, sortBy, sortOrder]);\r\n\r\n    const getActiveRentals = useCallback(() => {\r\n        return rentals.filter(r => r.status === 'activo');\r\n    }, [rentals]);\r\n\r\n    const getPendingReturns = useCallback(() => {\r\n        const today = new Date();\r\n        return rentals.filter(r => {\r\n            if (r.status !== 'activo') return false;\r\n            const endDate = new Date(r.rental_end);\r\n            return endDate <= today;\r\n        });\r\n    }, [rentals]);\r\n\r\n    // Cálculo de precio de alquiler\r\n    const calculateRentalPrice = useCallback(() => {\r\n        if (!selectedItem || !rentalForm.rental_start || !rentalForm.rental_end) {\r\n            return 0;\r\n        }\r\n\r\n        const start = new Date(rentalForm.rental_start);\r\n        const end = new Date(rentalForm.rental_end);\r\n        const days = Math.ceil((end - start) / (1000 * 60 * 60 * 24)) + 1;\r\n\r\n        const price = selectedItem.rental_price || selectedItem.daily_rate || 0;\r\n        const quantity = rentalForm.quantity_rented || 1;\r\n\r\n        return price * days * quantity;\r\n    }, [selectedItem, rentalForm.rental_start, rentalForm.rental_end, rentalForm.quantity_rented]);\r\n\r\n    // Actualizar precio automáticamente\r\n    useEffect(() => {\r\n        if (selectedItem) {\r\n            const price = calculateRentalPrice();\r\n            setRentalForm(prev => ({ ...prev, total_amount: price }));\r\n        }\r\n    }, [selectedItem, calculateRentalPrice]);\r\n\r\n    // Manejadores de modales\r\n    const openModal = (modalName, data = null) => {\r\n        setModals(prev => ({ ...prev, [modalName]: true }));\r\n\r\n        if (modalName === 'item' && data) {\r\n            setEditingItem(data);\r\n            setItemForm({\r\n                name: data.name,\r\n                description: data.description || '',\r\n                category: data.category,\r\n                quantity: data.quantity_total || 1,\r\n                rental_price: data.daily_rate || 0,\r\n                image_url: data.image_url || ''\r\n            });\r\n        } else if (modalName === 'rental' && data) {\r\n            setSelectedItem(data);\r\n            setRentalForm(prev => ({\r\n                ...prev,\r\n                item_id: data.id,\r\n                quantity_rented: 1\r\n            }));\r\n        } else if (modalName === 'return' && data) {\r\n            setSelectedRental(data);\r\n        } else if (modalName === 'payment' && data) {\r\n            setSelectedRental(data);\r\n            fetchPayments(data.id);\r\n        }\r\n    };\r\n\r\n    const closeModal = (modalName) => {\r\n        setModals(prev => ({ ...prev, [modalName]: false }));\r\n\r\n        if (modalName === 'item') {\r\n            setEditingItem(null);\r\n            setItemForm({\r\n                name: '',\r\n                description: '',\r\n                category: 'herramientas',\r\n                quantity: 1,\r\n                rental_price: 0,\r\n                image_url: ''\r\n            });\r\n        } else if (modalName === 'rental') {\r\n            setSelectedItem(null);\r\n            setRentalForm({\r\n                item_id: '',\r\n                customer_name: '',\r\n                customer_id_number: '',\r\n                customer_address: '',\r\n                customer_phone: '',\r\n                customer_email: '',\r\n                rental_start: new Date().toISOString().split('T')[0],\r\n                rental_end: '',\r\n                quantity_rented: 1,\r\n                has_collateral: false,\r\n                collateral_description: '',\r\n                total_amount: 0,\r\n                initial_deposit: 0,\r\n                notes: ''\r\n            });\r\n        }\r\n    };\r\n\r\n    // Manejadores de formularios\r\n    const handleItemSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n\r\n        try {\r\n            if (editingItem) {\r\n                await axios.put(`${API_URL}/rental-items/${editingItem.id}`, {\r\n                    ...itemForm,\r\n                    daily_rate: itemForm.rental_price,\r\n                    weekly_rate: itemForm.rental_price * 6,\r\n                    monthly_rate: itemForm.rental_price * 25,\r\n                    quantity_total: itemForm.quantity,\r\n                    quantity_available: itemForm.quantity\r\n                });\r\n                showNotification('Artículo actualizado exitosamente');\r\n            } else {\r\n                await axios.post(`${API_URL}/rental-items`, {\r\n                    ...itemForm,\r\n                    daily_rate: itemForm.rental_price,\r\n                    weekly_rate: itemForm.rental_price * 6,\r\n                    monthly_rate: itemForm.rental_price * 25,\r\n                    quantity: itemForm.quantity,\r\n                    quantity_total: itemForm.quantity,\r\n                    quantity_available: itemForm.quantity,\r\n                    status: 'disponible'\r\n                });\r\n                showNotification('Artículo creado exitosamente');\r\n            }\r\n\r\n            await fetchItems();\r\n            closeModal('item');\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n            showNotification('Error al guardar el artículo', 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleRentalSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n\r\n        try {\r\n            const rentalData = {\r\n                ...rentalForm,\r\n                initial_payment: rentalForm.initial_deposit\r\n            };\r\n\r\n            await axios.post(`${API_URL}/rentals/complete`, rentalData);\r\n\r\n            showNotification('Alquiler creado exitosamente');\r\n            await Promise.all([fetchItems(), fetchRentals()]);\r\n            closeModal('rental');\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n            showNotification('Error al crear alquiler', 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleReturnSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n\r\n        try {\r\n            await axios.patch(`${API_URL}/rentals/${selectedRental.id}/return`, {\r\n                condition_notes: returnForm.notes,\r\n                return_condition: returnForm.condition\r\n            });\r\n\r\n            // Si hay pago final, registrarlo\r\n            if (returnForm.final_payment > 0) {\r\n                await axios.post(`${API_URL}/rentals/${selectedRental.id}/payments`, {\r\n                    amount: returnForm.final_payment,\r\n                    payment_method: 'efectivo',\r\n                    notes: 'Pago al devolver'\r\n                });\r\n            }\r\n\r\n            showNotification('Devolución registrada exitosamente');\r\n            await Promise.all([fetchItems(), fetchRentals()]);\r\n            closeModal('return');\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n            showNotification('Error al registrar devolución', 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handlePaymentSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n\r\n        try {\r\n            await axios.post(`${API_URL}/rentals/${selectedRental.id}/payments`, paymentForm);\r\n\r\n            showNotification('Abono registrado exitosamente');\r\n            await fetchPayments(selectedRental.id);\r\n            setPaymentForm({ amount: 0, payment_method: 'efectivo', notes: '' });\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n            showNotification('Error al registrar abono', 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDeleteItem = async (id) => {\r\n        if (!window.confirm('¿Está seguro de eliminar este artículo?')) return;\r\n\r\n        setLoading(true);\r\n        try {\r\n            await axios.delete(`${API_URL}/rental-items/${id}`);\r\n            showNotification('Artículo eliminado exitosamente');\r\n            await fetchItems();\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n            showNotification('Error al eliminar artículo', 'error');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDeletePayment = async (paymentId) => {\r\n        if (!window.confirm('¿Está seguro de eliminar este abono?')) return;\r\n\r\n        try {\r\n            await axios.delete(`${API_URL}/rental-payments/${paymentId}`);\r\n            showNotification('Abono eliminado');\r\n            await fetchPayments(selectedRental.id);\r\n        } catch (error) {\r\n            showNotification('Error al eliminar abono', 'error');\r\n        }\r\n    };\r\n\r\n    // Función para mostrar notificaciones\r\n    const showNotification = (message, type = 'success') => {\r\n        setNotification({ message, type });\r\n    };\r\n\r\n    // Función para formatear fecha\r\n    const formatDate = (date) => {\r\n        if (!date) return '';\r\n        const options = { day: '2-digit', month: 'short', year: 'numeric' };\r\n        return new Date(date).toLocaleDateString('es-ES', options);\r\n    };\r\n\r\n    // Función para calcular días vencidos\r\n    const getDaysOverdue = (endDate) => {\r\n        const today = new Date();\r\n        const end = new Date(endDate);\r\n        const diff = Math.floor((today - end) / (1000 * 60 * 60 * 24));\r\n        return diff > 0 ? diff : 0;\r\n    };\r\n\r\n    // Renderizado del componente\r\n    return (\r\n        <div className=\"rental-container\">\r\n            {/* Notificaciones */}\r\n            {notification && (\r\n                <Notification\r\n                    message={notification.message}\r\n                    type={notification.type}\r\n                    onClose={() => setNotification(null)}\r\n                />\r\n            )}\r\n\r\n            {/* Header Principal */}\r\n            <div className=\"rental-header\">\r\n                <div className=\"header-top\">\r\n                    <h1 className=\"header-title\">Gestión de Alquileres</h1>\r\n                    <div className=\"header-actions\">\r\n                        <button\r\n                            className=\"btn btn-primary\"\r\n                            onClick={() => openModal('item')}\r\n                        >\r\n                            <Plus size={20} />\r\n                            Nuevo Artículo\r\n                        </button>\r\n                        <button\r\n                            className=\"btn btn-warning\"\r\n                            onClick={() => {\r\n                                setSelectedItem(null);\r\n                                openModal('rental');\r\n                            }}\r\n                        >\r\n                            <Key size={20} />\r\n                            Nuevo Alquiler\r\n                        </button>\r\n                        <button\r\n                            className=\"btn btn-secondary\"\r\n                            onClick={loadInitialData}\r\n                            disabled={loading}\r\n                        >\r\n                            <RefreshCw size={20} className={loading ? 'spinning' : ''} />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Controles de búsqueda y filtros */}\r\n                <div className=\"header-controls\">\r\n                    <div className=\"search-box\">\r\n                        <Search size={16} />\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Buscar artículos...\"\r\n                            value={searchTerm}\r\n                            onChange={(e) => setSearchTerm(e.target.value)}\r\n                        />\r\n                        {searchTerm && (\r\n                            <button\r\n                                className=\"clear-search\"\r\n                                onClick={() => setSearchTerm('')}\r\n                            >\r\n                                <X size={16} />\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n\r\n                    <select\r\n                        className=\"filter-select\"\r\n                        value={filterCategory}\r\n                        onChange={(e) => setFilterCategory(e.target.value)}\r\n                    >\r\n                        <option value=\"all\">Todas las categorías</option>\r\n                        {Object.entries(CATEGORIES).map(([key, cat]) => (\r\n                            <option key={key} value={key}>\r\n                                {cat.icon} {cat.label}\r\n                            </option>\r\n                        ))}\r\n                    </select>\r\n\r\n                    <select\r\n                        className=\"filter-select\"\r\n                        value={filterStatus}\r\n                        onChange={(e) => setFilterStatus(e.target.value)}\r\n                    >\r\n                        <option value=\"all\">Todos los estados</option>\r\n                        <option value=\"disponible\">✅ Disponibles</option>\r\n                        <option value=\"agotado\">❌ Agotados</option>\r\n                    </select>\r\n                </div>\r\n\r\n                {/* Tabs de navegación */}\r\n                <div className=\"view-tabs\">\r\n                    <button\r\n                        className={`tab-button ${currentView === 'items' ? 'active' : ''}`}\r\n                        onClick={() => setCurrentView('items')}\r\n                    >\r\n                        <Package size={16} />\r\n                        Artículos\r\n                    </button>\r\n                    <button\r\n                        className={`tab-button ${currentView === 'rentals' ? 'active' : ''}`}\r\n                        onClick={() => setCurrentView('rentals')}\r\n                    >\r\n                        <Key size={16} />\r\n                        Alquilados\r\n                        {stats.activeRentals > 0 && (\r\n                            <span className=\"badge\">{stats.activeRentals}</span>\r\n                        )}\r\n                    </button>\r\n                    <button\r\n                        className={`tab-button ${currentView === 'pending' ? 'active' : ''}`}\r\n                        onClick={() => setCurrentView('pending')}\r\n                    >\r\n                        <AlertCircle size={16} />\r\n                        Pendientes\r\n                        {stats.overdueRentals > 0 && (\r\n                            <span className=\"badge badge-danger\">{stats.overdueRentals}</span>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Estadísticas */}\r\n            <div className=\"stats-grid\">\r\n                <div className=\"stat-card\">\r\n                    <div className=\"stat-icon yellow\">\r\n                        <Package size={24} />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <div className=\"stat-value\">{stats.totalItems}</div>\r\n                        <div className=\"stat-label\">Total Artículos</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"stat-card\">\r\n                    <div className=\"stat-icon green\">\r\n                        <CheckCircle size={24} />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <div className=\"stat-value\">{stats.availableUnits}</div>\r\n                        <div className=\"stat-label\">Disponibles</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"stat-card\">\r\n                    <div className=\"stat-icon blue\">\r\n                        <Key size={24} />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <div className=\"stat-value\">{stats.rentedUnits}</div>\r\n                        <div className=\"stat-label\">Alquilados</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"stat-card\">\r\n                    <div className=\"stat-icon red\">\r\n                        <AlertTriangle size={24} />\r\n                    </div>\r\n                    <div className=\"stat-info\">\r\n                        <div className=\"stat-value\">{stats.overdueRentals}</div>\r\n                        <div className=\"stat-label\">Vencidos</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Contenido Principal */}\r\n            <div className=\"rental-content\">\r\n                {loading && (\r\n                    <div className=\"loading-overlay\">\r\n                        <div className=\"spinner\"></div>\r\n                        <p>Cargando...</p>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Vista de Artículos */}\r\n                {currentView === 'items' && (\r\n                    <div className=\"items-grid\">\r\n                        {getFilteredItems().length > 0 ? (\r\n                            getFilteredItems().map(item => (\r\n                                <div key={item.id} className=\"item-card\">\r\n                                    <div className=\"item-image\">\r\n                                        {item.image_url ? (\r\n                                            <img src={item.image_url} alt={item.name} />\r\n                                        ) : (\r\n                                            <div className=\"no-image\">\r\n                                                <Package size={48} />\r\n                                            </div>\r\n                                        )}\r\n                                        <div className=\"item-quantity-badge\">\r\n                                            <Hash size={14} />\r\n                                            {item.quantity_available || 0}/{item.quantity_total || 0}\r\n                                        </div>\r\n                                        <div className=\"item-category-badge\">\r\n                                            {CATEGORIES[item.category]?.icon}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"item-content\">\r\n                                        <h3 className=\"item-name\">{item.name}</h3>\r\n                                        <p className=\"item-description\">{item.description}</p>\r\n\r\n                                        <div className=\"item-price\">\r\n                                            <DollarSign size={16} />\r\n                                            ${item.daily_rate || 0}/día\r\n                                        </div>\r\n\r\n                                        <div\r\n                                            className=\"item-status\"\r\n                                            style={{\r\n                                                background: item.quantity_available > 0\r\n                                                    ? STATUS_CONFIG.disponible.bgColor\r\n                                                    : STATUS_CONFIG.agotado.bgColor,\r\n                                                color: item.quantity_available > 0\r\n                                                    ? STATUS_CONFIG.disponible.color\r\n                                                    : STATUS_CONFIG.agotado.color\r\n                                            }}\r\n                                        >\r\n                                            {item.quantity_available > 0\r\n                                                ? `${item.quantity_available} disponibles`\r\n                                                : 'Agotado'}\r\n                                        </div>\r\n\r\n                                        <div className=\"item-actions\">\r\n                                            <button\r\n                                                className=\"btn btn-rent\"\r\n                                                onClick={() => openModal('rental', item)}\r\n                                                disabled={item.quantity_available === 0}\r\n                                            >\r\n                                                <Key size={14} />\r\n                                                Alquilar\r\n                                            </button>\r\n                                            <button\r\n                                                className=\"btn btn-edit\"\r\n                                                onClick={() => openModal('item', item)}\r\n                                            >\r\n                                                <Edit2 size={14} />\r\n                                            </button>\r\n                                            <button\r\n                                                className=\"btn btn-delete\"\r\n                                                onClick={() => handleDeleteItem(item.id)}\r\n                                            >\r\n                                                <Trash2 size={14} />\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        ) : (\r\n                            <div className=\"empty-state\">\r\n                                <Package size={64} />\r\n                                <h3>No se encontraron artículos</h3>\r\n                                <p>Comienza agregando tu primer artículo</p>\r\n                                <button\r\n                                    className=\"btn btn-primary\"\r\n                                    onClick={() => openModal('item')}\r\n                                >\r\n                                    <Plus size={20} />\r\n                                    Agregar Artículo\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Vista de Alquilados */}\r\n                {currentView === 'rentals' && (\r\n                    <div className=\"rentals-list\">\r\n                        {getActiveRentals().length > 0 ? (\r\n                            getActiveRentals().map(rental => (\r\n                                <div key={rental.id} className=\"rental-card\">\r\n                                    <div className=\"rental-header\">\r\n                                        <div className=\"rental-customer\">\r\n                                            <User size={20} />\r\n                                            <div>\r\n                                                <h4>{rental.customer_name}</h4>\r\n                                                <span className=\"customer-details\">\r\n                                                    {rental.customer_id_number} • {rental.customer_phone}\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                        {rental.has_collateral && (\r\n                                            <div className=\"collateral-badge\">\r\n                                                <Shield size={14} />\r\n                                                Con Prenda\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    <div className=\"rental-item-info\">\r\n                                        <Package size={16} />\r\n                                        <span>{rental.item_name}</span>\r\n                                        <span className=\"quantity\">x{rental.quantity_rented}</span>\r\n                                    </div>\r\n\r\n                                    <div className=\"rental-dates\">\r\n                                        <div className=\"date-item\">\r\n                                            <Calendar size={14} />\r\n                                            <div>\r\n                                                <span className=\"date-label\">Inicio</span>\r\n                                                <span className=\"date-value\">{formatDate(rental.rental_start)}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <ArrowRight size={16} />\r\n                                        <div className=\"date-item\">\r\n                                            <Calendar size={14} />\r\n                                            <div>\r\n                                                <span className=\"date-label\">Devolución</span>\r\n                                                <span className=\"date-value\">{formatDate(rental.rental_end)}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"rental-payment-info\">\r\n                                        <div className=\"payment-stat\">\r\n                                            <span className=\"payment-label\">Total</span>\r\n                                            <span className=\"payment-value\">${rental.total_amount}</span>\r\n                                        </div>\r\n                                        <div className=\"payment-stat\">\r\n                                            <span className=\"payment-label\">Abonado</span>\r\n                                            <span className=\"payment-value text-green\">\r\n                                                ${rental.total_paid || 0}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div className=\"payment-stat\">\r\n                                            <span className=\"payment-label\">Saldo</span>\r\n                                            <span className=\"payment-value text-orange\">\r\n                                                ${(rental.total_amount - (rental.total_paid || 0)).toFixed(2)}\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"rental-actions\">\r\n                                        <button\r\n                                            className=\"btn btn-success\"\r\n                                            onClick={() => openModal('return', rental)}\r\n                                        >\r\n                                            <RotateCcw size={14} />\r\n                                            Devolver\r\n                                        </button>\r\n                                        <button\r\n                                            className=\"btn btn-warning\"\r\n                                            onClick={() => openModal('payment', rental)}\r\n                                        >\r\n                                            <DollarSign size={14} />\r\n                                            Abonos\r\n                                        </button>\r\n                                        <button\r\n                                            className=\"btn btn-secondary\"\r\n                                            onClick={() => {\r\n                                                setSelectedRental(rental);\r\n                                                openModal('details');\r\n                                            }}\r\n                                        >\r\n                                            <Eye size={14} />\r\n                                            Detalles\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        ) : (\r\n                            <div className=\"empty-state\">\r\n                                <Key size={64} />\r\n                                <h3>No hay artículos alquilados</h3>\r\n                                <p>Los alquileres activos aparecerán aquí</p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Vista de Pendientes */}\r\n                {currentView === 'pending' && (\r\n                    <div className=\"rentals-list\">\r\n                        {getPendingReturns().length > 0 ? (\r\n                            getPendingReturns().map(rental => {\r\n                                const daysOverdue = getDaysOverdue(rental.rental_end);\r\n\r\n                                return (\r\n                                    <div key={rental.id} className=\"rental-card overdue\">\r\n                                        <div className=\"overdue-indicator\">\r\n                                            <AlertTriangle size={16} />\r\n                                            {daysOverdue} días vencido\r\n                                        </div>\r\n\r\n                                        <div className=\"rental-header\">\r\n                                            <div className=\"rental-customer\">\r\n                                                <User size={20} />\r\n                                                <div>\r\n                                                    <h4>{rental.customer_name}</h4>\r\n                                                    <span className=\"customer-details\">\r\n                                                        📱 {rental.customer_phone}\r\n                                                    </span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"rental-item-info\">\r\n                                            <Package size={16} />\r\n                                            <span>{rental.item_name}</span>\r\n                                        </div>\r\n\r\n                                        <div className=\"overdue-info\">\r\n                                            <div className=\"info-item\">\r\n                                                <span className=\"info-label\">Debió devolver:</span>\r\n                                                <span className=\"info-value\">{formatDate(rental.rental_end)}</span>\r\n                                            </div>\r\n                                            <div className=\"info-item\">\r\n                                                <span className=\"info-label\">Saldo pendiente:</span>\r\n                                                <span className=\"info-value text-orange\">\r\n                                                    ${(rental.total_amount - (rental.total_paid || 0)).toFixed(2)}\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"rental-actions\">\r\n                                            <button\r\n                                                className=\"btn btn-success\"\r\n                                                onClick={() => openModal('return', rental)}\r\n                                            >\r\n                                                <RotateCcw size={14} />\r\n                                                Registrar Devolución\r\n                                            </button>\r\n                                            <button\r\n                                                className=\"btn btn-primary\"\r\n                                                onClick={() => window.location.href = `tel:${rental.customer_phone}`}\r\n                                            >\r\n                                                <Phone size={14} />\r\n                                                Contactar\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                );\r\n                            })\r\n                        ) : (\r\n                            <div className=\"empty-state\">\r\n                                <CheckCircle size={64} color=\"#10b981\" />\r\n                                <h3>No hay devoluciones pendientes</h3>\r\n                                <p>¡Todos los alquileres están al día!</p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Modal de Artículo */}\r\n            {modals.item && (\r\n                <div className=\"modal-overlay\" onClick={() => closeModal('item')}>\r\n                    <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\r\n                        <div className=\"modal-header\">\r\n                            <h2>{editingItem ? 'Editar Artículo' : 'Nuevo Artículo'}</h2>\r\n                            <button className=\"close-btn\" onClick={() => closeModal('item')}>\r\n                                <X size={24} />\r\n                            </button>\r\n                        </div>\r\n\r\n                        <form onSubmit={handleItemSubmit}>\r\n                            <div className=\"form-group\">\r\n                                <label>Nombre del artículo *</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    className=\"form-control\"\r\n                                    value={itemForm.name}\r\n                                    onChange={(e) => setItemForm({...itemForm, name: e.target.value})}\r\n                                    required\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"form-row\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Categoría</label>\r\n                                    <select\r\n                                        className=\"form-control\"\r\n                                        value={itemForm.category}\r\n                                        onChange={(e) => setItemForm({...itemForm, category: e.target.value})}\r\n                                    >\r\n                                        {Object.entries(CATEGORIES).map(([key, cat]) => (\r\n                                            <option key={key} value={key}>\r\n                                                {cat.icon} {cat.label}\r\n                                            </option>\r\n                                        ))}\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Cantidad</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        className=\"form-control\"\r\n                                        value={itemForm.quantity}\r\n                                        onChange={(e) => setItemForm({...itemForm, quantity: parseInt(e.target.value)})}\r\n                                        min=\"1\"\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Precio de alquiler (por día)</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    className=\"form-control\"\r\n                                    value={itemForm.rental_price}\r\n                                    onChange={(e) => setItemForm({...itemForm, rental_price: parseFloat(e.target.value)})}\r\n                                    step=\"0.01\"\r\n                                    min=\"0\"\r\n                                    required\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Descripción</label>\r\n                                <textarea\r\n                                    className=\"form-control\"\r\n                                    value={itemForm.description}\r\n                                    onChange={(e) => setItemForm({...itemForm, description: e.target.value})}\r\n                                    rows=\"3\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>URL de imagen (PNG)</label>\r\n                                <input\r\n                                    type=\"url\"\r\n                                    className=\"form-control\"\r\n                                    value={itemForm.image_url}\r\n                                    onChange={(e) => setItemForm({...itemForm, image_url: e.target.value})}\r\n                                    placeholder=\"https://ejemplo.com/imagen.png\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"form-actions\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-secondary\"\r\n                                    onClick={() => closeModal('item')}\r\n                                >\r\n                                    Cancelar\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"btn btn-primary\"\r\n                                    disabled={loading}\r\n                                >\r\n                                    {loading ? 'Guardando...' : 'Guardar'}\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Modal de Alquiler */}\r\n            {modals.rental && (\r\n                <div className=\"modal-overlay\" onClick={() => closeModal('rental')}>\r\n                    <div className=\"modal-content large\" onClick={e => e.stopPropagation()}>\r\n                        <div className=\"modal-header\">\r\n                            <h2>Nuevo Alquiler</h2>\r\n                            <button className=\"close-btn\" onClick={() => closeModal('rental')}>\r\n                                <X size={24} />\r\n                            </button>\r\n                        </div>\r\n\r\n                        <form onSubmit={handleRentalSubmit}>\r\n                            <div className=\"form-group\">\r\n                                <label>Artículo a alquilar *</label>\r\n                                <select\r\n                                    className=\"form-control\"\r\n                                    value={rentalForm.item_id}\r\n                                    onChange={(e) => {\r\n                                        const item = items.find(i => i.id === parseInt(e.target.value));\r\n                                        setSelectedItem(item);\r\n                                        setRentalForm({...rentalForm, item_id: e.target.value});\r\n                                    }}\r\n                                    required\r\n                                >\r\n                                    <option value=\"\">Seleccione un artículo...</option>\r\n                                    {items.filter(item => item.quantity_available > 0).map(item => (\r\n                                        <option key={item.id} value={item.id}>\r\n                                            {item.name} ({item.quantity_available} disponibles)\r\n                                        </option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div className=\"form-section\">\r\n                                <h3>Información del Cliente</h3>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Nombre completo *</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        value={rentalForm.customer_name}\r\n                                        onChange={(e) => setRentalForm({...rentalForm, customer_name: e.target.value})}\r\n                                        required\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-row\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>Cédula de identidad *</label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            value={rentalForm.customer_id_number}\r\n                                            onChange={(e) => setRentalForm({...rentalForm, customer_id_number: e.target.value})}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group\">\r\n                                        <label>Teléfono *</label>\r\n                                        <input\r\n                                            type=\"tel\"\r\n                                            className=\"form-control\"\r\n                                            value={rentalForm.customer_phone}\r\n                                            onChange={(e) => setRentalForm({...rentalForm, customer_phone: e.target.value})}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Dirección de domicilio</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        value={rentalForm.customer_address}\r\n                                        onChange={(e) => setRentalForm({...rentalForm, customer_address: e.target.value})}\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Email</label>\r\n                                    <input\r\n                                        type=\"email\"\r\n                                        className=\"form-control\"\r\n                                        value={rentalForm.customer_email}\r\n                                        onChange={(e) => setRentalForm({...rentalForm, customer_email: e.target.value})}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-section\">\r\n                                <h3>Detalles del Alquiler</h3>\r\n\r\n                                <div className=\"form-row\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>Fecha de alquiler *</label>\r\n                                        <input\r\n                                            type=\"date\"\r\n                                            className=\"form-control\"\r\n                                            value={rentalForm.rental_start}\r\n                                            onChange={(e) => setRentalForm({...rentalForm, rental_start: e.target.value})}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group\">\r\n                                        <label>Fecha de devolución *</label>\r\n                                        <input\r\n                                            type=\"date\"\r\n                                            className=\"form-control\"\r\n                                            value={rentalForm.rental_end}\r\n                                            onChange={(e) => setRentalForm({...rentalForm, rental_end: e.target.value})}\r\n                                            min={rentalForm.rental_start}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"form-row\">\r\n                                    <div className=\"form-group\">\r\n                                        <label>Cantidad</label>\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            className=\"form-control\"\r\n                                            value={rentalForm.quantity_rented}\r\n                                            onChange={(e) => setRentalForm({...rentalForm, quantity_rented: parseInt(e.target.value)})}\r\n                                            min=\"1\"\r\n                                            max={selectedItem?.quantity_available || 1}\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group\">\r\n                                        <label>Costo total</label>\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            className=\"form-control\"\r\n                                            value={rentalForm.total_amount}\r\n                                            onChange={(e) => setRentalForm({...rentalForm, total_amount: parseFloat(e.target.value)})}\r\n                                            step=\"0.01\"\r\n                                            min=\"0\"\r\n                                            required\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"checkbox-group\">\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            id=\"has_collateral\"\r\n                                            checked={rentalForm.has_collateral}\r\n                                            onChange={(e) => setRentalForm({...rentalForm, has_collateral: e.target.checked})}\r\n                                        />\r\n                                        <label htmlFor=\"has_collateral\">¿Dejó prenda?</label>\r\n                                    </div>\r\n                                    {rentalForm.has_collateral && (\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control mt-2\"\r\n                                            placeholder=\"Descripción de la prenda\"\r\n                                            value={rentalForm.collateral_description}\r\n                                            onChange={(e) => setRentalForm({...rentalForm, collateral_description: e.target.value})}\r\n                                        />\r\n                                    )}\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Depósito inicial</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        className=\"form-control\"\r\n                                        value={rentalForm.initial_deposit}\r\n                                        onChange={(e) => setRentalForm({...rentalForm, initial_deposit: parseFloat(e.target.value)})}\r\n                                        step=\"0.01\"\r\n                                        min=\"0\"\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Notas adicionales</label>\r\n                                    <textarea\r\n                                        className=\"form-control\"\r\n                                        value={rentalForm.notes}\r\n                                        onChange={(e) => setRentalForm({...rentalForm, notes: e.target.value})}\r\n                                        rows=\"3\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"form-actions\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-secondary\"\r\n                                    onClick={() => closeModal('rental')}\r\n                                >\r\n                                    Cancelar\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"btn btn-primary\"\r\n                                    disabled={loading}\r\n                                >\r\n                                    {loading ? 'Creando...' : 'Crear Alquiler'}\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Modal de Devolución */}\r\n            {modals.return && selectedRental && (\r\n                <div className=\"modal-overlay\" onClick={() => closeModal('return')}>\r\n                    <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\r\n                        <div className=\"modal-header\">\r\n                            <h2>Registrar Devolución</h2>\r\n                            <button className=\"close-btn\" onClick={() => closeModal('return')}>\r\n                                <X size={24} />\r\n                            </button>\r\n                        </div>\r\n\r\n                        <form onSubmit={handleReturnSubmit}>\r\n                            <div className=\"rental-summary\">\r\n                                <h3>{selectedRental.item_name}</h3>\r\n                                <p>Cliente: {selectedRental.customer_name}</p>\r\n                                <p>Período: {formatDate(selectedRental.rental_start)} - {formatDate(selectedRental.rental_end)}</p>\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Estado del artículo</label>\r\n                                <select\r\n                                    className=\"form-control\"\r\n                                    value={returnForm.condition}\r\n                                    onChange={(e) => setReturnForm({...returnForm, condition: e.target.value})}\r\n                                >\r\n                                    <option value=\"bueno\">Bueno</option>\r\n                                    <option value=\"regular\">Regular</option>\r\n                                    <option value=\"dañado\">Dañado</option>\r\n                                </select>\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>Notas sobre el estado</label>\r\n                                <textarea\r\n                                    className=\"form-control\"\r\n                                    value={returnForm.notes}\r\n                                    onChange={(e) => setReturnForm({...returnForm, notes: e.target.value})}\r\n                                    rows=\"3\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"payment-summary\">\r\n                                <div className=\"summary-item\">\r\n                                    <span>Total del alquiler:</span>\r\n                                    <span className=\"amount\">${selectedRental.total_amount}</span>\r\n                                </div>\r\n                                <div className=\"summary-item\">\r\n                                    <span>Abonado:</span>\r\n                                    <span className=\"amount text-green\">${selectedRental.total_paid || 0}</span>\r\n                                </div>\r\n                                <div className=\"summary-item total\">\r\n                                    <span>Saldo pendiente:</span>\r\n                                    <span className=\"amount text-orange\">\r\n                                        ${(selectedRental.total_amount - (selectedRental.total_paid || 0)).toFixed(2)}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {(selectedRental.total_amount - (selectedRental.total_paid || 0)) > 0 && (\r\n                                <div className=\"form-group\">\r\n                                    <label>Pago final</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        className=\"form-control\"\r\n                                        value={returnForm.final_payment}\r\n                                        onChange={(e) => setReturnForm({...returnForm, final_payment: parseFloat(e.target.value)})}\r\n                                        step=\"0.01\"\r\n                                        min=\"0\"\r\n                                        max={selectedRental.total_amount - (selectedRental.total_paid || 0)}\r\n                                    />\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"form-actions\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"btn btn-secondary\"\r\n                                    onClick={() => closeModal('return')}\r\n                                >\r\n                                    Cancelar\r\n                                </button>\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"btn btn-primary\"\r\n                                    disabled={loading}\r\n                                >\r\n                                    {loading ? 'Procesando...' : 'Confirmar Devolución'}\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Modal de Pagos */}\r\n            {modals.payment && selectedRental && (\r\n                <div className=\"modal-overlay\" onClick={() => closeModal('payment')}>\r\n                    <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\r\n                        <div className=\"modal-header\">\r\n                            <h2>Gestión de Abonos</h2>\r\n                            <button className=\"close-btn\" onClick={() => closeModal('payment')}>\r\n                                <X size={24} />\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"rental-summary\">\r\n                            <h3>{selectedRental.item_name}</h3>\r\n                            <p>Cliente: {selectedRental.customer_name}</p>\r\n                        </div>\r\n\r\n                        <form onSubmit={handlePaymentSubmit}>\r\n                            <h3>Registrar nuevo abono</h3>\r\n                            <div className=\"form-row\">\r\n                                <div className=\"form-group\">\r\n                                    <label>Monto</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        className=\"form-control\"\r\n                                        value={paymentForm.amount}\r\n                                        onChange={(e) => setPaymentForm({...paymentForm, amount: parseFloat(e.target.value)})}\r\n                                        step=\"0.01\"\r\n                                        min=\"0.01\"\r\n                                        required\r\n                                    />\r\n                                </div>\r\n\r\n                                <div className=\"form-group\">\r\n                                    <label>Método de pago</label>\r\n                                    <select\r\n                                        className=\"form-control\"\r\n                                        value={paymentForm.payment_method}\r\n                                        onChange={(e) => setPaymentForm({...paymentForm, payment_method: e.target.value})}\r\n                                    >\r\n                                        <option value=\"efectivo\">Efectivo</option>\r\n                                        <option value=\"transferencia\">Transferencia</option>\r\n                                        <option value=\"tarjeta\">Tarjeta</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\r\n                                {loading ? 'Registrando...' : 'Agregar Abono'}\r\n                            </button>\r\n                        </form>\r\n\r\n                        <div className=\"payments-history\">\r\n                            <h3>Historial de abonos</h3>\r\n                            {payments.length > 0 ? (\r\n                                <div className=\"payments-list\">\r\n                                    {payments.map(payment => (\r\n                                        <div key={payment.id} className=\"payment-item\">\r\n                                            <div>\r\n                                                <div className=\"payment-date\">{formatDate(payment.payment_date)}</div>\r\n                                                <div className=\"payment-method\">{payment.payment_method}</div>\r\n                                            </div>\r\n                                            <div className=\"payment-amount\">\r\n                                                ${payment.amount}\r\n                                                <button\r\n                                                    className=\"btn-icon\"\r\n                                                    onClick={() => handleDeletePayment(payment.id)}\r\n                                                >\r\n                                                    <Trash2 size={14} />\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            ) : (\r\n                                <p className=\"no-payments\">No hay abonos registrados</p>\r\n                            )}\r\n\r\n                            <div className=\"payment-summary\">\r\n                                <div className=\"summary-item\">\r\n                                    <span>Total:</span>\r\n                                    <span className=\"amount\">${selectedRental.total_amount}</span>\r\n                                </div>\r\n                                <div className=\"summary-item\">\r\n                                    <span>Abonado:</span>\r\n                                    <span className=\"amount text-green\">\r\n                                        ${payments.reduce((sum, p) => sum + p.amount, 0).toFixed(2)}\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"summary-item total\">\r\n                                    <span>Saldo:</span>\r\n                                    <span className=\"amount text-orange\">\r\n                                        ${(selectedRental.total_amount - payments.reduce((sum, p) => sum + p.amount, 0)).toFixed(2)}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Rental;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}