{"ast":null,"code":"import _objectSpread from\"C:/Users/Silvia/WebstormProjects/TASK/task-manager/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Plus,ShoppingCart,Package,DollarSign,Search,Edit2,Trash2,X,FileText}from'lucide-react';import{listProducts,createProduct,updateProduct,deleteProduct}from'../../services/products';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function RentalManagementSystem(){// --- Productos (CRUD + UI) ---\nconst[products,setProducts]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[showProductForm,setShowProductForm]=useState(false);const[editingProduct,setEditingProduct]=useState(null);const[isLoadingProducts,setIsLoadingProducts]=useState(false);// Paginación\nconst[page,setPage]=useState(1);const[perPage]=useState(12);const[totalPages,setTotalPages]=useState(1);// Form de producto\nconst[productForm,setProductForm]=useState({name:'',description:'',price:'',stock:'',image:null});// --- Clientes / Alquileres (de momento local hasta cablear API) ---\nconst[clients,setClients]=useState([]);const[rentals,setRentals]=useState([]);const[cart,setCart]=useState([]);const[activeTab,setActiveTab]=useState('products');const[showClientForm,setShowClientForm]=useState(false);const[currentClient,setCurrentClient]=useState(null);const[showPaymentModal,setShowPaymentModal]=useState(false);const[selectedRental,setSelectedRental]=useState(null);const[clientForm,setClientForm]=useState({name:'',cedula:'',address:'',phone:'',hasDeposit:false,hasCollateral:false,depositAmount:''});const[rentalDates,setRentalDates]=useState({deliveryDate:'',returnDate:''});const[paymentForm,setPaymentForm]=useState({amount:'',date:new Date().toISOString().split('T')[0],notes:''});// --------- Efecto: cargar productos (filtrado + paginado) ----------\nuseEffect(()=>{let cancelled=false;(async()=>{try{setIsLoadingProducts(true);const{items,meta}=await listProducts({q:searchTerm,page,per_page:perPage,sort:'created_at',dir:'desc',is_active:true});if(!cancelled){setProducts(items);setTotalPages((meta===null||meta===void 0?void 0:meta.total_pages)||1);}}catch(e){console.error(e);alert(e.userMessage||'Error cargando productos');}finally{if(!cancelled)setIsLoadingProducts(false);}})();return()=>{cancelled=true;};},[searchTerm,page,perPage]);// Reset de página al cambiar búsqueda\nuseEffect(()=>{setPage(1);},[searchTerm]);// --------- Handlers de Productos (usando API) ----------\nconst handleImageUpload=e=>{const file=e.target.files[0];if(file){const reader=new FileReader();reader.onloadend=()=>{setProductForm(f=>_objectSpread(_objectSpread({},f),{},{image:reader.result}));};reader.readAsDataURL(file);}};const handleSaveProduct=async()=>{if(!productForm.name||productForm.price===''||productForm.stock===''){alert('Por favor completa todos los campos obligatorios');return;}try{if(editingProduct){const{updated}=await updateProduct(editingProduct.id,productForm,editingProduct.version);setProducts(prev=>prev.map(p=>p.id===updated.id?updated:p));}else{const created=await createProduct(productForm);setProducts(prev=>[created,...prev]);}setShowProductForm(false);setEditingProduct(null);setProductForm({name:'',description:'',price:'',stock:'',image:null});}catch(e){alert(e.userMessage||'No se pudo guardar el producto');}};const handleDeleteProduct=async id=>{if(window.confirm('¿Estás seguro de eliminar este producto?')){try{await deleteProduct(id);setProducts(prev=>prev.filter(p=>p.id!==id));}catch(e){alert(e.userMessage||'No se pudo eliminar');}}};// --------- Carrito ----------\nconst handleAddToCart=product=>{const existing=cart.find(item=>item.id===product.id);if(existing){setCart(cart.map(item=>item.id===product.id?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity+1}):item));}else{setCart([...cart,_objectSpread(_objectSpread({},product),{},{quantity:1})]);}};const handleRemoveFromCart=id=>{setCart(cart.filter(item=>item.id!==id));};const handleUpdateCartQuantity=(id,quantity)=>{const q=Number(quantity);if(q<1){handleRemoveFromCart(id);return;}setCart(cart.map(item=>item.id===id?_objectSpread(_objectSpread({},item),{},{quantity:q}):item));};// --------- Clientes (local por ahora) ----------\nconst handleSaveClient=()=>{if(!clientForm.name||!clientForm.cedula||!clientForm.phone){alert('Por favor completa los campos obligatorios');return;}const newClient=_objectSpread(_objectSpread({},clientForm),{},{id:Date.now()});setClients(prev=>[newClient,...prev]);setCurrentClient(newClient);setShowClientForm(false);setClientForm({name:'',cedula:'',address:'',phone:'',hasDeposit:false,hasCollateral:false,depositAmount:''});};// --------- Alquiler (local por ahora) ----------\nconst handleCompleteRental=()=>{if(cart.length===0||!currentClient||!rentalDates.deliveryDate||!rentalDates.returnDate){alert('Por favor completa todos los datos necesarios');return;}const totalAmount=cart.reduce((sum,item)=>sum+parseFloat(item.price)*item.quantity,0);const depositAmount=parseFloat(currentClient.depositAmount)||0;const newRental={id:Date.now(),client:currentClient,items:cart,deliveryDate:rentalDates.deliveryDate,returnDate:rentalDates.returnDate,totalAmount,paidAmount:depositAmount,remainingAmount:totalAmount-depositAmount,status:'active',payments:depositAmount>0?[{amount:depositAmount,date:new Date().toISOString().split('T')[0],notes:'Abono inicial'}]:[],createdAt:new Date().toISOString()};const updatedProducts=products.map(product=>{const cartItem=cart.find(item=>item.id===product.id);if(cartItem){return _objectSpread(_objectSpread({},product),{},{availableStock:product.availableStock-cartItem.quantity});}return product;});setRentals(prev=>[...prev,newRental]);setProducts(updatedProducts);setCart([]);setCurrentClient(null);setRentalDates({deliveryDate:'',returnDate:''});alert('Alquiler registrado exitosamente');setActiveTab('rentals');};const handleAddPayment=()=>{if(!paymentForm.amount||parseFloat(paymentForm.amount)<=0){alert('Por favor ingresa un monto válido');return;}const amount=parseFloat(paymentForm.amount);const rental=rentals.find(r=>r.id===selectedRental.id);if(amount>rental.remainingAmount){alert('El monto excede el saldo pendiente');return;}const newPayment={amount,date:paymentForm.date,notes:paymentForm.notes};const updatedRentals=rentals.map(r=>{if(r.id===selectedRental.id){return _objectSpread(_objectSpread({},r),{},{payments:[...r.payments,newPayment],paidAmount:r.paidAmount+amount,remainingAmount:r.remainingAmount-amount});}return r;});setRentals(updatedRentals);setShowPaymentModal(false);setPaymentForm({amount:'',date:new Date().toISOString().split('T')[0],notes:''});setSelectedRental(null);};const handleReturnRental=rentalId=>{if(window.confirm('¿Confirmar devolución del alquiler?')){const rental=rentals.find(r=>r.id===rentalId);const updatedProducts=products.map(product=>{const rentalItem=rental.items.find(item=>item.id===product.id);if(rentalItem){return _objectSpread(_objectSpread({},product),{},{availableStock:product.availableStock+rentalItem.quantity});}return product;});const updatedRentals=rentals.map(r=>r.id===rentalId?_objectSpread(_objectSpread({},r),{},{status:'returned'}):r);setProducts(updatedProducts);setRentals(updatedRentals);}};const totalCart=cart.reduce((sum,item)=>sum+parseFloat(item.price)*item.quantity,0);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-600 text-white p-6 shadow-lg\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",children:\"Sistema de Gesti\\xF3n de Alquileres\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-100 mt-2\",children:\"Administra tus productos y alquileres\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex border-b\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('products'),className:\"flex items-center gap-2 px-6 py-4 font-medium \".concat(activeTab==='products'?'text-blue-600 border-b-2 border-blue-600':'text-gray-600'),children:[/*#__PURE__*/_jsx(Package,{size:20}),\"Productos\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('rent'),className:\"flex items-center gap-2 px-6 py-4 font-medium \".concat(activeTab==='rent'?'text-blue-600 border-b-2 border-blue-600':'text-gray-600'),children:[/*#__PURE__*/_jsx(ShoppingCart,{size:20}),\"Alquilar (\",cart.length,\")\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab('rentals'),className:\"flex items-center gap-2 px-6 py-4 font-medium \".concat(activeTab==='rentals'?'text-blue-600 border-b-2 border-blue-600':'text-gray-600'),children:[/*#__PURE__*/_jsx(FileText,{size:20}),\"Alquileres\"]})]})}),activeTab==='products'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 max-w-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-3 text-gray-400\",size:20}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Buscar productos...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\"})]})}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowProductForm(true),className:\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\",children:[/*#__PURE__*/_jsx(Plus,{size:20}),\"Nuevo Producto\"]})]}),showProductForm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:editingProduct?'Editar Producto':'Nuevo Producto'}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Nombre *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:productForm.name,onChange:e=>setProductForm(_objectSpread(_objectSpread({},productForm),{},{name:e.target.value})),className:\"w-full border rounded px-3 py-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"textarea\",{value:productForm.description,onChange:e=>setProductForm(_objectSpread(_objectSpread({},productForm),{},{description:e.target.value})),className:\"w-full border rounded px-3 py-2\",rows:\"3\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Precio de Alquiler *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:productForm.price,onChange:e=>setProductForm(_objectSpread(_objectSpread({},productForm),{},{price:e.target.value})),className:\"w-full border rounded px-3 py-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Stock Total *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:productForm.stock,onChange:e=>setProductForm(_objectSpread(_objectSpread({},productForm),{},{stock:e.target.value})),className:\"w-full border rounded px-3 py-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Imagen\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleImageUpload,className:\"w-full border rounded px-3 py-2\"}),productForm.image&&/*#__PURE__*/_jsx(\"img\",{src:productForm.image,alt:\"Preview\",className:\"mt-2 h-32 object-cover rounded\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveProduct,className:\"flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\",children:\"Guardar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowProductForm(false);setEditingProduct(null);setProductForm({name:'',description:'',price:'',stock:'',image:null});},className:\"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300\",children:\"Cancelar\"})]})]})}),isLoadingProducts&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-gray-500 py-8\",children:\"Cargando productos...\"}),!isLoadingProducts&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:products.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden\",children:[product.image&&/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name,className:\"w-full h-48 object-cover\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-lg mb-2\",children:product.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-3\",children:product.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-3\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl font-bold text-blue-600\",children:[\"$\",product.price]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[\"Disponible: \",product.availableStock,\"/\",product.stock]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAddToCart(product),disabled:product.availableStock===0,className:\"flex-1 bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed\",children:\"Agregar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setEditingProduct(product);// mantiene version para optimistic locking\nsetProductForm({name:product.name,description:product.description||'',price:product.price,stock:product.stock,image:product.image||null});setShowProductForm(true);},className:\"bg-gray-200 p-2 rounded hover:bg-gray-300\",children:/*#__PURE__*/_jsx(Edit2,{size:18})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteProduct(product.id),className:\"bg-red-100 text-red-600 p-2 rounded hover:bg-red-200\",children:/*#__PURE__*/_jsx(Trash2,{size:18})})]})]})]},product.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-2 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"px-3 py-2 border rounded disabled:opacity-50\",disabled:page<=1,onClick:()=>setPage(p=>Math.max(1,p-1)),children:\"Anterior\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm\",children:[\"P\\xE1gina \",page,\" de \",totalPages]}),/*#__PURE__*/_jsx(\"button\",{className:\"px-3 py-2 border rounded disabled:opacity-50\",disabled:page>=totalPages,onClick:()=>setPage(p=>Math.min(totalPages,p+1)),children:\"Siguiente\"})]})]})]}),activeTab==='rent'&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Carrito de Alquiler\"}),cart.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center py-8\",children:\"El carrito est\\xE1 vac\\xEDo\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[cart.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 border-b pb-4\",children:[item.image&&/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,className:\"w-20 h-20 object-cover rounded\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:item.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"$\",item.price,\" c/u\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",value:item.quantity,onChange:e=>handleUpdateCartQuantity(item.id,e.target.value),className:\"w-20 border rounded px-2 py-1\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveFromCart(item.id),className:\"text-red-600 hover:text-red-700\",children:/*#__PURE__*/_jsx(X,{size:20})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-bold\",children:[\"$\",(item.price*item.quantity).toFixed(2)]})]},item.id)),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right text-xl font-bold\",children:[\"Total: $\",totalCart.toFixed(2)]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Datos del Cliente\"}),!currentClient?showClientForm?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Nombre *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:clientForm.name,onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{name:e.target.value})),className:\"w-full border rounded px-3 py-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"C\\xE9dula *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:clientForm.cedula,onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{cedula:e.target.value})),className:\"w-full border rounded px-3 py-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Direcci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:clientForm.address,onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{address:e.target.value})),className:\"w-full border rounded px-3 py-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Celular *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:clientForm.phone,onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{phone:e.target.value})),className:\"w-full border rounded px-3 py-2\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:clientForm.hasDeposit,onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{hasDeposit:e.target.checked}))}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"\\xBFAbon\\xF3?\"})]})}),clientForm.hasDeposit&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Monto Abono\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:clientForm.depositAmount,onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{depositAmount:e.target.value})),className:\"w-full border rounded px-3 py-2\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:clientForm.hasCollateral,onChange:e=>setClientForm(_objectSpread(_objectSpread({},clientForm),{},{hasCollateral:e.target.checked}))}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:\"\\xBFDej\\xF3 prenda?\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveClient,className:\"flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\",children:\"Guardar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowClientForm(false),className:\"flex-1 bg-gray-200 px-4 py-2 rounded hover:bg-gray-300\",children:\"Cancelar\"})]})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowClientForm(true),className:\"w-full bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700\",children:\"Registrar Cliente\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nombre:\"}),\" \",currentClient.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"C\\xE9dula:\"}),\" \",currentClient.cedula]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Celular:\"}),\" \",currentClient.phone]}),currentClient.address&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Direcci\\xF3n:\"}),\" \",currentClient.address]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Abon\\xF3:\"}),\" \",currentClient.hasDeposit?\"S\\xED - $\".concat(currentClient.depositAmount):'No']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Dej\\xF3 prenda:\"}),\" \",currentClient.hasCollateral?'Sí':'No']}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setCurrentClient(null);setClientForm({name:'',cedula:'',address:'',phone:'',hasDeposit:false,hasCollateral:false,depositAmount:''});},className:\"w-full mt-2 bg-gray-200 px-4 py-2 rounded hover:bg-gray-300\",children:\"Cambiar Cliente\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Fechas\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Fecha de Entrega *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:rentalDates.deliveryDate,onChange:e=>setRentalDates(_objectSpread(_objectSpread({},rentalDates),{},{deliveryDate:e.target.value})),className:\"w-full border rounded px-3 py-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Fecha de Devoluci\\xF3n *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:rentalDates.returnDate,onChange:e=>setRentalDates(_objectSpread(_objectSpread({},rentalDates),{},{returnDate:e.target.value})),className:\"w-full border rounded px-3 py-2\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCompleteRental,disabled:cart.length===0||!currentClient||!rentalDates.deliveryDate||!rentalDates.returnDate,className:\"w-full bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed font-bold\",children:\"Completar Alquiler\"})]})]}),activeTab==='rentals'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[rentals.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-8 text-center text-gray-500\",children:\"No hay alquileres registrados\"}):rentals.map(rental=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold\",children:rental.client.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"C\\xE9dula: \",rental.client.cedula]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Celular: \",rental.client.phone]}),rental.client.address&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Direcci\\xF3n: \",rental.client.address]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-sm font-medium \".concat(rental.status==='active'?'bg-green-100 text-green-800':'bg-gray-100 text-gray-800'),children:rental.status==='active'?'Activo':'Devuelto'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mt-2\",children:[\"ID: \",rental.id]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Fecha de Entrega\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:rental.deliveryDate})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Fecha de Devoluci\\xF3n\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:rental.returnDate})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-4 mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2\",children:\"Art\\xEDculos Alquilados\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:rental.items.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[item.name,\" x \",item.quantity]}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold\",children:[\"$\",(item.price*item.quantity).toFixed(2)]})]},item.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl font-bold text-blue-600\",children:[\"$\",rental.totalAmount.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Pagado\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl font-bold text-green-600\",children:[\"$\",rental.paidAmount.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Saldo\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl font-bold text-red-600\",children:[\"$\",rental.remainingAmount.toFixed(2)]})]})]}),rental.payments.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold mb-2\",children:\"Historial de Pagos\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:rental.payments.map((payment,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center bg-gray-50 p-2 rounded\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[\"$\",payment.amount.toFixed(2)]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600 ml-2\",children:payment.date}),payment.notes&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:payment.notes})]})},index))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Abon\\xF3:\"}),\" \",rental.client.hasDeposit?'Sí':'No',rental.client.hasDeposit&&\" (\".concat(rental.client.depositAmount,\")\")]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Dej\\xF3 prenda:\"}),\" \",rental.client.hasCollateral?'Sí':'No']})]})]}),rental.status==='active'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setSelectedRental(rental);setShowPaymentModal(true);},className:\"flex-1 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(DollarSign,{size:18}),\"Registrar Pago\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleReturnRental(rental.id),className:\"flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\",children:\"Marcar como Devuelto\"})]})]},rental.id)),showPaymentModal&&selectedRental&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Registrar Pago\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Cliente: \",/*#__PURE__*/_jsx(\"strong\",{children:selectedRental.client.name})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600\",children:[\"Saldo pendiente: \",/*#__PURE__*/_jsxs(\"strong\",{className:\"text-red-600\",children:[\"$\",selectedRental.remainingAmount.toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Monto *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:paymentForm.amount,onChange:e=>setPaymentForm(_objectSpread(_objectSpread({},paymentForm),{},{amount:e.target.value})),className:\"w-full border rounded px-3 py-2\",placeholder:\"0.00\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Fecha\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:paymentForm.date,onChange:e=>setPaymentForm(_objectSpread(_objectSpread({},paymentForm),{},{date:e.target.value})),className:\"w-full border rounded px-3 py-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-1\",children:\"Notas\"}),/*#__PURE__*/_jsx(\"textarea\",{value:paymentForm.notes,onChange:e=>setPaymentForm(_objectSpread(_objectSpread({},paymentForm),{},{notes:e.target.value})),className:\"w-full border rounded px-3 py-2\",rows:\"3\",placeholder:\"Notas adicionales...\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleAddPayment,className:\"flex-1 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\",children:\"Registrar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowPaymentModal(false);setSelectedRental(null);setPaymentForm({amount:'',date:new Date().toISOString().split('T')[0],notes:''});},className:\"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300\",children:\"Cancelar\"})]})]})})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","Plus","ShoppingCart","Package","DollarSign","Search","Edit2","Trash2","X","FileText","listProducts","createProduct","updateProduct","deleteProduct","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RentalManagementSystem","products","setProducts","searchTerm","setSearchTerm","showProductForm","setShowProductForm","editingProduct","setEditingProduct","isLoadingProducts","setIsLoadingProducts","page","setPage","perPage","totalPages","setTotalPages","productForm","setProductForm","name","description","price","stock","image","clients","setClients","rentals","setRentals","cart","setCart","activeTab","setActiveTab","showClientForm","setShowClientForm","currentClient","setCurrentClient","showPaymentModal","setShowPaymentModal","selectedRental","setSelectedRental","clientForm","setClientForm","cedula","address","phone","hasDeposit","hasCollateral","depositAmount","rentalDates","setRentalDates","deliveryDate","returnDate","paymentForm","setPaymentForm","amount","date","Date","toISOString","split","notes","cancelled","items","meta","q","per_page","sort","dir","is_active","total_pages","e","console","error","alert","userMessage","handleImageUpload","file","target","files","reader","FileReader","onloadend","f","_objectSpread","result","readAsDataURL","handleSaveProduct","updated","id","version","prev","map","p","created","handleDeleteProduct","window","confirm","filter","handleAddToCart","product","existing","find","item","quantity","handleRemoveFromCart","handleUpdateCartQuantity","Number","handleSaveClient","newClient","now","handleCompleteRental","length","totalAmount","reduce","sum","parseFloat","newRental","client","paidAmount","remainingAmount","status","payments","createdAt","updatedProducts","cartItem","availableStock","handleAddPayment","rental","r","newPayment","updatedRentals","handleReturnRental","rentalId","rentalItem","totalCart","className","children","onClick","concat","size","type","placeholder","value","onChange","rows","step","accept","src","alt","disabled","Math","max","min","toFixed","checked","payment","index"],"sources":["C:/Users/Silvia/WebstormProjects/TASK/task-manager/frontend/src/features/rentals/RentalManagementSystem.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Plus, ShoppingCart, Package, DollarSign, Search, Edit2, Trash2, X, FileText } from 'lucide-react';\r\nimport {\r\n    listProducts,\r\n    createProduct,\r\n    updateProduct,\r\n    deleteProduct,\r\n} from '../../services/products';\r\n\r\nexport default function RentalManagementSystem() {\r\n    // --- Productos (CRUD + UI) ---\r\n    const [products, setProducts] = useState([]);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [showProductForm, setShowProductForm] = useState(false);\r\n    const [editingProduct, setEditingProduct] = useState(null);\r\n    const [isLoadingProducts, setIsLoadingProducts] = useState(false);\r\n\r\n    // Paginación\r\n    const [page, setPage] = useState(1);\r\n    const [perPage] = useState(12);\r\n    const [totalPages, setTotalPages] = useState(1);\r\n\r\n    // Form de producto\r\n    const [productForm, setProductForm] = useState({\r\n        name: '',\r\n        description: '',\r\n        price: '',\r\n        stock: '',\r\n        image: null,\r\n    });\r\n\r\n    // --- Clientes / Alquileres (de momento local hasta cablear API) ---\r\n    const [clients, setClients] = useState([]);\r\n    const [rentals, setRentals] = useState([]);\r\n    const [cart, setCart] = useState([]);\r\n    const [activeTab, setActiveTab] = useState('products');\r\n    const [showClientForm, setShowClientForm] = useState(false);\r\n    const [currentClient, setCurrentClient] = useState(null);\r\n    const [showPaymentModal, setShowPaymentModal] = useState(false);\r\n    const [selectedRental, setSelectedRental] = useState(null);\r\n\r\n    const [clientForm, setClientForm] = useState({\r\n        name: '',\r\n        cedula: '',\r\n        address: '',\r\n        phone: '',\r\n        hasDeposit: false,\r\n        hasCollateral: false,\r\n        depositAmount: ''\r\n    });\r\n\r\n    const [rentalDates, setRentalDates] = useState({\r\n        deliveryDate: '',\r\n        returnDate: ''\r\n    });\r\n\r\n    const [paymentForm, setPaymentForm] = useState({\r\n        amount: '',\r\n        date: new Date().toISOString().split('T')[0],\r\n        notes: ''\r\n    });\r\n\r\n    // --------- Efecto: cargar productos (filtrado + paginado) ----------\r\n    useEffect(() => {\r\n        let cancelled = false;\r\n        (async () => {\r\n            try {\r\n                setIsLoadingProducts(true);\r\n                const { items, meta } = await listProducts({\r\n                    q: searchTerm,\r\n                    page,\r\n                    per_page: perPage,\r\n                    sort: 'created_at',\r\n                    dir: 'desc',\r\n                    is_active: true,\r\n                });\r\n                if (!cancelled) {\r\n                    setProducts(items);\r\n                    setTotalPages(meta?.total_pages || 1);\r\n                }\r\n            } catch (e) {\r\n                console.error(e);\r\n                alert(e.userMessage || 'Error cargando productos');\r\n            } finally {\r\n                if (!cancelled) setIsLoadingProducts(false);\r\n            }\r\n        })();\r\n        return () => { cancelled = true; };\r\n    }, [searchTerm, page, perPage]);\r\n\r\n    // Reset de página al cambiar búsqueda\r\n    useEffect(() => { setPage(1); }, [searchTerm]);\r\n\r\n    // --------- Handlers de Productos (usando API) ----------\r\n    const handleImageUpload = (e) => {\r\n        const file = e.target.files[0];\r\n        if (file) {\r\n            const reader = new FileReader();\r\n            reader.onloadend = () => {\r\n                setProductForm((f) => ({ ...f, image: reader.result }));\r\n            };\r\n            reader.readAsDataURL(file);\r\n        }\r\n    };\r\n\r\n    const handleSaveProduct = async () => {\r\n        if (!productForm.name || productForm.price === '' || productForm.stock === '') {\r\n            alert('Por favor completa todos los campos obligatorios');\r\n            return;\r\n        }\r\n        try {\r\n            if (editingProduct) {\r\n                const { updated } = await updateProduct(editingProduct.id, productForm, editingProduct.version);\r\n                setProducts(prev => prev.map(p => p.id === updated.id ? updated : p));\r\n            } else {\r\n                const created = await createProduct(productForm);\r\n                setProducts(prev => [created, ...prev]);\r\n            }\r\n            setShowProductForm(false);\r\n            setEditingProduct(null);\r\n            setProductForm({ name: '', description: '', price: '', stock: '', image: null });\r\n        } catch (e) {\r\n            alert(e.userMessage || 'No se pudo guardar el producto');\r\n        }\r\n    };\r\n\r\n    const handleDeleteProduct = async (id) => {\r\n        if (window.confirm('¿Estás seguro de eliminar este producto?')) {\r\n            try {\r\n                await deleteProduct(id);\r\n                setProducts(prev => prev.filter(p => p.id !== id));\r\n            } catch (e) {\r\n                alert(e.userMessage || 'No se pudo eliminar');\r\n            }\r\n        }\r\n    };\r\n\r\n    // --------- Carrito ----------\r\n    const handleAddToCart = (product) => {\r\n        const existing = cart.find(item => item.id === product.id);\r\n        if (existing) {\r\n            setCart(cart.map(item =>\r\n                item.id === product.id\r\n                    ? { ...item, quantity: item.quantity + 1 }\r\n                    : item\r\n            ));\r\n        } else {\r\n            setCart([...cart, { ...product, quantity: 1 }]);\r\n        }\r\n    };\r\n\r\n    const handleRemoveFromCart = (id) => {\r\n        setCart(cart.filter(item => item.id !== id));\r\n    };\r\n\r\n    const handleUpdateCartQuantity = (id, quantity) => {\r\n        const q = Number(quantity);\r\n        if (q < 1) {\r\n            handleRemoveFromCart(id);\r\n            return;\r\n        }\r\n        setCart(cart.map(item =>\r\n            item.id === id ? { ...item, quantity: q } : item\r\n        ));\r\n    };\r\n\r\n    // --------- Clientes (local por ahora) ----------\r\n    const handleSaveClient = () => {\r\n        if (!clientForm.name || !clientForm.cedula || !clientForm.phone) {\r\n            alert('Por favor completa los campos obligatorios');\r\n            return;\r\n        }\r\n        const newClient = {\r\n            ...clientForm,\r\n            id: Date.now()\r\n        };\r\n        setClients(prev => [newClient, ...prev]);\r\n        setCurrentClient(newClient);\r\n        setShowClientForm(false);\r\n        setClientForm({\r\n            name: '',\r\n            cedula: '',\r\n            address: '',\r\n            phone: '',\r\n            hasDeposit: false,\r\n            hasCollateral: false,\r\n            depositAmount: ''\r\n        });\r\n    };\r\n\r\n    // --------- Alquiler (local por ahora) ----------\r\n    const handleCompleteRental = () => {\r\n        if (cart.length === 0 || !currentClient || !rentalDates.deliveryDate || !rentalDates.returnDate) {\r\n            alert('Por favor completa todos los datos necesarios');\r\n            return;\r\n        }\r\n\r\n        const totalAmount = cart.reduce((sum, item) => sum + (parseFloat(item.price) * item.quantity), 0);\r\n        const depositAmount = parseFloat(currentClient.depositAmount) || 0;\r\n\r\n        const newRental = {\r\n            id: Date.now(),\r\n            client: currentClient,\r\n            items: cart,\r\n            deliveryDate: rentalDates.deliveryDate,\r\n            returnDate: rentalDates.returnDate,\r\n            totalAmount,\r\n            paidAmount: depositAmount,\r\n            remainingAmount: totalAmount - depositAmount,\r\n            status: 'active',\r\n            payments: depositAmount > 0 ? [{\r\n                amount: depositAmount,\r\n                date: new Date().toISOString().split('T')[0],\r\n                notes: 'Abono inicial'\r\n            }] : [],\r\n            createdAt: new Date().toISOString()\r\n        };\r\n\r\n        const updatedProducts = products.map(product => {\r\n            const cartItem = cart.find(item => item.id === product.id);\r\n            if (cartItem) {\r\n                return {\r\n                    ...product,\r\n                    availableStock: product.availableStock - cartItem.quantity\r\n                };\r\n            }\r\n            return product;\r\n        });\r\n\r\n        setRentals(prev => [...prev, newRental]);\r\n        setProducts(updatedProducts);\r\n\r\n        setCart([]);\r\n        setCurrentClient(null);\r\n        setRentalDates({ deliveryDate: '', returnDate: '' });\r\n        alert('Alquiler registrado exitosamente');\r\n        setActiveTab('rentals');\r\n    };\r\n\r\n    const handleAddPayment = () => {\r\n        if (!paymentForm.amount || parseFloat(paymentForm.amount) <= 0) {\r\n            alert('Por favor ingresa un monto válido');\r\n            return;\r\n        }\r\n\r\n        const amount = parseFloat(paymentForm.amount);\r\n        const rental = rentals.find(r => r.id === selectedRental.id);\r\n\r\n        if (amount > rental.remainingAmount) {\r\n            alert('El monto excede el saldo pendiente');\r\n            return;\r\n        }\r\n\r\n        const newPayment = {\r\n            amount,\r\n            date: paymentForm.date,\r\n            notes: paymentForm.notes\r\n        };\r\n\r\n        const updatedRentals = rentals.map(r => {\r\n            if (r.id === selectedRental.id) {\r\n                return {\r\n                    ...r,\r\n                    payments: [...r.payments, newPayment],\r\n                    paidAmount: r.paidAmount + amount,\r\n                    remainingAmount: r.remainingAmount - amount\r\n                };\r\n            }\r\n            return r;\r\n        });\r\n\r\n        setRentals(updatedRentals);\r\n        setShowPaymentModal(false);\r\n        setPaymentForm({ amount: '', date: new Date().toISOString().split('T')[0], notes: '' });\r\n        setSelectedRental(null);\r\n    };\r\n\r\n    const handleReturnRental = (rentalId) => {\r\n        if (window.confirm('¿Confirmar devolución del alquiler?')) {\r\n            const rental = rentals.find(r => r.id === rentalId);\r\n\r\n            const updatedProducts = products.map(product => {\r\n                const rentalItem = rental.items.find(item => item.id === product.id);\r\n                if (rentalItem) {\r\n                    return {\r\n                        ...product,\r\n                        availableStock: product.availableStock + rentalItem.quantity\r\n                    };\r\n                }\r\n                return product;\r\n            });\r\n\r\n            const updatedRentals = rentals.map(r =>\r\n                r.id === rentalId ? { ...r, status: 'returned' } : r\r\n            );\r\n\r\n            setProducts(updatedProducts);\r\n            setRentals(updatedRentals);\r\n        }\r\n    };\r\n\r\n    const totalCart = cart.reduce((sum, item) => sum + (parseFloat(item.price) * item.quantity), 0);\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50\">\r\n            <div className=\"bg-blue-600 text-white p-6 shadow-lg\">\r\n                <h1 className=\"text-3xl font-bold\">Sistema de Gestión de Alquileres</h1>\r\n                <p className=\"text-blue-100 mt-2\">Administra tus productos y alquileres</p>\r\n            </div>\r\n\r\n            <div className=\"max-w-7xl mx-auto p-6\">\r\n                <div className=\"bg-white rounded-lg shadow mb-6\">\r\n                    <div className=\"flex border-b\">\r\n                        <button\r\n                            onClick={() => setActiveTab('products')}\r\n                            className={`flex items-center gap-2 px-6 py-4 font-medium ${activeTab === 'products' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-600'}`}\r\n                        >\r\n                            <Package size={20} />\r\n                            Productos\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setActiveTab('rent')}\r\n                            className={`flex items-center gap-2 px-6 py-4 font-medium ${activeTab === 'rent' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-600'}`}\r\n                        >\r\n                            <ShoppingCart size={20} />\r\n                            Alquilar ({cart.length})\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setActiveTab('rentals')}\r\n                            className={`flex items-center gap-2 px-6 py-4 font-medium ${activeTab === 'rentals' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-600'}`}\r\n                        >\r\n                            <FileText size={20} />\r\n                            Alquileres\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Pestaña Productos */}\r\n                {activeTab === 'products' && (\r\n                    <div>\r\n                        <div className=\"flex justify-between items-center mb-6\">\r\n                            <div className=\"flex-1 max-w-md\">\r\n                                <div className=\"relative\">\r\n                                    <Search className=\"absolute left-3 top-3 text-gray-400\" size={20} />\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        placeholder=\"Buscar productos...\"\r\n                                        value={searchTerm}\r\n                                        onChange={(e) => setSearchTerm(e.target.value)}\r\n                                        className=\"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <button\r\n                                onClick={() => setShowProductForm(true)}\r\n                                className=\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\"\r\n                            >\r\n                                <Plus size={20} />\r\n                                Nuevo Producto\r\n                            </button>\r\n                        </div>\r\n\r\n                        {showProductForm && (\r\n                            <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n                                <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\r\n                                    <h2 className=\"text-xl font-bold mb-4\">\r\n                                        {editingProduct ? 'Editar Producto' : 'Nuevo Producto'}\r\n                                    </h2>\r\n                                    <div className=\"space-y-4\">\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium mb-1\">Nombre *</label>\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                value={productForm.name}\r\n                                                onChange={(e) => setProductForm({...productForm, name: e.target.value})}\r\n                                                className=\"w-full border rounded px-3 py-2\"\r\n                                            />\r\n                                        </div>\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium mb-1\">Descripción</label>\r\n                                            <textarea\r\n                                                value={productForm.description}\r\n                                                onChange={(e) => setProductForm({...productForm, description: e.target.value})}\r\n                                                className=\"w-full border rounded px-3 py-2\"\r\n                                                rows=\"3\"\r\n                                            />\r\n                                        </div>\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium mb-1\">Precio de Alquiler *</label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                step=\"0.01\"\r\n                                                value={productForm.price}\r\n                                                onChange={(e) => setProductForm({...productForm, price: e.target.value})}\r\n                                                className=\"w-full border rounded px-3 py-2\"\r\n                                            />\r\n                                        </div>\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium mb-1\">Stock Total *</label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                value={productForm.stock}\r\n                                                onChange={(e) => setProductForm({...productForm, stock: e.target.value})}\r\n                                                className=\"w-full border rounded px-3 py-2\"\r\n                                            />\r\n                                        </div>\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium mb-1\">Imagen</label>\r\n                                            <input\r\n                                                type=\"file\"\r\n                                                accept=\"image/*\"\r\n                                                onChange={handleImageUpload}\r\n                                                className=\"w-full border rounded px-3 py-2\"\r\n                                            />\r\n                                            {productForm.image && (\r\n                                                <img src={productForm.image} alt=\"Preview\" className=\"mt-2 h-32 object-cover rounded\" />\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"flex gap-2 mt-6\">\r\n                                        <button\r\n                                            onClick={handleSaveProduct}\r\n                                            className=\"flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\r\n                                        >\r\n                                            Guardar\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => {\r\n                                                setShowProductForm(false);\r\n                                                setEditingProduct(null);\r\n                                                setProductForm({ name: '', description: '', price: '', stock: '', image: null });\r\n                                            }}\r\n                                            className=\"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300\"\r\n                                        >\r\n                                            Cancelar\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Loader */}\r\n                        {isLoadingProducts && (\r\n                            <div className=\"text-center text-gray-500 py-8\">Cargando productos...</div>\r\n                        )}\r\n\r\n                        {/* Grid de productos */}\r\n                        {!isLoadingProducts && (\r\n                            <>\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                                    {products.map(product => (\r\n                                        <div key={product.id} className=\"bg-white rounded-lg shadow-md overflow-hidden\">\r\n                                            {product.image && (\r\n                                                <img src={product.image} alt={product.name} className=\"w-full h-48 object-cover\" />\r\n                                            )}\r\n                                            <div className=\"p-4\">\r\n                                                <h3 className=\"font-bold text-lg mb-2\">{product.name}</h3>\r\n                                                <p className=\"text-gray-600 text-sm mb-3\">{product.description}</p>\r\n                                                <div className=\"flex justify-between items-center mb-3\">\r\n                                                    <span className=\"text-2xl font-bold text-blue-600\">${product.price}</span>\r\n                                                    <span className=\"text-sm text-gray-600\">\r\n                            Disponible: {product.availableStock}/{product.stock}\r\n                          </span>\r\n                                                </div>\r\n                                                <div className=\"flex gap-2\">\r\n                                                    <button\r\n                                                        onClick={() => handleAddToCart(product)}\r\n                                                        disabled={product.availableStock === 0}\r\n                                                        className=\"flex-1 bg-blue-600 text-white px-3 py-2 rounded hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed\"\r\n                                                    >\r\n                                                        Agregar\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={() => {\r\n                                                            setEditingProduct(product); // mantiene version para optimistic locking\r\n                                                            setProductForm({\r\n                                                                name: product.name,\r\n                                                                description: product.description || '',\r\n                                                                price: product.price,\r\n                                                                stock: product.stock,\r\n                                                                image: product.image || null\r\n                                                            });\r\n                                                            setShowProductForm(true);\r\n                                                        }}\r\n                                                        className=\"bg-gray-200 p-2 rounded hover:bg-gray-300\"\r\n                                                    >\r\n                                                        <Edit2 size={18} />\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={() => handleDeleteProduct(product.id)}\r\n                                                        className=\"bg-red-100 text-red-600 p-2 rounded hover:bg-red-200\"\r\n                                                    >\r\n                                                        <Trash2 size={18} />\r\n                                                    </button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n\r\n                                {/* Paginación */}\r\n                                <div className=\"flex items-center justify-center gap-2 mt-6\">\r\n                                    <button\r\n                                        className=\"px-3 py-2 border rounded disabled:opacity-50\"\r\n                                        disabled={page <= 1}\r\n                                        onClick={() => setPage(p => Math.max(1, p - 1))}\r\n                                    >\r\n                                        Anterior\r\n                                    </button>\r\n                                    <span className=\"text-sm\">Página {page} de {totalPages}</span>\r\n                                    <button\r\n                                        className=\"px-3 py-2 border rounded disabled:opacity-50\"\r\n                                        disabled={page >= totalPages}\r\n                                        onClick={() => setPage(p => Math.min(totalPages, p + 1))}\r\n                                    >\r\n                                        Siguiente\r\n                                    </button>\r\n                                </div>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Pestaña Carrito / Alquilar */}\r\n                {activeTab === 'rent' && (\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n                        <div className=\"lg:col-span-2\">\r\n                            <div className=\"bg-white rounded-lg shadow p-6\">\r\n                                <h2 className=\"text-xl font-bold mb-4\">Carrito de Alquiler</h2>\r\n                                {cart.length === 0 ? (\r\n                                    <p className=\"text-gray-500 text-center py-8\">El carrito está vacío</p>\r\n                                ) : (\r\n                                    <div className=\"space-y-4\">\r\n                                        {cart.map(item => (\r\n                                            <div key={item.id} className=\"flex items-center gap-4 border-b pb-4\">\r\n                                                {item.image && (\r\n                                                    <img src={item.image} alt={item.name} className=\"w-20 h-20 object-cover rounded\" />\r\n                                                )}\r\n                                                <div className=\"flex-1\">\r\n                                                    <h3 className=\"font-semibold\">{item.name}</h3>\r\n                                                    <p className=\"text-gray-600\">${item.price} c/u</p>\r\n                                                </div>\r\n                                                <div className=\"flex items-center gap-2\">\r\n                                                    <input\r\n                                                        type=\"number\"\r\n                                                        min=\"1\"\r\n                                                        value={item.quantity}\r\n                                                        onChange={(e) => handleUpdateCartQuantity(item.id, e.target.value)}\r\n                                                        className=\"w-20 border rounded px-2 py-1\"\r\n                                                    />\r\n                                                    <button\r\n                                                        onClick={() => handleRemoveFromCart(item.id)}\r\n                                                        className=\"text-red-600 hover:text-red-700\"\r\n                                                    >\r\n                                                        <X size={20} />\r\n                                                    </button>\r\n                                                </div>\r\n                                                <div className=\"font-bold\">${(item.price * item.quantity).toFixed(2)}</div>\r\n                                            </div>\r\n                                        ))}\r\n                                        <div className=\"text-right text-xl font-bold\">\r\n                                            Total: ${totalCart.toFixed(2)}\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-6\">\r\n                            {/* Datos del Cliente */}\r\n                            <div className=\"bg-white rounded-lg shadow p-6\">\r\n                                <h2 className=\"text-xl font-bold mb-4\">Datos del Cliente</h2>\r\n                                {!currentClient ? (\r\n                                    showClientForm ? (\r\n                                        <div className=\"space-y-4\">\r\n                                            <div>\r\n                                                <label className=\"block text-sm font-medium mb-1\">Nombre *</label>\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    value={clientForm.name}\r\n                                                    onChange={(e) => setClientForm({...clientForm, name: e.target.value})}\r\n                                                    className=\"w-full border rounded px-3 py-2\"\r\n                                                />\r\n                                            </div>\r\n                                            <div>\r\n                                                <label className=\"block text-sm font-medium mb-1\">Cédula *</label>\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    value={clientForm.cedula}\r\n                                                    onChange={(e) => setClientForm({...clientForm, cedula: e.target.value})}\r\n                                                    className=\"w-full border rounded px-3 py-2\"\r\n                                                />\r\n                                            </div>\r\n                                            <div>\r\n                                                <label className=\"block text-sm font-medium mb-1\">Dirección</label>\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    value={clientForm.address}\r\n                                                    onChange={(e) => setClientForm({...clientForm, address: e.target.value})}\r\n                                                    className=\"w-full border rounded px-3 py-2\"\r\n                                                />\r\n                                            </div>\r\n                                            <div>\r\n                                                <label className=\"block text-sm font-medium mb-1\">Celular *</label>\r\n                                                <input\r\n                                                    type=\"tel\"\r\n                                                    value={clientForm.phone}\r\n                                                    onChange={(e) => setClientForm({...clientForm, phone: e.target.value})}\r\n                                                    className=\"w-full border rounded px-3 py-2\"\r\n                                                />\r\n                                            </div>\r\n                                            <div>\r\n                                                <label className=\"flex items-center gap-2\">\r\n                                                    <input\r\n                                                        type=\"checkbox\"\r\n                                                        checked={clientForm.hasDeposit}\r\n                                                        onChange={(e) => setClientForm({...clientForm, hasDeposit: e.target.checked})}\r\n                                                    />\r\n                                                    <span className=\"text-sm font-medium\">¿Abonó?</span>\r\n                                                </label>\r\n                                            </div>\r\n                                            {clientForm.hasDeposit && (\r\n                                                <div>\r\n                                                    <label className=\"block text-sm font-medium mb-1\">Monto Abono</label>\r\n                                                    <input\r\n                                                        type=\"number\"\r\n                                                        step=\"0.01\"\r\n                                                        value={clientForm.depositAmount}\r\n                                                        onChange={(e) => setClientForm({...clientForm, depositAmount: e.target.value})}\r\n                                                        className=\"w-full border rounded px-3 py-2\"\r\n                                                    />\r\n                                                </div>\r\n                                            )}\r\n                                            <div>\r\n                                                <label className=\"flex items-center gap-2\">\r\n                                                    <input\r\n                                                        type=\"checkbox\"\r\n                                                        checked={clientForm.hasCollateral}\r\n                                                        onChange={(e) => setClientForm({...clientForm, hasCollateral: e.target.checked})}\r\n                                                    />\r\n                                                    <span className=\"text-sm font-medium\">¿Dejó prenda?</span>\r\n                                                </label>\r\n                                            </div>\r\n                                            <div className=\"flex gap-2\">\r\n                                                <button\r\n                                                    onClick={handleSaveClient}\r\n                                                    className=\"flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\r\n                                                >\r\n                                                    Guardar\r\n                                                </button>\r\n                                                <button\r\n                                                    onClick={() => setShowClientForm(false)}\r\n                                                    className=\"flex-1 bg-gray-200 px-4 py-2 rounded hover:bg-gray-300\"\r\n                                                >\r\n                                                    Cancelar\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    ) : (\r\n                                        <button\r\n                                            onClick={() => setShowClientForm(true)}\r\n                                            className=\"w-full bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700\"\r\n                                        >\r\n                                            Registrar Cliente\r\n                                        </button>\r\n                                    )\r\n                                ) : (\r\n                                    <div className=\"space-y-2\">\r\n                                        <p><strong>Nombre:</strong> {currentClient.name}</p>\r\n                                        <p><strong>Cédula:</strong> {currentClient.cedula}</p>\r\n                                        <p><strong>Celular:</strong> {currentClient.phone}</p>\r\n                                        {currentClient.address && <p><strong>Dirección:</strong> {currentClient.address}</p>}\r\n                                        <p><strong>Abonó:</strong> {currentClient.hasDeposit ? `Sí - $${currentClient.depositAmount}` : 'No'}</p>\r\n                                        <p><strong>Dejó prenda:</strong> {currentClient.hasCollateral ? 'Sí' : 'No'}</p>\r\n                                        <button\r\n                                            onClick={() => {\r\n                                                setCurrentClient(null);\r\n                                                setClientForm({\r\n                                                    name: '',\r\n                                                    cedula: '',\r\n                                                    address: '',\r\n                                                    phone: '',\r\n                                                    hasDeposit: false,\r\n                                                    hasCollateral: false,\r\n                                                    depositAmount: ''\r\n                                                });\r\n                                            }}\r\n                                            className=\"w-full mt-2 bg-gray-200 px-4 py-2 rounded hover:bg-gray-300\"\r\n                                        >\r\n                                            Cambiar Cliente\r\n                                        </button>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n\r\n                            {/* Fechas */}\r\n                            <div className=\"bg-white rounded-lg shadow p-6\">\r\n                                <h2 className=\"text-xl font-bold mb-4\">Fechas</h2>\r\n                                <div className=\"space-y-4\">\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium mb-1\">Fecha de Entrega *</label>\r\n                                        <input\r\n                                            type=\"date\"\r\n                                            value={rentalDates.deliveryDate}\r\n                                            onChange={(e) => setRentalDates({...rentalDates, deliveryDate: e.target.value})}\r\n                                            className=\"w-full border rounded px-3 py-2\"\r\n                                        />\r\n                                    </div>\r\n                                    <div>\r\n                                        <label className=\"block text-sm font-medium mb-1\">Fecha de Devolución *</label>\r\n                                        <input\r\n                                            type=\"date\"\r\n                                            value={rentalDates.returnDate}\r\n                                            onChange={(e) => setRentalDates({...rentalDates, returnDate: e.target.value})}\r\n                                            className=\"w-full border rounded px-3 py-2\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <button\r\n                                onClick={handleCompleteRental}\r\n                                disabled={cart.length === 0 || !currentClient || !rentalDates.deliveryDate || !rentalDates.returnDate}\r\n                                className=\"w-full bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed font-bold\"\r\n                            >\r\n                                Completar Alquiler\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Pestaña Alquileres */}\r\n                {activeTab === 'rentals' && (\r\n                    <div className=\"space-y-4\">\r\n                        {rentals.length === 0 ? (\r\n                            <div className=\"bg-white rounded-lg shadow p-8 text-center text-gray-500\">\r\n                                No hay alquileres registrados\r\n                            </div>\r\n                        ) : (\r\n                            rentals.map(rental => (\r\n                                <div key={rental.id} className=\"bg-white rounded-lg shadow p-6\">\r\n                                    <div className=\"flex justify-between items-start mb-4\">\r\n                                        <div>\r\n                                            <h3 className=\"text-xl font-bold\">{rental.client.name}</h3>\r\n                                            <p className=\"text-gray-600\">Cédula: {rental.client.cedula}</p>\r\n                                            <p className=\"text-gray-600\">Celular: {rental.client.phone}</p>\r\n                                            {rental.client.address && <p className=\"text-gray-600\">Dirección: {rental.client.address}</p>}\r\n                                        </div>\r\n                                        <div className=\"text-right\">\r\n                      <span className={`px-3 py-1 rounded-full text-sm font-medium ${rental.status === 'active' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\r\n                        {rental.status === 'active' ? 'Activo' : 'Devuelto'}\r\n                      </span>\r\n                                            <p className=\"text-sm text-gray-600 mt-2\">\r\n                                                ID: {rental.id}\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\r\n                                        <div>\r\n                                            <p className=\"text-sm font-medium text-gray-600\">Fecha de Entrega</p>\r\n                                            <p className=\"font-semibold\">{rental.deliveryDate}</p>\r\n                                        </div>\r\n                                        <div>\r\n                                            <p className=\"text-sm font-medium text-gray-600\">Fecha de Devolución</p>\r\n                                            <p className=\"font-semibold\">{rental.returnDate}</p>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"border-t pt-4 mb-4\">\r\n                                        <h4 className=\"font-semibold mb-2\">Artículos Alquilados</h4>\r\n                                        <div className=\"space-y-2\">\r\n                                            {rental.items.map(item => (\r\n                                                <div key={item.id} className=\"flex justify-between items-center\">\r\n                                                    <span>{item.name} x {item.quantity}</span>\r\n                                                    <span className=\"font-semibold\">${(item.price * item.quantity).toFixed(2)}</span>\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"border-t pt-4 mb-4\">\r\n                                        <div className=\"grid grid-cols-3 gap-4 mb-4\">\r\n                                            <div>\r\n                                                <p className=\"text-sm font-medium text-gray-600\">Total</p>\r\n                                                <p className=\"text-xl font-bold text-blue-600\">${rental.totalAmount.toFixed(2)}</p>\r\n                                            </div>\r\n                                            <div>\r\n                                                <p className=\"text-sm font-medium text-gray-600\">Pagado</p>\r\n                                                <p className=\"text-xl font-bold text-green-600\">${rental.paidAmount.toFixed(2)}</p>\r\n                                            </div>\r\n                                            <div>\r\n                                                <p className=\"text-sm font-medium text-gray-600\">Saldo</p>\r\n                                                <p className=\"text-xl font-bold text-red-600\">${rental.remainingAmount.toFixed(2)}</p>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {rental.payments.length > 0 && (\r\n                                            <div className=\"mb-4\">\r\n                                                <h4 className=\"font-semibold mb-2\">Historial de Pagos</h4>\r\n                                                <div className=\"space-y-2\">\r\n                                                    {rental.payments.map((payment, index) => (\r\n                                                        <div key={index} className=\"flex justify-between items-center bg-gray-50 p-2 rounded\">\r\n                                                            <div>\r\n                                                                <span className=\"font-medium\">${payment.amount.toFixed(2)}</span>\r\n                                                                <span className=\"text-sm text-gray-600 ml-2\">{payment.date}</span>\r\n                                                                {payment.notes && <p className=\"text-sm text-gray-500\">{payment.notes}</p>}\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    ))}\r\n                                                </div>\r\n                                            </div>\r\n                                        )}\r\n\r\n                                        <div>\r\n                                            <p className=\"text-sm text-gray-600\">\r\n                                                <strong>Abonó:</strong> {rental.client.hasDeposit ? 'Sí' : 'No'}\r\n                                                {rental.client.hasDeposit && ` (${rental.client.depositAmount})`}\r\n                                            </p>\r\n                                            <p className=\"text-sm text-gray-600\">\r\n                                                <strong>Dejó prenda:</strong> {rental.client.hasCollateral ? 'Sí' : 'No'}\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {rental.status === 'active' && (\r\n                                        <div className=\"flex gap-2\">\r\n                                            <button\r\n                                                onClick={() => {\r\n                                                    setSelectedRental(rental);\r\n                                                    setShowPaymentModal(true);\r\n                                                }}\r\n                                                className=\"flex-1 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 flex items-center justify-center gap-2\"\r\n                                            >\r\n                                                <DollarSign size={18} />\r\n                                                Registrar Pago\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={() => handleReturnRental(rental.id)}\r\n                                                className=\"flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\r\n                                            >\r\n                                                Marcar como Devuelto\r\n                                            </button>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            ))\r\n                        )}\r\n\r\n                        {showPaymentModal && selectedRental && (\r\n                            <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n                                <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\r\n                                    <h2 className=\"text-xl font-bold mb-4\">Registrar Pago</h2>\r\n                                    <div className=\"mb-4\">\r\n                                        <p className=\"text-gray-600\">Cliente: <strong>{selectedRental.client.name}</strong></p>\r\n                                        <p className=\"text-gray-600\">Saldo pendiente: <strong className=\"text-red-600\">${selectedRental.remainingAmount.toFixed(2)}</strong></p>\r\n                                    </div>\r\n                                    <div className=\"space-y-4\">\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium mb-1\">Monto *</label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                step=\"0.01\"\r\n                                                value={paymentForm.amount}\r\n                                                onChange={(e) => setPaymentForm({...paymentForm, amount: e.target.value})}\r\n                                                className=\"w-full border rounded px-3 py-2\"\r\n                                                placeholder=\"0.00\"\r\n                                            />\r\n                                        </div>\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium mb-1\">Fecha</label>\r\n                                            <input\r\n                                                type=\"date\"\r\n                                                value={paymentForm.date}\r\n                                                onChange={(e) => setPaymentForm({...paymentForm, date: e.target.value})}\r\n                                                className=\"w-full border rounded px-3 py-2\"\r\n                                            />\r\n                                        </div>\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium mb-1\">Notas</label>\r\n                                            <textarea\r\n                                                value={paymentForm.notes}\r\n                                                onChange={(e) => setPaymentForm({...paymentForm, notes: e.target.value})}\r\n                                                className=\"w-full border rounded px-3 py-2\"\r\n                                                rows=\"3\"\r\n                                                placeholder=\"Notas adicionales...\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"flex gap-2 mt-6\">\r\n                                        <button\r\n                                            onClick={handleAddPayment}\r\n                                            className=\"flex-1 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700\"\r\n                                        >\r\n                                            Registrar\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => {\r\n                                                setShowPaymentModal(false);\r\n                                                setSelectedRental(null);\r\n                                                setPaymentForm({ amount: '', date: new Date().toISOString().split('T')[0], notes: '' });\r\n                                            }}\r\n                                            className=\"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300\"\r\n                                        >\r\n                                            Cancelar\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}