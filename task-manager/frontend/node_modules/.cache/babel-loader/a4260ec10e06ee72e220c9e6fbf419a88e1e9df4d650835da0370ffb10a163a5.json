{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{TrendingUp,Users,DollarSign,CheckCircle,Clock,Package,AlertCircle,Calendar,ArrowRight,Activity,Key,Archive}from'lucide-react';import'./Home.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL='http://localhost:3001/api';function Home(_ref){let{switchToTab}=_ref;const[taskStats,setTaskStats]=useState({total:0,byStatus:{},revenue:0,pendingPayments:0,overdueTasks:0,weekTasks:0});const[tasks,setTasks]=useState([]);const[rentalStats,setRentalStats]=useState({total:0,active:0,revenue:0,nextReturns:0});const[recentActivities,setRecentActivities]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchDashboardData();const interval=setInterval(fetchDashboardData,60000);// Actualizar cada minuto\nreturn()=>clearInterval(interval);},[]);// Fragmento corregido de Home.jsx - Líneas 85-105 aproximadamente\n// Reemplazar la sección de fetchDashboardData con este código:\nconst fetchDashboardData=async()=>{try{// Fetch tareas\nconst tasksResponse=await axios.get(\"\".concat(API_URL,\"/tasks\"));const tasks=tasksResponse.data;setTasks(tasks);// Calcular estadísticas de tareas\nconst stats={total:tasks.length,overdueTasks:0,weekTasks:0,pendingPayments:0,revenue:0,byStatus:{}};const today=new Date();const weekFromNow=new Date(today);weekFromNow.setDate(today.getDate()+7);const statusCounts={};tasks.forEach(task=>{// Contar por estado\nstatusCounts[task.status]=(statusCounts[task.status]||0)+1;// Calcular ingresos\nstats.revenue+=parseFloat(task.price||0);// Calcular pagos pendientes\nconst pending=parseFloat(task.price||0)-parseFloat(task.total_advance_payment||0);if(pending>0){stats.pendingPayments+=pending;}// Tareas vencidas\nif(task.due_date){const dueDate=new Date(task.due_date);if(dueDate<today&&task.status!=='entregado'&&task.status!=='terminado'){stats.overdueTasks++;}// Tareas de esta semana\nif(dueDate>=today&&dueDate<=weekFromNow){stats.weekTasks++;}}});stats.byStatus=statusCounts;setTaskStats(stats);// FIX: Manejo correcto del endpoint de estadísticas de alquileres\ntry{const rentalsResponse=await axios.get(\"\".concat(API_URL,\"/rentals/stats\"));setRentalStats(rentalsResponse.data);}catch(error){// Si el endpoint no existe o hay error, usar valores por defecto\nconsole.log('Rentals stats endpoint not available, using defaults');setRentalStats({active:0,total:0,overdue:0});}// Generar actividades recientes\ngenerateRecentActivities(tasks);}catch(error){console.error('Error fetching dashboard data:',error);// Establecer valores por defecto en caso de error\nsetTaskStats({total:0,overdueTasks:0,weekTasks:0,pendingPayments:0,revenue:0,byStatus:{}});setRentalStats({active:0,total:0,overdue:0});}finally{setLoading(false);}};const generateRecentActivities=tasks=>{const activities=[];// Ordenar tareas por fecha de actualización\nconst sortedTasks=[...tasks].sort((a,b)=>new Date(b.updated_at)-new Date(a.updated_at));// Tomar las 5 más recientes\nsortedTasks.slice(0,5).forEach(task=>{activities.push({id:task.id,type:'task',title:task.title,description:\"\".concat(task.client_name,\" - \").concat(getStatusLabel(task.status)),time:formatTimeAgo(new Date(task.updated_at)),icon:getActivityIcon(task.status),color:getStatusColor(task.status)});});setRecentActivities(activities);};const getStatusLabel=status=>{const labels={cotizacion:'Cotización',en_proceso:'En Proceso',terminado:'Terminado',entregado:'Entregado'};return labels[status]||status;};const getStatusColor=status=>{const colors={cotizacion:'#f59e0b',en_proceso:'#3b82f6',terminado:'#10b981',entregado:'#8b5cf6'};return colors[status]||'#6b7280';};const getActivityIcon=status=>{const icons={cotizacion:AlertCircle,en_proceso:Clock,terminado:CheckCircle,entregado:Package};return icons[status]||Activity;};const formatTimeAgo=date=>{const seconds=Math.floor((new Date()-date)/1000);const intervals={año:31536000,mes:2592000,semana:604800,día:86400,hora:3600,minuto:60};for(const[unit,secondsInUnit]of Object.entries(intervals)){const interval=Math.floor(seconds/secondsInUnit);if(interval>=1){return\"hace \".concat(interval,\" \").concat(unit).concat(interval>1?'s':'');}}return'hace un momento';};const formatCurrency=amount=>{return new Intl.NumberFormat('es-EC',{style:'currency',currency:'USD'}).format(amount);};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"home-loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Cargando dashboard...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"home-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-section\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\xA1Bienvenido al Sistema de Gesti\\xF3n!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Aqu\\xED tienes un resumen de tu actividad actual\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"date-section\",children:[/*#__PURE__*/_jsx(Calendar,{size:20}),/*#__PURE__*/_jsx(\"span\",{children:new Date().toLocaleDateString('es-EC',{weekday:'long',year:'numeric',month:'long',day:'numeric'})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card tasks-total\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(CheckCircle,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total Tareas\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-value\",children:taskStats.total}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-detail\",children:taskStats.weekTasks>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"badge warning\",children:[taskStats.weekTasks,\" esta semana\"]})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"stat-action\",onClick:()=>switchToTab('tasks'),children:/*#__PURE__*/_jsx(ArrowRight,{size:20})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card revenue\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(DollarSign,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Ingresos Totales\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-value\",children:formatCurrency(taskStats.revenue)}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-detail\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"badge success\",children:[\"Por cobrar: \",formatCurrency(taskStats.pendingPayments)]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card urgent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(AlertCircle,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Tareas Urgentes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-value\",children:taskStats.overdueTasks}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-detail\",children:taskStats.overdueTasks>0?/*#__PURE__*/_jsx(\"span\",{className:\"badge danger\",children:\"Requieren atenci\\xF3n\"}):/*#__PURE__*/_jsx(\"span\",{className:\"badge success\",children:\"Todo al d\\xEDa\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card rentals\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(Key,{size:24})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Alquileres Activos\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-value\",children:rentalStats.active||0}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-detail\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"badge info\",children:[\"Total: \",rentalStats.total||0]})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"stat-action\",onClick:()=>switchToTab('rental'),children:/*#__PURE__*/_jsx(ArrowRight,{size:20})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content-card task-status-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Estado de Tareas\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"view-all-btn\",onClick:()=>switchToTab('tasks'),children:[\"Ver todas\",/*#__PURE__*/_jsx(ArrowRight,{size:16})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"status-grid\",children:Object.entries(taskStats.byStatus).map(_ref2=>{let[status,count]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"status-item \".concat(status),style:{'--status-color':getStatusColor(status)},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"status-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"status-label\",children:getStatusLabel(status)}),/*#__PURE__*/_jsx(\"span\",{className:\"status-count\",children:count})]}),/*#__PURE__*/_jsx(\"div\",{className:\"status-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"status-fill\",style:{width:\"\".concat(count/taskStats.total*100,\"%\"),background:getStatusColor(status)}})}),/*#__PURE__*/_jsx(\"span\",{className:\"status-percentage\",children:taskStats.total>0?\"\".concat(Math.round(count/taskStats.total*100),\"%\"):'0%'})]},status);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-card activities-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Actividad Reciente\"}),/*#__PURE__*/_jsx(Activity,{size:20})]}),/*#__PURE__*/_jsx(\"div\",{className:\"activities-list\",children:recentActivities.length>0?recentActivities.map(activity=>{const Icon=activity.icon;return/*#__PURE__*/_jsxs(\"div\",{className:\"activity-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"activity-icon\",style:{background:\"\".concat(activity.color,\"20\"),color:activity.color},children:/*#__PURE__*/_jsx(Icon,{size:16})}),/*#__PURE__*/_jsxs(\"div\",{className:\"activity-content\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"activity-title\",children:activity.title}),/*#__PURE__*/_jsx(\"p\",{className:\"activity-description\",children:activity.description})]}),/*#__PURE__*/_jsx(\"span\",{className:\"activity-time\",children:activity.time})]},activity.id);}):/*#__PURE__*/_jsxs(\"div\",{className:\"no-activities\",children:[/*#__PURE__*/_jsx(Archive,{size:40}),/*#__PURE__*/_jsx(\"p\",{children:\"No hay actividades recientes\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-card quick-access-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Acceso R\\xE1pido\"}),/*#__PURE__*/_jsx(TrendingUp,{size:20})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quick-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-btn tasks\",onClick:()=>switchToTab('tasks'),children:[/*#__PURE__*/_jsx(CheckCircle,{size:32}),/*#__PURE__*/_jsx(\"span\",{children:\"Nueva Tarea\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-btn rental\",onClick:()=>switchToTab('rental'),children:[/*#__PURE__*/_jsx(Key,{size:32}),/*#__PURE__*/_jsx(\"span\",{children:\"Nuevo Alquiler\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-btn calendar\",onClick:()=>switchToTab('tasks'),children:[/*#__PURE__*/_jsx(Calendar,{size:32}),/*#__PURE__*/_jsx(\"span\",{children:\"Ver Calendario\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"quick-action-btn reports\",onClick:()=>alert('Reportes en desarrollo'),children:[/*#__PURE__*/_jsx(Activity,{size:32}),/*#__PURE__*/_jsx(\"span\",{children:\"Reportes\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"month-summary\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Resumen del Mes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(Users,{size:20}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"summary-label\",children:\"Clientes Activos\"}),/*#__PURE__*/_jsx(\"p\",{className:\"summary-value\",children:new Set(recentActivities.map(a=>{var _a$description;return(_a$description=a.description)===null||_a$description===void 0?void 0:_a$description.split(' - ')[0];})).size})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(TrendingUp,{size:20}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"summary-label\",children:\"Tasa de Completado\"}),/*#__PURE__*/_jsx(\"p\",{className:\"summary-value\",children:taskStats.total>0?\"\".concat(Math.round(((taskStats.byStatus.terminado||0)+(taskStats.byStatus.entregado||0))/taskStats.total*100),\"%\"):'0%'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(Clock,{size:20}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"summary-label\",children:\"En Proceso\"}),/*#__PURE__*/_jsx(\"p\",{className:\"summary-value\",children:taskStats.byStatus.en_proceso||0})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(DollarSign,{size:20}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"summary-label\",children:\"Proyecci\\xF3n Mensual\"}),/*#__PURE__*/_jsx(\"p\",{className:\"summary-value\",children:formatCurrency(taskStats.revenue*1.2)})]})]})]})]})]});}export default Home;","map":{"version":3,"names":["React","useState","useEffect","axios","TrendingUp","Users","DollarSign","CheckCircle","Clock","Package","AlertCircle","Calendar","ArrowRight","Activity","Key","Archive","jsx","_jsx","jsxs","_jsxs","API_URL","Home","_ref","switchToTab","taskStats","setTaskStats","total","byStatus","revenue","pendingPayments","overdueTasks","weekTasks","tasks","setTasks","rentalStats","setRentalStats","active","nextReturns","recentActivities","setRecentActivities","loading","setLoading","fetchDashboardData","interval","setInterval","clearInterval","tasksResponse","get","concat","data","stats","length","today","Date","weekFromNow","setDate","getDate","statusCounts","forEach","task","status","parseFloat","price","pending","total_advance_payment","due_date","dueDate","rentalsResponse","error","console","log","overdue","generateRecentActivities","activities","sortedTasks","sort","a","b","updated_at","slice","push","id","type","title","description","client_name","getStatusLabel","time","formatTimeAgo","icon","getActivityIcon","color","getStatusColor","labels","cotizacion","en_proceso","terminado","entregado","colors","icons","date","seconds","Math","floor","intervals","año","mes","semana","día","hora","minuto","unit","secondsInUnit","Object","entries","formatCurrency","amount","Intl","NumberFormat","style","currency","format","className","children","size","toLocaleDateString","weekday","year","month","day","onClick","map","_ref2","count","width","background","round","activity","Icon","alert","Set","_a$description","split"],"sources":["C:/Users/Silvia/WebstormProjects/TASK/task-manager/frontend/src/Home.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n    TrendingUp, Users, DollarSign, CheckCircle,\r\n    Clock, Package, AlertCircle, Calendar,\r\n    ArrowRight, Activity, Key, Archive\r\n} from 'lucide-react';\r\nimport './Home.css';\r\n\r\nconst API_URL = 'http://localhost:3001/api';\r\n\r\nfunction Home({ switchToTab }) {\r\n    const [taskStats, setTaskStats] = useState({\r\n        total: 0,\r\n        byStatus: {},\r\n        revenue: 0,\r\n        pendingPayments: 0,\r\n        overdueTasks: 0,\r\n        weekTasks: 0\r\n    });\r\n    const [tasks, setTasks] = useState([]);\r\n    const [rentalStats, setRentalStats] = useState({\r\n        total: 0,\r\n        active: 0,\r\n        revenue: 0,\r\n        nextReturns: 0\r\n    });\r\n\r\n    const [recentActivities, setRecentActivities] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        fetchDashboardData();\r\n        const interval = setInterval(fetchDashboardData, 60000); // Actualizar cada minuto\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    // Fragmento corregido de Home.jsx - Líneas 85-105 aproximadamente\r\n// Reemplazar la sección de fetchDashboardData con este código:\r\n\r\n    const fetchDashboardData = async () => {\r\n        try {\r\n            // Fetch tareas\r\n            const tasksResponse = await axios.get(`${API_URL}/tasks`);\r\n            const tasks = tasksResponse.data;\r\n            setTasks(tasks);\r\n\r\n            // Calcular estadísticas de tareas\r\n            const stats = {\r\n                total: tasks.length,\r\n                overdueTasks: 0,\r\n                weekTasks: 0,\r\n                pendingPayments: 0,\r\n                revenue: 0,\r\n                byStatus: {}\r\n            };\r\n\r\n            const today = new Date();\r\n            const weekFromNow = new Date(today);\r\n            weekFromNow.setDate(today.getDate() + 7);\r\n\r\n            const statusCounts = {};\r\n\r\n            tasks.forEach(task => {\r\n                // Contar por estado\r\n                statusCounts[task.status] = (statusCounts[task.status] || 0) + 1;\r\n\r\n                // Calcular ingresos\r\n                stats.revenue += parseFloat(task.price || 0);\r\n\r\n                // Calcular pagos pendientes\r\n                const pending = parseFloat(task.price || 0) - parseFloat(task.total_advance_payment || 0);\r\n                if (pending > 0) {\r\n                    stats.pendingPayments += pending;\r\n                }\r\n\r\n                // Tareas vencidas\r\n                if (task.due_date) {\r\n                    const dueDate = new Date(task.due_date);\r\n                    if (dueDate < today && task.status !== 'entregado' && task.status !== 'terminado') {\r\n                        stats.overdueTasks++;\r\n                    }\r\n                    // Tareas de esta semana\r\n                    if (dueDate >= today && dueDate <= weekFromNow) {\r\n                        stats.weekTasks++;\r\n                    }\r\n                }\r\n            });\r\n\r\n            stats.byStatus = statusCounts;\r\n            setTaskStats(stats);\r\n\r\n            // FIX: Manejo correcto del endpoint de estadísticas de alquileres\r\n            try {\r\n                const rentalsResponse = await axios.get(`${API_URL}/rentals/stats`);\r\n                setRentalStats(rentalsResponse.data);\r\n            } catch (error) {\r\n                // Si el endpoint no existe o hay error, usar valores por defecto\r\n                console.log('Rentals stats endpoint not available, using defaults');\r\n                setRentalStats({\r\n                    active: 0,\r\n                    total: 0,\r\n                    overdue: 0\r\n                });\r\n            }\r\n\r\n            // Generar actividades recientes\r\n            generateRecentActivities(tasks);\r\n\r\n        } catch (error) {\r\n            console.error('Error fetching dashboard data:', error);\r\n            // Establecer valores por defecto en caso de error\r\n            setTaskStats({\r\n                total: 0,\r\n                overdueTasks: 0,\r\n                weekTasks: 0,\r\n                pendingPayments: 0,\r\n                revenue: 0,\r\n                byStatus: {}\r\n            });\r\n            setRentalStats({\r\n                active: 0,\r\n                total: 0,\r\n                overdue: 0\r\n            });\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const generateRecentActivities = (tasks) => {\r\n        const activities = [];\r\n\r\n        // Ordenar tareas por fecha de actualización\r\n        const sortedTasks = [...tasks].sort((a, b) =>\r\n            new Date(b.updated_at) - new Date(a.updated_at)\r\n        );\r\n\r\n        // Tomar las 5 más recientes\r\n        sortedTasks.slice(0, 5).forEach(task => {\r\n            activities.push({\r\n                id: task.id,\r\n                type: 'task',\r\n                title: task.title,\r\n                description: `${task.client_name} - ${getStatusLabel(task.status)}`,\r\n                time: formatTimeAgo(new Date(task.updated_at)),\r\n                icon: getActivityIcon(task.status),\r\n                color: getStatusColor(task.status)\r\n            });\r\n        });\r\n\r\n        setRecentActivities(activities);\r\n    };\r\n\r\n    const getStatusLabel = (status) => {\r\n        const labels = {\r\n            cotizacion: 'Cotización',\r\n            en_proceso: 'En Proceso',\r\n            terminado: 'Terminado',\r\n            entregado: 'Entregado'\r\n        };\r\n        return labels[status] || status;\r\n    };\r\n\r\n    const getStatusColor = (status) => {\r\n        const colors = {\r\n            cotizacion: '#f59e0b',\r\n            en_proceso: '#3b82f6',\r\n            terminado: '#10b981',\r\n            entregado: '#8b5cf6'\r\n        };\r\n        return colors[status] || '#6b7280';\r\n    };\r\n\r\n    const getActivityIcon = (status) => {\r\n        const icons = {\r\n            cotizacion: AlertCircle,\r\n            en_proceso: Clock,\r\n            terminado: CheckCircle,\r\n            entregado: Package\r\n        };\r\n        return icons[status] || Activity;\r\n    };\r\n\r\n    const formatTimeAgo = (date) => {\r\n        const seconds = Math.floor((new Date() - date) / 1000);\r\n        const intervals = {\r\n            año: 31536000,\r\n            mes: 2592000,\r\n            semana: 604800,\r\n            día: 86400,\r\n            hora: 3600,\r\n            minuto: 60\r\n        };\r\n\r\n        for (const [unit, secondsInUnit] of Object.entries(intervals)) {\r\n            const interval = Math.floor(seconds / secondsInUnit);\r\n            if (interval >= 1) {\r\n                return `hace ${interval} ${unit}${interval > 1 ? 's' : ''}`;\r\n            }\r\n        }\r\n        return 'hace un momento';\r\n    };\r\n\r\n    const formatCurrency = (amount) => {\r\n        return new Intl.NumberFormat('es-EC', {\r\n            style: 'currency',\r\n            currency: 'USD'\r\n        }).format(amount);\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"home-loading\">\r\n                <div className=\"loading-spinner\"></div>\r\n                <p>Cargando dashboard...</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"home-container\">\r\n            {/* Header del Dashboard */}\r\n            <div className=\"dashboard-header\">\r\n                <div className=\"welcome-section\">\r\n                    <h1>¡Bienvenido al Sistema de Gestión!</h1>\r\n                    <p>Aquí tienes un resumen de tu actividad actual</p>\r\n                </div>\r\n                <div className=\"date-section\">\r\n                    <Calendar size={20} />\r\n                    <span>{new Date().toLocaleDateString('es-EC', {\r\n                        weekday: 'long',\r\n                        year: 'numeric',\r\n                        month: 'long',\r\n                        day: 'numeric'\r\n                    })}</span>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Estadísticas Principales */}\r\n            <div className=\"stats-grid\">\r\n                {/* Tarjetas de Tareas */}\r\n                <div className=\"stat-card tasks-total\">\r\n                    <div className=\"stat-icon\">\r\n                        <CheckCircle size={24} />\r\n                    </div>\r\n                    <div className=\"stat-content\">\r\n                        <h3>Total Tareas</h3>\r\n                        <p className=\"stat-value\">{taskStats.total}</p>\r\n                        <div className=\"stat-detail\">\r\n                            {taskStats.weekTasks > 0 && (\r\n                                <span className=\"badge warning\">\r\n                                    {taskStats.weekTasks} esta semana\r\n                                </span>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                    <button\r\n                        className=\"stat-action\"\r\n                        onClick={() => switchToTab('tasks')}\r\n                    >\r\n                        <ArrowRight size={20} />\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"stat-card revenue\">\r\n                    <div className=\"stat-icon\">\r\n                        <DollarSign size={24} />\r\n                    </div>\r\n                    <div className=\"stat-content\">\r\n                        <h3>Ingresos Totales</h3>\r\n                        <p className=\"stat-value\">{formatCurrency(taskStats.revenue)}</p>\r\n                        <div className=\"stat-detail\">\r\n                            <span className=\"badge success\">\r\n                                Por cobrar: {formatCurrency(taskStats.pendingPayments)}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"stat-card urgent\">\r\n                    <div className=\"stat-icon\">\r\n                        <AlertCircle size={24} />\r\n                    </div>\r\n                    <div className=\"stat-content\">\r\n                        <h3>Tareas Urgentes</h3>\r\n                        <p className=\"stat-value\">{taskStats.overdueTasks}</p>\r\n                        <div className=\"stat-detail\">\r\n                            {taskStats.overdueTasks > 0 ? (\r\n                                <span className=\"badge danger\">Requieren atención</span>\r\n                            ) : (\r\n                                <span className=\"badge success\">Todo al día</span>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"stat-card rentals\">\r\n                    <div className=\"stat-icon\">\r\n                        <Key size={24} />\r\n                    </div>\r\n                    <div className=\"stat-content\">\r\n                        <h3>Alquileres Activos</h3>\r\n                        <p className=\"stat-value\">{rentalStats.active || 0}</p>\r\n                        <div className=\"stat-detail\">\r\n                            <span className=\"badge info\">\r\n                                Total: {rentalStats.total || 0}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                    <button\r\n                        className=\"stat-action\"\r\n                        onClick={() => switchToTab('rental')}\r\n                    >\r\n                        <ArrowRight size={20} />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Sección de contenido principal */}\r\n            <div className=\"dashboard-content\">\r\n                {/* Estado de Tareas */}\r\n                <div className=\"content-card task-status-card\">\r\n                    <div className=\"card-header\">\r\n                        <h2>Estado de Tareas</h2>\r\n                        <button\r\n                            className=\"view-all-btn\"\r\n                            onClick={() => switchToTab('tasks')}\r\n                        >\r\n                            Ver todas\r\n                            <ArrowRight size={16} />\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"status-grid\">\r\n                        {Object.entries(taskStats.byStatus).map(([status, count]) => (\r\n                            <div\r\n                                key={status}\r\n                                className={`status-item ${status}`}\r\n                                style={{ '--status-color': getStatusColor(status) }}\r\n                            >\r\n                                <div className=\"status-header\">\r\n                                    <span className=\"status-label\">{getStatusLabel(status)}</span>\r\n                                    <span className=\"status-count\">{count}</span>\r\n                                </div>\r\n                                <div className=\"status-bar\">\r\n                                    <div\r\n                                        className=\"status-fill\"\r\n                                        style={{\r\n                                            width: `${(count / taskStats.total) * 100}%`,\r\n                                            background: getStatusColor(status)\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                                <span className=\"status-percentage\">\r\n                                    {taskStats.total > 0 ?\r\n                                        `${Math.round((count / taskStats.total) * 100)}%` :\r\n                                        '0%'\r\n                                    }\r\n                                </span>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Actividades Recientes */}\r\n                <div className=\"content-card activities-card\">\r\n                    <div className=\"card-header\">\r\n                        <h2>Actividad Reciente</h2>\r\n                        <Activity size={20} />\r\n                    </div>\r\n                    <div className=\"activities-list\">\r\n                        {recentActivities.length > 0 ? (\r\n                            recentActivities.map((activity) => {\r\n                                const Icon = activity.icon;\r\n                                return (\r\n                                    <div key={activity.id} className=\"activity-item\">\r\n                                        <div\r\n                                            className=\"activity-icon\"\r\n                                            style={{ background: `${activity.color}20`, color: activity.color }}\r\n                                        >\r\n                                            <Icon size={16} />\r\n                                        </div>\r\n                                        <div className=\"activity-content\">\r\n                                            <p className=\"activity-title\">{activity.title}</p>\r\n                                            <p className=\"activity-description\">{activity.description}</p>\r\n                                        </div>\r\n                                        <span className=\"activity-time\">{activity.time}</span>\r\n                                    </div>\r\n                                );\r\n                            })\r\n                        ) : (\r\n                            <div className=\"no-activities\">\r\n                                <Archive size={40} />\r\n                                <p>No hay actividades recientes</p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Panel de Acceso Rápido */}\r\n                <div className=\"content-card quick-access-card\">\r\n                    <div className=\"card-header\">\r\n                        <h2>Acceso Rápido</h2>\r\n                        <TrendingUp size={20} />\r\n                    </div>\r\n                    <div className=\"quick-actions\">\r\n                        <button\r\n                            className=\"quick-action-btn tasks\"\r\n                            onClick={() => switchToTab('tasks')}\r\n                        >\r\n                            <CheckCircle size={32} />\r\n                            <span>Nueva Tarea</span>\r\n                        </button>\r\n                        <button\r\n                            className=\"quick-action-btn rental\"\r\n                            onClick={() => switchToTab('rental')}\r\n                        >\r\n                            <Key size={32} />\r\n                            <span>Nuevo Alquiler</span>\r\n                        </button>\r\n                        <button\r\n                            className=\"quick-action-btn calendar\"\r\n                            onClick={() => switchToTab('tasks')}\r\n                        >\r\n                            <Calendar size={32} />\r\n                            <span>Ver Calendario</span>\r\n                        </button>\r\n                        <button\r\n                            className=\"quick-action-btn reports\"\r\n                            onClick={() => alert('Reportes en desarrollo')}\r\n                        >\r\n                            <Activity size={32} />\r\n                            <span>Reportes</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Resumen del Mes */}\r\n            <div className=\"month-summary\">\r\n                <h2>Resumen del Mes</h2>\r\n                <div className=\"summary-grid\">\r\n                    <div className=\"summary-item\">\r\n                        <Users size={20} />\r\n                        <div>\r\n                            <p className=\"summary-label\">Clientes Activos</p>\r\n                            <p className=\"summary-value\">\r\n                                {new Set(recentActivities.map(a => a.description?.split(' - ')[0])).size}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"summary-item\">\r\n                        <TrendingUp size={20} />\r\n                        <div>\r\n                            <p className=\"summary-label\">Tasa de Completado</p>\r\n                            <p className=\"summary-value\">\r\n                                {taskStats.total > 0 ?\r\n                                    `${Math.round(((taskStats.byStatus.terminado || 0) + (taskStats.byStatus.entregado || 0)) / taskStats.total * 100)}%` :\r\n                                    '0%'\r\n                                }\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"summary-item\">\r\n                        <Clock size={20} />\r\n                        <div>\r\n                            <p className=\"summary-label\">En Proceso</p>\r\n                            <p className=\"summary-value\">{taskStats.byStatus.en_proceso || 0}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"summary-item\">\r\n                        <DollarSign size={20} />\r\n                        <div>\r\n                            <p className=\"summary-label\">Proyección Mensual</p>\r\n                            <p className=\"summary-value\">\r\n                                {formatCurrency(taskStats.revenue * 1.2)}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}