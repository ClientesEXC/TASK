{"ast":null,"code":"import _objectSpread from\"C:/Users/Silvia/WebstormProjects/TASK/task-manager/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Calculator,FileText,Package,Layers,CircleDollarSign,Settings,Lock,Unlock}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ADMIN_PIN=typeof import.meta!=='undefined'&&import.meta.env&&import.meta.env.VITE_COTIZADOR_PIN||typeof process!=='undefined'&&process.env&&process.env.REACT_APP_COTIZADOR_PIN||'1234';const STORAGE_KEY='COTIZADOR_PRECIOS_V1';const DEFAULT_PRECIOS={// Diseñado (por m²)\ndisenado:{PVC:3,VINIL:1.25,LONA:0.98,ACRILICO:14,MDF:6},// Solo corte (por m²)\nsoloCorte:{PVC:7,VINIL:10,ACRILICO:{'3mm':30,'6mm':55},MDF:{'3mm':12,'6mm':18}},// Diseño (coste fijo)\ndiseno:{FACIL:3,MEDIO:5,DIFICIL:8},// Extras (usados en cálculos)\nojal:0.75};const CotizadorMateriales=()=>{var _dimensiones$material3,_dimensiones$material4;// ======= Estado de precios (editable vía modal) =======\nconst[precios,setPrecios]=useState(DEFAULT_PRECIOS);useEffect(()=>{const saved=localStorage.getItem(STORAGE_KEY);if(saved){try{const parsed=JSON.parse(saved);setPrecios(_objectSpread(_objectSpread({},DEFAULT_PRECIOS),parsed));// merge por si agregas nuevos campos en el futuro\n}catch(e){// si falla, ignora y usa defaults\n}}},[]);// ======= Estados principales del cotizador =======\nconst[tipoServicio,setTipoServicio]=useState('');const[materialesSeleccionados,setMaterialesSeleccionados]=useState([]);const[dimensiones,setDimensiones]=useState({});const[incluirImpresion,setIncluirImpresion]=useState(false);const[conDiseno,setConDiseno]=useState(false);const[nivelDiseno,setNivelDiseno]=useState('');const[ojales,setOjales]=useState({incluir:false,cantidad:0});const[conCorteVinil,setConCorteVinil]=useState(false);const[conBasePVC,setConBasePVC]=useState(false);const[materialCorte,setMaterialCorte]=useState('');const[espesorCorte,setEspesorCorte]=useState('3mm');const[cotizacionFinal,setCotizacionFinal]=useState(null);// ======= Admin modal (protegido con PIN) =======\nconst[showAdmin,setShowAdmin]=useState(false);const[isUnlocked,setIsUnlocked]=useState(false);const[pinInput,setPinInput]=useState('');const[tempPrecios,setTempPrecios]=useState(precios);useEffect(()=>{if(showAdmin){setTempPrecios(precios);setPinInput('');setIsUnlocked(false);}},[showAdmin]);// al abrir modal, refresca\nconst handleUnlock=()=>{if(String(pinInput)===String(ADMIN_PIN)){setIsUnlocked(true);}else{window.alert('PIN incorrecto');}};const handleSavePrecios=()=>{setPrecios(tempPrecios);localStorage.setItem(STORAGE_KEY,JSON.stringify(tempPrecios));setShowAdmin(false);setIsUnlocked(false);setPinInput('');};const handleResetPrecios=()=>{if(window.confirm('¿Restaurar valores por defecto?')){setTempPrecios(DEFAULT_PRECIOS);localStorage.removeItem(STORAGE_KEY);}};// ======= Lógica de negocio existente =======\nconst preciosDiseno=precios.diseno;const materialesConEspesor=['ACRILICO','MDF'];const combinacionesPermitidas=[['PVC','VINIL'],['VINIL','PVC'],['VINIL','ACRILICO'],['ACRILICO','VINIL'],['VINIL','MDF'],['MDF','VINIL']];const esCombinacionValida=materiales=>{if(materiales.length===1)return true;if(materiales.length!==2)return false;return combinacionesPermitidas.some(combo=>combo[0]===materiales[0]&&combo[1]===materiales[1]||combo[0]===materiales[1]&&combo[1]===materiales[0]);};const handleMaterialChange=function(material){let espesor=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(tipoServicio==='SOLO_CORTE'){setMaterialCorte(material);if(materialesConEspesor.includes(material))setEspesorCorte(espesor||'3mm');return;}if(material==='LONA'){setMaterialesSeleccionados(['LONA']);setDimensiones({LONA:{ancho:'',alto:'',espesor:null}});}else{const nueva=[...materialesSeleccionados];const idx=nueva.findIndex(m=>m===material);if(idx>-1){nueva.splice(idx,1);const nuevasDim=_objectSpread({},dimensiones);delete nuevasDim[material];setDimensiones(nuevasDim);}else{if(nueva.length<2&&!nueva.includes('LONA')){nueva.push(material);setDimensiones(_objectSpread(_objectSpread({},dimensiones),{},{[material]:{ancho:'',alto:'',espesor:espesor}}));}}if(esCombinacionValida(nueva))setMaterialesSeleccionados(nueva);}};const handleDimensionChange=(material,tipo,valor)=>{setDimensiones(_objectSpread(_objectSpread({},dimensiones),{},{[material]:_objectSpread(_objectSpread({},dimensiones[material]),{},{[tipo]:valor})}));};const calcularCostoCorteVinil=()=>{if(!dimensiones.VINIL)return 0;const area=parseFloat(dimensiones.VINIL.ancho||0)*parseFloat(dimensiones.VINIL.alto||0);if(area<0.75)return 2;if(area<=1.5)return 3;return 4;};const calcularCotizacion=()=>{let costoTotal=0;let detalles=[];if(tipoServicio==='SOLO_CORTE'){var _dimensiones$material,_dimensiones$material2;const ancho=parseFloat(((_dimensiones$material=dimensiones[materialCorte])===null||_dimensiones$material===void 0?void 0:_dimensiones$material.ancho)||0);const alto=parseFloat(((_dimensiones$material2=dimensiones[materialCorte])===null||_dimensiones$material2===void 0?void 0:_dimensiones$material2.alto)||0);const area=ancho*alto;let precioPorMetro=0;if(materialesConEspesor.includes(materialCorte)){precioPorMetro=precios.soloCorte[materialCorte][espesorCorte];}else{precioPorMetro=precios.soloCorte[materialCorte];}const costoMaterial=area*precioPorMetro;costoTotal=costoMaterial;detalles.push({concepto:\"\".concat(materialCorte,\" \").concat(materialesConEspesor.includes(materialCorte)?espesorCorte:'',\" - Solo Corte\"),area:area.toFixed(2),precioPorMetro,costo:costoMaterial.toFixed(2)});}else{// ===== Diseñado =====\n// Materiales\nmaterialesSeleccionados.forEach(material=>{const dim=dimensiones[material];if(dim&&dim.ancho&&dim.alto){const area=parseFloat(dim.ancho)*parseFloat(dim.alto);const precio=precios.disenado[material];const costoMaterial=area*precio;costoTotal+=costoMaterial;detalles.push({concepto:\"\".concat(material).concat(dim.espesor?' '+dim.espesor:''),area:area.toFixed(2),precioPorMetro:precio,costo:costoMaterial.toFixed(2)});}});// Diseño\nif(conDiseno&&nivelDiseno){const costoDiseno=preciosDiseno[nivelDiseno];costoTotal+=costoDiseno;detalles.push({concepto:\"Dise\\xF1o \".concat(nivelDiseno),costo:costoDiseno.toFixed(2)});}// Ojales (solo Lona)\nif(materialesSeleccionados.includes('LONA')&&ojales.incluir&&ojales.cantidad>0){var _precios$ojal;const costoOjales=ojales.cantidad*((_precios$ojal=precios.ojal)!==null&&_precios$ojal!==void 0?_precios$ojal:0.75);costoTotal+=costoOjales;detalles.push({concepto:\"Ojales (\".concat(ojales.cantidad,\" unidades)\"),costo:costoOjales.toFixed(2)});}// Corte para vinil único\nif(materialesSeleccionados.length===1&&materialesSeleccionados[0]==='VINIL'&&conCorteVinil){const costoCorte=calcularCostoCorteVinil();costoTotal+=costoCorte;detalles.push({concepto:'Corte de Vinil',costo:costoCorte.toFixed(2)});}// Base PVC para combinación PVC + VINIL\nconst comboPVCVinil=materialesSeleccionados.includes('PVC')&&materialesSeleccionados.includes('VINIL');if(comboPVCVinil&&conBasePVC){var _dimensiones$VINIL,_dimensiones$VINIL2;const areaVinil=parseFloat(((_dimensiones$VINIL=dimensiones['VINIL'])===null||_dimensiones$VINIL===void 0?void 0:_dimensiones$VINIL.ancho)||0)*parseFloat(((_dimensiones$VINIL2=dimensiones['VINIL'])===null||_dimensiones$VINIL2===void 0?void 0:_dimensiones$VINIL2.alto)||0);const precioPVC=precios.disenado.PVC;const costoBase=areaVinil*precioPVC;costoTotal+=costoBase;detalles.push({concepto:'Base PVC',area:areaVinil.toFixed(2),precioPorMetro:precioPVC,costo:costoBase.toFixed(2)});}}setCotizacionFinal({total:costoTotal.toFixed(2),detalles,incluirImpresion});};const resetearFormulario=()=>{setTipoServicio('');setMaterialesSeleccionados([]);setDimensiones({});setIncluirImpresion(false);setConDiseno(false);setNivelDiseno('');setOjales({incluir:false,cantidad:0});setConCorteVinil(false);setConBasePVC(false);setMaterialCorte('');setEspesorCorte('3mm');setCotizacionFinal(null);};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-6xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-xl p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(Calculator,{className:\"text-indigo-600\",size:32}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-800\",children:\"Sistema Cotizador de Materiales\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAdmin(true),className:\"inline-flex items-center gap-2 px-4 py-2 rounded-lg border-2 border-indigo-500 text-indigo-600 hover:bg-indigo-50 font-semibold\",title:\"Modificar valores (PIN)\",children:[/*#__PURE__*/_jsx(Settings,{size:18}),\"Modificar valores\"]})]}),!tipoServicio&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-700 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Package,{className:\"text-indigo-500\"}),\"Seleccione el tipo de servicio\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setTipoServicio('SOLO_CORTE'),className:\"p-6 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all transform hover:scale-105 shadow-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-2\",children:\"Solo Corte\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm opacity-90\",children:\"Servicio de corte sin dise\\xF1o\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setTipoServicio('DISENADO'),className:\"p-6 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg hover:from-indigo-600 hover:to-purple-700 transition-all transform hover:scale-105 shadow-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-2\",children:\"Dise\\xF1ado\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm opacity-90\",children:\"Servicio completo con dise\\xF1o\"})]})]})]}),tipoServicio==='SOLO_CORTE'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-700 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Layers,{className:\"text-indigo-500\"}),\"Configuraci\\xF3n - Solo Corte\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-700 mb-4\",children:\"Seleccione el material:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:['PVC','ACRILICO','VINIL','MDF'].map(material=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleMaterialChange(material),className:\"w-full p-3 rounded-lg border-2 transition-all \".concat(materialCorte===material?'border-indigo-500 bg-indigo-50 text-indigo-700':'border-gray-300 hover:border-indigo-300'),children:material}),materialCorte===material&&materialesConEspesor.includes(material)&&/*#__PURE__*/_jsxs(\"select\",{value:espesorCorte,onChange:e=>setEspesorCorte(e.target.value),className:\"w-full p-2 border rounded-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"3mm\",children:\"3mm\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6mm\",children:\"6mm\"})]})]},material))})]}),materialCorte&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-700 mb-4\",children:\"Dimensiones del material:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-600 mb-2\",children:\"Ancho (metros)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:((_dimensiones$material3=dimensiones[materialCorte])===null||_dimensiones$material3===void 0?void 0:_dimensiones$material3.ancho)||'',onChange:e=>setDimensiones({[materialCorte]:_objectSpread(_objectSpread({},dimensiones[materialCorte]),{},{ancho:e.target.value})}),className:\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500\",placeholder:\"0.00\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-600 mb-2\",children:\"Alto (metros)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:((_dimensiones$material4=dimensiones[materialCorte])===null||_dimensiones$material4===void 0?void 0:_dimensiones$material4.alto)||'',onChange:e=>setDimensiones({[materialCorte]:_objectSpread(_objectSpread({},dimensiones[materialCorte]),{},{alto:e.target.value})}),className:\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500\",placeholder:\"0.00\"})]})]})]})]}),tipoServicio==='DISENADO'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-700 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Layers,{className:\"text-indigo-500\"}),\"Configuraci\\xF3n - Dise\\xF1ado\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-700 mb-4\",children:\"Seleccione los materiales (m\\xE1ximo 2, excepto Lona):\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-5 gap-4\",children:['PVC','ACRILICO','VINIL','LONA','MDF'].map(material=>{var _dimensiones$material5;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleMaterialChange(material,'3mm'),disabled:material==='LONA'&&materialesSeleccionados.length>0&&!materialesSeleccionados.includes('LONA')||material!=='LONA'&&materialesSeleccionados.includes('LONA')||materialesSeleccionados.length>=2&&!materialesSeleccionados.includes(material),className:\"w-full p-3 rounded-lg border-2 transition-all \".concat(materialesSeleccionados.includes(material)?'border-indigo-500 bg-indigo-50 text-indigo-700':'border-gray-300 hover:border-indigo-300 disabled:opacity-50 disabled:cursor-not-allowed'),children:material}),materialesSeleccionados.includes(material)&&materialesConEspesor.includes(material)&&/*#__PURE__*/_jsxs(\"select\",{value:((_dimensiones$material5=dimensiones[material])===null||_dimensiones$material5===void 0?void 0:_dimensiones$material5.espesor)||'3mm',onChange:e=>handleDimensionChange(material,'espesor',e.target.value),className:\"w-full p-2 border rounded-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"3mm\",children:\"3mm\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6mm\",children:\"6mm\"})]})]},material);})}),materialesSeleccionados.length===2&&/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 text-sm text-green-600\",children:[\"Combinaci\\xF3n v\\xE1lida: \",materialesSeleccionados.join(' + ')]})]}),materialesSeleccionados.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-6 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-700 mb-4\",children:\"Dimensiones de los materiales:\"}),materialesSeleccionados.map(material=>{var _dimensiones$material6,_dimensiones$material7,_dimensiones$material8;return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 p-4 bg-white rounded-lg\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-medium text-gray-700 mb-3\",children:[material,\" \",(_dimensiones$material6=dimensiones[material])!==null&&_dimensiones$material6!==void 0&&_dimensiones$material6.espesor?\"(\".concat(dimensiones[material].espesor,\")\"):'']}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-600 mb-2\",children:\"Ancho (metros)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:((_dimensiones$material7=dimensiones[material])===null||_dimensiones$material7===void 0?void 0:_dimensiones$material7.ancho)||'',onChange:e=>handleDimensionChange(material,'ancho',e.target.value),className:\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500\",placeholder:\"0.00\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-600 mb-2\",children:\"Alto (metros)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:((_dimensiones$material8=dimensiones[material])===null||_dimensiones$material8===void 0?void 0:_dimensiones$material8.alto)||'',onChange:e=>handleDimensionChange(material,'alto',e.target.value),className:\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500\",placeholder:\"0.00\"})]})]})]},material);})]}),materialesSeleccionados.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 p-6 rounded-lg\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:incluirImpresion,onChange:e=>setIncluirImpresion(e.target.checked),className:\"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"Incluir impresi\\xF3n\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-6 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-3 mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:conDiseno,onChange:e=>setConDiseno(e.target.checked),className:\"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"Incluir dise\\xF1o\"})]}),conDiseno&&/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-4 mt-4\",children:['FACIL','MEDIO','DIFICIL'].map(nivel=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setNivelDiseno(nivel),className:\"p-3 rounded-lg border-2 transition-all \".concat(nivelDiseno===nivel?'border-indigo-500 bg-indigo-50 text-indigo-700':'border-gray-300 hover:border-indigo-300'),children:[nivel,\" ($\",preciosDiseno[nivel],\")\"]},nivel))})]}),materialesSeleccionados.includes('LONA')&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-6 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-3 mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:ojales.incluir,onChange:e=>setOjales(_objectSpread(_objectSpread({},ojales),{},{incluir:e.target.checked})),className:\"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-gray-700\",children:[\"Incluir ojales ($\",precios.ojal,\" c/u)\"]})]}),ojales.incluir&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-600 mb-2\",children:\"Cantidad de ojales\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",value:ojales.cantidad,onChange:e=>setOjales(_objectSpread(_objectSpread({},ojales),{},{cantidad:parseInt(e.target.value)||0})),className:\"w-32 p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500\"})]})]}),materialesSeleccionados.length===1&&materialesSeleccionados[0]==='VINIL'&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 p-6 rounded-lg\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:conCorteVinil,onChange:e=>setConCorteVinil(e.target.checked),className:\"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"Con corte de vinil\"})]})}),materialesSeleccionados.includes('PVC')&&materialesSeleccionados.includes('VINIL')&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 p-6 rounded-lg\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:conBasePVC,onChange:e=>setConBasePVC(e.target.checked),className:\"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"Con base PVC\"})]})})]})]}),tipoServicio&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 mt-8\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:calcularCotizacion,className:\"flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-green-600 hover:to-green-700 transition-all transform hover:scale-105 shadow-lg flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(CircleDollarSign,{size:20}),\"Calcular Cotizaci\\xF3n\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:resetearFormulario,className:\"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-all\",children:\"Reiniciar\"})]}),cotizacionFinal&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-lg border-2 border-green-300\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FileText,{className:\"text-green-600\"}),\"Cotizaci\\xF3n Final\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[cotizacionFinal.detalles.map((detalle,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center py-2 border-b border-green-200\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:detalle.concepto}),detalle.area&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500 ml-2\",children:[\"(\",detalle.area,\" m\\xB2 \\xD7 $\",detalle.precioPorMetro,\"/m\\xB2)\"]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-gray-800\",children:[\"$\",detalle.costo]})]},index)),cotizacionFinal.incluirImpresion&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-blue-600 italic\",children:\"* Incluye impresi\\xF3n (precio puede variar)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-4 border-t-2 border-green-400\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl font-bold text-gray-800\",children:\"TOTAL:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl font-bold text-green-600\",children:[\"$\",cotizacionFinal.total]})]})})]})]}),showAdmin&&/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black/40\",onClick:()=>setShowAdmin(false)}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-white rounded-2xl shadow-2xl w-full max-w-3xl p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold text-gray-800 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Settings,{className:\"text-indigo-600\"}),\"Modificar valores\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAdmin(false),className:\"text-gray-500 hover:text-gray-700\",children:\"\\u2715\"})]}),!isUnlocked?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Ingresa el PIN para editar precios.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:pinInput,onChange:e=>setPinInput(e.target.value),placeholder:\"PIN\",className:\"flex-1 p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleUnlock,className:\"px-4 py-2 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 inline-flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Unlock,{size:18}),\"Desbloquear\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Lock,{size:12}),\" Usa VITE_COTIZADOR_PIN / REACT_APP_COTIZADOR_PIN (default 1234)\"]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6 max-h-[70vh] overflow-auto pr-2\",children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-800 mb-3\",children:\"Dise\\xF1ado \\u2014 precio por m\\xB2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-5 gap-3\",children:Object.keys(tempPrecios.disenado).map(mat=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-600\",children:mat}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:tempPrecios.disenado[mat],onChange:e=>setTempPrecios(p=>_objectSpread(_objectSpread({},p),{},{disenado:_objectSpread(_objectSpread({},p.disenado),{},{[mat]:parseFloat(e.target.value||0)})})),className:\"w-full p-2 border rounded-lg\"})]},mat))})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-800 mb-3\",children:\"Solo corte \\u2014 precio por m\\xB2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-600\",children:\"PVC\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:tempPrecios.soloCorte.PVC,onChange:e=>setTempPrecios(p=>_objectSpread(_objectSpread({},p),{},{soloCorte:_objectSpread(_objectSpread({},p.soloCorte),{},{PVC:parseFloat(e.target.value||0)})})),className:\"w-full p-2 border rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-600\",children:\"VINIL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:tempPrecios.soloCorte.VINIL,onChange:e=>setTempPrecios(p=>_objectSpread(_objectSpread({},p),{},{soloCorte:_objectSpread(_objectSpread({},p.soloCorte),{},{VINIL:parseFloat(e.target.value||0)})})),className:\"w-full p-2 border rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-600\",children:\"ACR\\xCDLICO 3 mm\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:tempPrecios.soloCorte.ACRILICO['3mm'],onChange:e=>setTempPrecios(p=>_objectSpread(_objectSpread({},p),{},{soloCorte:_objectSpread(_objectSpread({},p.soloCorte),{},{ACRILICO:_objectSpread(_objectSpread({},p.soloCorte.ACRILICO),{},{'3mm':parseFloat(e.target.value||0)})})})),className:\"w-full p-2 border rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-600\",children:\"ACR\\xCDLICO 6 mm\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:tempPrecios.soloCorte.ACRILICO['6mm'],onChange:e=>setTempPrecios(p=>_objectSpread(_objectSpread({},p),{},{soloCorte:_objectSpread(_objectSpread({},p.soloCorte),{},{ACRILICO:_objectSpread(_objectSpread({},p.soloCorte.ACRILICO),{},{'6mm':parseFloat(e.target.value||0)})})})),className:\"w-full p-2 border rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-600\",children:\"MDF 3 mm\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:tempPrecios.soloCorte.MDF['3mm'],onChange:e=>setTempPrecios(p=>_objectSpread(_objectSpread({},p),{},{soloCorte:_objectSpread(_objectSpread({},p.soloCorte),{},{MDF:_objectSpread(_objectSpread({},p.soloCorte.MDF),{},{'3mm':parseFloat(e.target.value||0)})})})),className:\"w-full p-2 border rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm text-gray-600\",children:\"MDF 6 mm\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",value:tempPrecios.soloCorte.MDF['6mm'],onChange:e=>setTempPrecios(p=>_objectSpread(_objectSpread({},p),{},{soloCorte:_objectSpread(_objectSpread({},p.soloCorte),{},{MDF:_objectSpread(_objectSpread({},p.soloCorte.MDF),{},{'6mm':parseFloat(e.target.value||0)})})})),className:\"w-full p-2 border rounded-lg\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleResetPrecios,className:\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200\",children:\"Restaurar por defecto\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAdmin(false),className:\"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSavePrecios,className:\"px-4 py-2 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700\",children:\"Guardar cambios\"})]})]})]})]})]})]})})});};export default CotizadorMateriales;","map":{"version":3,"names":["React","useState","useEffect","Calculator","FileText","Package","Layers","CircleDollarSign","Settings","Lock","Unlock","jsx","_jsx","jsxs","_jsxs","ADMIN_PIN","import","meta","env","VITE_COTIZADOR_PIN","process","REACT_APP_COTIZADOR_PIN","STORAGE_KEY","DEFAULT_PRECIOS","disenado","PVC","VINIL","LONA","ACRILICO","MDF","soloCorte","diseno","FACIL","MEDIO","DIFICIL","ojal","CotizadorMateriales","_dimensiones$material3","_dimensiones$material4","precios","setPrecios","saved","localStorage","getItem","parsed","JSON","parse","_objectSpread","e","tipoServicio","setTipoServicio","materialesSeleccionados","setMaterialesSeleccionados","dimensiones","setDimensiones","incluirImpresion","setIncluirImpresion","conDiseno","setConDiseno","nivelDiseno","setNivelDiseno","ojales","setOjales","incluir","cantidad","conCorteVinil","setConCorteVinil","conBasePVC","setConBasePVC","materialCorte","setMaterialCorte","espesorCorte","setEspesorCorte","cotizacionFinal","setCotizacionFinal","showAdmin","setShowAdmin","isUnlocked","setIsUnlocked","pinInput","setPinInput","tempPrecios","setTempPrecios","handleUnlock","String","window","alert","handleSavePrecios","setItem","stringify","handleResetPrecios","confirm","removeItem","preciosDiseno","materialesConEspesor","combinacionesPermitidas","esCombinacionValida","materiales","length","some","combo","handleMaterialChange","material","espesor","arguments","undefined","includes","ancho","alto","nueva","idx","findIndex","m","splice","nuevasDim","push","handleDimensionChange","tipo","valor","calcularCostoCorteVinil","area","parseFloat","calcularCotizacion","costoTotal","detalles","_dimensiones$material","_dimensiones$material2","precioPorMetro","costoMaterial","concepto","concat","toFixed","costo","forEach","dim","precio","costoDiseno","_precios$ojal","costoOjales","costoCorte","comboPVCVinil","_dimensiones$VINIL","_dimensiones$VINIL2","areaVinil","precioPVC","costoBase","total","resetearFormulario","className","children","size","onClick","title","map","value","onChange","target","type","step","placeholder","_dimensiones$material5","disabled","join","_dimensiones$material6","_dimensiones$material7","_dimensiones$material8","checked","nivel","min","parseInt","detalle","index","Object","keys","mat","p"],"sources":["C:/Users/Silvia/WebstormProjects/TASK/task-manager/frontend/src/features/quotes/CotizadorMateriales.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Calculator, FileText, Package, Layers, CircleDollarSign, Settings, Lock, Unlock } from 'lucide-react';\r\n\r\nconst ADMIN_PIN =\r\n    (typeof import.meta !== 'undefined' && import.meta.env && import.meta.env.VITE_COTIZADOR_PIN) ||\r\n    (typeof process !== 'undefined' && process.env && process.env.REACT_APP_COTIZADOR_PIN) ||\r\n    '1234';\r\n\r\nconst STORAGE_KEY = 'COTIZADOR_PRECIOS_V1';\r\n\r\nconst DEFAULT_PRECIOS = {\r\n    // Diseñado (por m²)\r\n    disenado: {\r\n        PVC: 3,\r\n        VINIL: 1.25,\r\n        LONA: 0.98,\r\n        ACRILICO: 14,\r\n        MDF: 6\r\n    },\r\n    // Solo corte (por m²)\r\n    soloCorte: {\r\n        PVC: 7,\r\n        VINIL: 10,\r\n        ACRILICO: { '3mm': 30, '6mm': 55 },\r\n        MDF: { '3mm': 12, '6mm': 18 }\r\n    },\r\n    // Diseño (coste fijo)\r\n    diseno: {\r\n        FACIL: 3,\r\n        MEDIO: 5,\r\n        DIFICIL: 8\r\n    },\r\n    // Extras (usados en cálculos)\r\n    ojal: 0.75\r\n};\r\n\r\nconst CotizadorMateriales = () => {\r\n    // ======= Estado de precios (editable vía modal) =======\r\n    const [precios, setPrecios] = useState(DEFAULT_PRECIOS);\r\n\r\n    useEffect(() => {\r\n        const saved = localStorage.getItem(STORAGE_KEY);\r\n        if (saved) {\r\n            try {\r\n                const parsed = JSON.parse(saved);\r\n                setPrecios({ ...DEFAULT_PRECIOS, ...parsed }); // merge por si agregas nuevos campos en el futuro\r\n            } catch (e) {\r\n                // si falla, ignora y usa defaults\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    // ======= Estados principales del cotizador =======\r\n    const [tipoServicio, setTipoServicio] = useState('');\r\n    const [materialesSeleccionados, setMaterialesSeleccionados] = useState([]);\r\n    const [dimensiones, setDimensiones] = useState({});\r\n    const [incluirImpresion, setIncluirImpresion] = useState(false);\r\n    const [conDiseno, setConDiseno] = useState(false);\r\n    const [nivelDiseno, setNivelDiseno] = useState('');\r\n    const [ojales, setOjales] = useState({ incluir: false, cantidad: 0 });\r\n    const [conCorteVinil, setConCorteVinil] = useState(false);\r\n    const [conBasePVC, setConBasePVC] = useState(false);\r\n    const [materialCorte, setMaterialCorte] = useState('');\r\n    const [espesorCorte, setEspesorCorte] = useState('3mm');\r\n    const [cotizacionFinal, setCotizacionFinal] = useState(null);\r\n\r\n    // ======= Admin modal (protegido con PIN) =======\r\n    const [showAdmin, setShowAdmin] = useState(false);\r\n    const [isUnlocked, setIsUnlocked] = useState(false);\r\n    const [pinInput, setPinInput] = useState('');\r\n    const [tempPrecios, setTempPrecios] = useState(precios);\r\n\r\n    useEffect(() => {\r\n        if (showAdmin) {\r\n            setTempPrecios(precios);\r\n            setPinInput('');\r\n            setIsUnlocked(false);\r\n        }\r\n    }, [showAdmin]); // al abrir modal, refresca\r\n\r\n    const handleUnlock = () => {\r\n        if (String(pinInput) === String(ADMIN_PIN)) {\r\n            setIsUnlocked(true);\r\n        } else {\r\n            window.alert('PIN incorrecto');\r\n        }\r\n    };\r\n\r\n    const handleSavePrecios = () => {\r\n        setPrecios(tempPrecios);\r\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(tempPrecios));\r\n        setShowAdmin(false);\r\n        setIsUnlocked(false);\r\n        setPinInput('');\r\n    };\r\n\r\n    const handleResetPrecios = () => {\r\n        if (window.confirm('¿Restaurar valores por defecto?')) {\r\n            setTempPrecios(DEFAULT_PRECIOS);\r\n            localStorage.removeItem(STORAGE_KEY);\r\n        }\r\n    };\r\n\r\n    // ======= Lógica de negocio existente =======\r\n    const preciosDiseno = precios.diseno;\r\n    const materialesConEspesor = ['ACRILICO', 'MDF'];\r\n\r\n    const combinacionesPermitidas = [\r\n        ['PVC', 'VINIL'],\r\n        ['VINIL', 'PVC'],\r\n        ['VINIL', 'ACRILICO'],\r\n        ['ACRILICO', 'VINIL'],\r\n        ['VINIL', 'MDF'],\r\n        ['MDF', 'VINIL']\r\n    ];\r\n\r\n    const esCombinacionValida = (materiales) => {\r\n        if (materiales.length === 1) return true;\r\n        if (materiales.length !== 2) return false;\r\n        return combinacionesPermitidas.some(\r\n            (combo) =>\r\n                (combo[0] === materiales[0] && combo[1] === materiales[1]) ||\r\n                (combo[0] === materiales[1] && combo[1] === materiales[0])\r\n        );\r\n    };\r\n\r\n    const handleMaterialChange = (material, espesor = null) => {\r\n        if (tipoServicio === 'SOLO_CORTE') {\r\n            setMaterialCorte(material);\r\n            if (materialesConEspesor.includes(material)) setEspesorCorte(espesor || '3mm');\r\n            return;\r\n        }\r\n\r\n        if (material === 'LONA') {\r\n            setMaterialesSeleccionados(['LONA']);\r\n            setDimensiones({ LONA: { ancho: '', alto: '', espesor: null } });\r\n        } else {\r\n            const nueva = [...materialesSeleccionados];\r\n            const idx = nueva.findIndex((m) => m === material);\r\n            if (idx > -1) {\r\n                nueva.splice(idx, 1);\r\n                const nuevasDim = { ...dimensiones };\r\n                delete nuevasDim[material];\r\n                setDimensiones(nuevasDim);\r\n            } else {\r\n                if (nueva.length < 2 && !nueva.includes('LONA')) {\r\n                    nueva.push(material);\r\n                    setDimensiones({\r\n                        ...dimensiones,\r\n                        [material]: { ancho: '', alto: '', espesor: espesor }\r\n                    });\r\n                }\r\n            }\r\n            if (esCombinacionValida(nueva)) setMaterialesSeleccionados(nueva);\r\n        }\r\n    };\r\n\r\n    const handleDimensionChange = (material, tipo, valor) => {\r\n        setDimensiones({\r\n            ...dimensiones,\r\n            [material]: {\r\n                ...dimensiones[material],\r\n                [tipo]: valor\r\n            }\r\n        });\r\n    };\r\n\r\n    const calcularCostoCorteVinil = () => {\r\n        if (!dimensiones.VINIL) return 0;\r\n        const area = parseFloat(dimensiones.VINIL.ancho || 0) * parseFloat(dimensiones.VINIL.alto || 0);\r\n        if (area < 0.75) return 2;\r\n        if (area <= 1.5) return 3;\r\n        return 4;\r\n    };\r\n\r\n    const calcularCotizacion = () => {\r\n        let costoTotal = 0;\r\n        let detalles = [];\r\n\r\n        if (tipoServicio === 'SOLO_CORTE') {\r\n            const ancho = parseFloat(dimensiones[materialCorte]?.ancho || 0);\r\n            const alto = parseFloat(dimensiones[materialCorte]?.alto || 0);\r\n            const area = ancho * alto;\r\n\r\n            let precioPorMetro = 0;\r\n            if (materialesConEspesor.includes(materialCorte)) {\r\n                precioPorMetro = precios.soloCorte[materialCorte][espesorCorte];\r\n            } else {\r\n                precioPorMetro = precios.soloCorte[materialCorte];\r\n            }\r\n\r\n            const costoMaterial = area * precioPorMetro;\r\n            costoTotal = costoMaterial;\r\n\r\n            detalles.push({\r\n                concepto: `${materialCorte} ${materialesConEspesor.includes(materialCorte) ? espesorCorte : ''} - Solo Corte`,\r\n                area: area.toFixed(2),\r\n                precioPorMetro,\r\n                costo: costoMaterial.toFixed(2)\r\n            });\r\n        } else {\r\n            // ===== Diseñado =====\r\n            // Materiales\r\n            materialesSeleccionados.forEach((material) => {\r\n                const dim = dimensiones[material];\r\n                if (dim && dim.ancho && dim.alto) {\r\n                    const area = parseFloat(dim.ancho) * parseFloat(dim.alto);\r\n                    const precio = precios.disenado[material];\r\n                    const costoMaterial = area * precio;\r\n                    costoTotal += costoMaterial;\r\n                    detalles.push({\r\n                        concepto: `${material}${dim.espesor ? ' ' + dim.espesor : ''}`,\r\n                        area: area.toFixed(2),\r\n                        precioPorMetro: precio,\r\n                        costo: costoMaterial.toFixed(2)\r\n                    });\r\n                }\r\n            });\r\n\r\n            // Diseño\r\n            if (conDiseno && nivelDiseno) {\r\n                const costoDiseno = preciosDiseno[nivelDiseno];\r\n                costoTotal += costoDiseno;\r\n                detalles.push({ concepto: `Diseño ${nivelDiseno}`, costo: costoDiseno.toFixed(2) });\r\n            }\r\n\r\n            // Ojales (solo Lona)\r\n            if (materialesSeleccionados.includes('LONA') && ojales.incluir && ojales.cantidad > 0) {\r\n                const costoOjales = ojales.cantidad * (precios.ojal ?? 0.75);\r\n                costoTotal += costoOjales;\r\n                detalles.push({ concepto: `Ojales (${ojales.cantidad} unidades)`, costo: costoOjales.toFixed(2) });\r\n            }\r\n\r\n            // Corte para vinil único\r\n            if (materialesSeleccionados.length === 1 && materialesSeleccionados[0] === 'VINIL' && conCorteVinil) {\r\n                const costoCorte = calcularCostoCorteVinil();\r\n                costoTotal += costoCorte;\r\n                detalles.push({ concepto: 'Corte de Vinil', costo: costoCorte.toFixed(2) });\r\n            }\r\n\r\n            // Base PVC para combinación PVC + VINIL\r\n            const comboPVCVinil =\r\n                materialesSeleccionados.includes('PVC') && materialesSeleccionados.includes('VINIL');\r\n            if (comboPVCVinil && conBasePVC) {\r\n                const areaVinil =\r\n                    parseFloat(dimensiones['VINIL']?.ancho || 0) * parseFloat(dimensiones['VINIL']?.alto || 0);\r\n                const precioPVC = precios.disenado.PVC;\r\n                const costoBase = areaVinil * precioPVC;\r\n                costoTotal += costoBase;\r\n                detalles.push({\r\n                    concepto: 'Base PVC',\r\n                    area: areaVinil.toFixed(2),\r\n                    precioPorMetro: precioPVC,\r\n                    costo: costoBase.toFixed(2)\r\n                });\r\n            }\r\n        }\r\n\r\n        setCotizacionFinal({\r\n            total: costoTotal.toFixed(2),\r\n            detalles,\r\n            incluirImpresion\r\n        });\r\n    };\r\n\r\n    const resetearFormulario = () => {\r\n        setTipoServicio('');\r\n        setMaterialesSeleccionados([]);\r\n        setDimensiones({});\r\n        setIncluirImpresion(false);\r\n        setConDiseno(false);\r\n        setNivelDiseno('');\r\n        setOjales({ incluir: false, cantidad: 0 });\r\n        setConCorteVinil(false);\r\n        setConBasePVC(false);\r\n        setMaterialCorte('');\r\n        setEspesorCorte('3mm');\r\n        setCotizacionFinal(null);\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4\">\r\n            <div className=\"max-w-6xl mx-auto\">\r\n                <div className=\"bg-white rounded-2xl shadow-xl p-8\">\r\n                    {/* Header */}\r\n                    <div className=\"flex items-center justify-between mb-8\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <Calculator className=\"text-indigo-600\" size={32} />\r\n                            <h1 className=\"text-3xl font-bold text-gray-800\">Sistema Cotizador de Materiales</h1>\r\n                        </div>\r\n                        <button\r\n                            onClick={() => setShowAdmin(true)}\r\n                            className=\"inline-flex items-center gap-2 px-4 py-2 rounded-lg border-2 border-indigo-500 text-indigo-600 hover:bg-indigo-50 font-semibold\"\r\n                            title=\"Modificar valores (PIN)\"\r\n                        >\r\n                            <Settings size={18} />\r\n                            Modificar valores\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Selección de tipo de servicio */}\r\n                    {!tipoServicio && (\r\n                        <div className=\"space-y-4\">\r\n                            <h2 className=\"text-xl font-semibold text-gray-700 flex items-center gap-2\">\r\n                                <Package className=\"text-indigo-500\" />\r\n                                Seleccione el tipo de servicio\r\n                            </h2>\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                <button\r\n                                    onClick={() => setTipoServicio('SOLO_CORTE')}\r\n                                    className=\"p-6 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all transform hover:scale-105 shadow-lg\"\r\n                                >\r\n                                    <h3 className=\"text-xl font-bold mb-2\">Solo Corte</h3>\r\n                                    <p className=\"text-sm opacity-90\">Servicio de corte sin diseño</p>\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => setTipoServicio('DISENADO')}\r\n                                    className=\"p-6 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg hover:from-indigo-600 hover:to-purple-700 transition-all transform hover:scale-105 shadow-lg\"\r\n                                >\r\n                                    <h3 className=\"text-xl font-bold mb-2\">Diseñado</h3>\r\n                                    <p className=\"text-sm opacity-90\">Servicio completo con diseño</p>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Formulario SOLO CORTE */}\r\n                    {tipoServicio === 'SOLO_CORTE' && (\r\n                        <div className=\"space-y-6\">\r\n                            <h2 className=\"text-xl font-semibold text-gray-700 flex items-center gap-2\">\r\n                                <Layers className=\"text-indigo-500\" />\r\n                                Configuración - Solo Corte\r\n                            </h2>\r\n\r\n                            <div className=\"bg-gray-50 p-6 rounded-lg\">\r\n                                <h3 className=\"font-semibold text-gray-700 mb-4\">Seleccione el material:</h3>\r\n                                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n                                    {['PVC', 'ACRILICO', 'VINIL', 'MDF'].map((material) => (\r\n                                        <div key={material} className=\"space-y-2\">\r\n                                            <button\r\n                                                onClick={() => handleMaterialChange(material)}\r\n                                                className={`w-full p-3 rounded-lg border-2 transition-all ${\r\n                                                    materialCorte === material\r\n                                                        ? 'border-indigo-500 bg-indigo-50 text-indigo-700'\r\n                                                        : 'border-gray-300 hover:border-indigo-300'\r\n                                                }`}\r\n                                            >\r\n                                                {material}\r\n                                            </button>\r\n                                            {materialCorte === material && materialesConEspesor.includes(material) && (\r\n                                                <select\r\n                                                    value={espesorCorte}\r\n                                                    onChange={(e) => setEspesorCorte(e.target.value)}\r\n                                                    className=\"w-full p-2 border rounded-lg\"\r\n                                                >\r\n                                                    <option value=\"3mm\">3mm</option>\r\n                                                    <option value=\"6mm\">6mm</option>\r\n                                                </select>\r\n                                            )}\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n\r\n                            {materialCorte && (\r\n                                <div className=\"bg-gray-50 p-6 rounded-lg\">\r\n                                    <h3 className=\"font-semibold text-gray-700 mb-4\">Dimensiones del material:</h3>\r\n                                    <div className=\"grid grid-cols-2 gap-4\">\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium text-gray-600 mb-2\">Ancho (metros)</label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                step=\"0.01\"\r\n                                                value={dimensiones[materialCorte]?.ancho || ''}\r\n                                                onChange={(e) =>\r\n                                                    setDimensiones({\r\n                                                        [materialCorte]: { ...dimensiones[materialCorte], ancho: e.target.value }\r\n                                                    })\r\n                                                }\r\n                                                className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                                placeholder=\"0.00\"\r\n                                            />\r\n                                        </div>\r\n                                        <div>\r\n                                            <label className=\"block text-sm font-medium text-gray-600 mb-2\">Alto (metros)</label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                step=\"0.01\"\r\n                                                value={dimensiones[materialCorte]?.alto || ''}\r\n                                                onChange={(e) =>\r\n                                                    setDimensiones({\r\n                                                        [materialCorte]: { ...dimensiones[materialCorte], alto: e.target.value }\r\n                                                    })\r\n                                                }\r\n                                                className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                                placeholder=\"0.00\"\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Formulario DISEÑADO */}\r\n                    {tipoServicio === 'DISENADO' && (\r\n                        <div className=\"space-y-6\">\r\n                            <h2 className=\"text-xl font-semibold text-gray-700 flex items-center gap-2\">\r\n                                <Layers className=\"text-indigo-500\" />\r\n                                Configuración - Diseñado\r\n                            </h2>\r\n\r\n                            {/* Selección de materiales */}\r\n                            <div className=\"bg-gray-50 p-6 rounded-lg\">\r\n                                <h3 className=\"font-semibold text-gray-700 mb-4\">Seleccione los materiales (máximo 2, excepto Lona):</h3>\r\n                                <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\r\n                                    {['PVC', 'ACRILICO', 'VINIL', 'LONA', 'MDF'].map((material) => (\r\n                                        <div key={material} className=\"space-y-2\">\r\n                                            <button\r\n                                                onClick={() => handleMaterialChange(material, '3mm')}\r\n                                                disabled={\r\n                                                    (material === 'LONA' && materialesSeleccionados.length > 0 && !materialesSeleccionados.includes('LONA')) ||\r\n                                                    (material !== 'LONA' && materialesSeleccionados.includes('LONA')) ||\r\n                                                    (materialesSeleccionados.length >= 2 && !materialesSeleccionados.includes(material))\r\n                                                }\r\n                                                className={`w-full p-3 rounded-lg border-2 transition-all ${\r\n                                                    materialesSeleccionados.includes(material)\r\n                                                        ? 'border-indigo-500 bg-indigo-50 text-indigo-700'\r\n                                                        : 'border-gray-300 hover:border-indigo-300 disabled:opacity-50 disabled:cursor-not-allowed'\r\n                                                }`}\r\n                                            >\r\n                                                {material}\r\n                                            </button>\r\n                                            {materialesSeleccionados.includes(material) && materialesConEspesor.includes(material) && (\r\n                                                <select\r\n                                                    value={dimensiones[material]?.espesor || '3mm'}\r\n                                                    onChange={(e) => handleDimensionChange(material, 'espesor', e.target.value)}\r\n                                                    className=\"w-full p-2 border rounded-lg\"\r\n                                                >\r\n                                                    <option value=\"3mm\">3mm</option>\r\n                                                    <option value=\"6mm\">6mm</option>\r\n                                                </select>\r\n                                            )}\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                                {materialesSeleccionados.length === 2 && (\r\n                                    <p className=\"mt-2 text-sm text-green-600\">Combinación válida: {materialesSeleccionados.join(' + ')}</p>\r\n                                )}\r\n                            </div>\r\n\r\n                            {/* Dimensiones */}\r\n                            {materialesSeleccionados.length > 0 && (\r\n                                <div className=\"bg-gray-50 p-6 rounded-lg\">\r\n                                    <h3 className=\"font-semibold text-gray-700 mb-4\">Dimensiones de los materiales:</h3>\r\n                                    {materialesSeleccionados.map((material) => (\r\n                                        <div key={material} className=\"mb-4 p-4 bg-white rounded-lg\">\r\n                                            <h4 className=\"font-medium text-gray-700 mb-3\">\r\n                                                {material} {dimensiones[material]?.espesor ? `(${dimensiones[material].espesor})` : ''}\r\n                                            </h4>\r\n                                            <div className=\"grid grid-cols-2 gap-4\">\r\n                                                <div>\r\n                                                    <label className=\"block text-sm font-medium text-gray-600 mb-2\">Ancho (metros)</label>\r\n                                                    <input\r\n                                                        type=\"number\"\r\n                                                        step=\"0.01\"\r\n                                                        value={dimensiones[material]?.ancho || ''}\r\n                                                        onChange={(e) => handleDimensionChange(material, 'ancho', e.target.value)}\r\n                                                        className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                                        placeholder=\"0.00\"\r\n                                                    />\r\n                                                </div>\r\n                                                <div>\r\n                                                    <label className=\"block text-sm font-medium text-gray-600 mb-2\">Alto (metros)</label>\r\n                                                    <input\r\n                                                        type=\"number\"\r\n                                                        step=\"0.01\"\r\n                                                        value={dimensiones[material]?.alto || ''}\r\n                                                        onChange={(e) => handleDimensionChange(material, 'alto', e.target.value)}\r\n                                                        className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                                        placeholder=\"0.00\"\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n\r\n                            {/* Opciones adicionales */}\r\n                            {materialesSeleccionados.length > 0 && (\r\n                                <div className=\"space-y-4\">\r\n                                    {/* Impresión */}\r\n                                    <div className=\"bg-gray-50 p-6 rounded-lg\">\r\n                                        <label className=\"flex items-center space-x-3\">\r\n                                            <input\r\n                                                type=\"checkbox\"\r\n                                                checked={incluirImpresion}\r\n                                                onChange={(e) => setIncluirImpresion(e.target.checked)}\r\n                                                className=\"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500\"\r\n                                            />\r\n                                            <span className=\"font-medium text-gray-700\">Incluir impresión</span>\r\n                                        </label>\r\n                                    </div>\r\n\r\n                                    {/* Diseño */}\r\n                                    <div className=\"bg-gray-50 p-6 rounded-lg\">\r\n                                        <label className=\"flex items-center space-x-3 mb-4\">\r\n                                            <input\r\n                                                type=\"checkbox\"\r\n                                                checked={conDiseno}\r\n                                                onChange={(e) => setConDiseno(e.target.checked)}\r\n                                                className=\"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500\"\r\n                                            />\r\n                                            <span className=\"font-medium text-gray-700\">Incluir diseño</span>\r\n                                        </label>\r\n                                        {conDiseno && (\r\n                                            <div className=\"grid grid-cols-3 gap-4 mt-4\">\r\n                                                {['FACIL', 'MEDIO', 'DIFICIL'].map((nivel) => (\r\n                                                    <button\r\n                                                        key={nivel}\r\n                                                        onClick={() => setNivelDiseno(nivel)}\r\n                                                        className={`p-3 rounded-lg border-2 transition-all ${\r\n                                                            nivelDiseno === nivel\r\n                                                                ? 'border-indigo-500 bg-indigo-50 text-indigo-700'\r\n                                                                : 'border-gray-300 hover:border-indigo-300'\r\n                                                        }`}\r\n                                                    >\r\n                                                        {nivel} (${preciosDiseno[nivel]})\r\n                                                    </button>\r\n                                                ))}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    {/* Ojales para lona */}\r\n                                    {materialesSeleccionados.includes('LONA') && (\r\n                                        <div className=\"bg-gray-50 p-6 rounded-lg\">\r\n                                            <label className=\"flex items-center space-x-3 mb-4\">\r\n                                                <input\r\n                                                    type=\"checkbox\"\r\n                                                    checked={ojales.incluir}\r\n                                                    onChange={(e) => setOjales({ ...ojales, incluir: e.target.checked })}\r\n                                                    className=\"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500\"\r\n                                                />\r\n                                                <span className=\"font-medium text-gray-700\">Incluir ojales (${precios.ojal} c/u)</span>\r\n                                            </label>\r\n                                            {ojales.incluir && (\r\n                                                <div>\r\n                                                    <label className=\"block text-sm font-medium text-gray-600 mb-2\">Cantidad de ojales</label>\r\n                                                    <input\r\n                                                        type=\"number\"\r\n                                                        min=\"0\"\r\n                                                        value={ojales.cantidad}\r\n                                                        onChange={(e) => setOjales({ ...ojales, cantidad: parseInt(e.target.value) || 0 })}\r\n                                                        className=\"w-32 p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                                    />\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    {/* Corte para vinil único */}\r\n                                    {materialesSeleccionados.length === 1 && materialesSeleccionados[0] === 'VINIL' && (\r\n                                        <div className=\"bg-gray-50 p-6 rounded-lg\">\r\n                                            <label className=\"flex items-center space-x-3\">\r\n                                                <input\r\n                                                    type=\"checkbox\"\r\n                                                    checked={conCorteVinil}\r\n                                                    onChange={(e) => setConCorteVinil(e.target.checked)}\r\n                                                    className=\"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500\"\r\n                                                />\r\n                                                <span className=\"font-medium text-gray-700\">Con corte de vinil</span>\r\n                                            </label>\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    {/* Base PVC para combinación PVC-VINIL */}\r\n                                    {materialesSeleccionados.includes('PVC') && materialesSeleccionados.includes('VINIL') && (\r\n                                        <div className=\"bg-gray-50 p-6 rounded-lg\">\r\n                                            <label className=\"flex items-center space-x-3\">\r\n                                                <input\r\n                                                    type=\"checkbox\"\r\n                                                    checked={conBasePVC}\r\n                                                    onChange={(e) => setConBasePVC(e.target.checked)}\r\n                                                    className=\"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-500\"\r\n                                                />\r\n                                                <span className=\"font-medium text-gray-700\">Con base PVC</span>\r\n                                            </label>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Botones de acción */}\r\n                    {tipoServicio && (\r\n                        <div className=\"flex gap-4 mt-8\">\r\n                            <button\r\n                                onClick={calcularCotizacion}\r\n                                className=\"flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-green-600 hover:to-green-700 transition-all transform hover:scale-105 shadow-lg flex items-center justify-center gap-2\"\r\n                            >\r\n                                <CircleDollarSign size={20} />\r\n                                Calcular Cotización\r\n                            </button>\r\n                            <button\r\n                                onClick={resetearFormulario}\r\n                                className=\"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-semibold hover:bg-gray-300 transition-all\"\r\n                            >\r\n                                Reiniciar\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Resultado */}\r\n                    {cotizacionFinal && (\r\n                        <div className=\"mt-8 bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-lg border-2 border-green-300\">\r\n                            <h3 className=\"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\">\r\n                                <FileText className=\"text-green-600\" />\r\n                                Cotización Final\r\n                            </h3>\r\n                            <div className=\"space-y-3\">\r\n                                {cotizacionFinal.detalles.map((detalle, index) => (\r\n                                    <div key={index} className=\"flex justify-between items-center py-2 border-b border-green-200\">\r\n                                        <div>\r\n                                            <span className=\"font-medium text-gray-700\">{detalle.concepto}</span>\r\n                                            {detalle.area && (\r\n                                                <span className=\"text-sm text-gray-500 ml-2\">\r\n                          ({detalle.area} m² × ${detalle.precioPorMetro}/m²)\r\n                        </span>\r\n                                            )}\r\n                                        </div>\r\n                                        <span className=\"font-semibold text-gray-800\">${detalle.costo}</span>\r\n                                    </div>\r\n                                ))}\r\n                                {cotizacionFinal.incluirImpresion && (\r\n                                    <div className=\"text-sm text-blue-600 italic\">* Incluye impresión (precio puede variar)</div>\r\n                                )}\r\n                                <div className=\"pt-4 border-t-2 border-green-400\">\r\n                                    <div className=\"flex justify-between items-center\">\r\n                                        <span className=\"text-xl font-bold text-gray-800\">TOTAL:</span>\r\n                                        <span className=\"text-2xl font-bold text-green-600\">${cotizacionFinal.total}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* ===== Modal de administración ===== */}\r\n                    {showAdmin && (\r\n                        <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n                            <div className=\"absolute inset-0 bg-black/40\" onClick={() => setShowAdmin(false)} />\r\n                            <div className=\"relative bg-white rounded-2xl shadow-2xl w-full max-w-3xl p-6\">\r\n                                <div className=\"flex items-center justify-between mb-4\">\r\n                                    <h3 className=\"text-xl font-bold text-gray-800 flex items-center gap-2\">\r\n                                        <Settings className=\"text-indigo-600\" />\r\n                                        Modificar valores\r\n                                    </h3>\r\n                                    <button onClick={() => setShowAdmin(false)} className=\"text-gray-500 hover:text-gray-700\">\r\n                                        ✕\r\n                                    </button>\r\n                                </div>\r\n\r\n                                {!isUnlocked ? (\r\n                                    <div className=\"space-y-4\">\r\n                                        <p className=\"text-gray-600\">Ingresa el PIN para editar precios.</p>\r\n                                        <div className=\"flex gap-3\">\r\n                                            <input\r\n                                                type=\"password\"\r\n                                                value={pinInput}\r\n                                                onChange={(e) => setPinInput(e.target.value)}\r\n                                                placeholder=\"PIN\"\r\n                                                className=\"flex-1 p-3 border rounded-lg focus:ring-2 focus:ring-indigo-500\"\r\n                                            />\r\n                                            <button\r\n                                                onClick={handleUnlock}\r\n                                                className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700 inline-flex items-center gap-2\"\r\n                                            >\r\n                                                <Unlock size={18} />\r\n                                                Desbloquear\r\n                                            </button>\r\n                                        </div>\r\n                                        <div className=\"text-xs text-gray-500 flex items-center gap-1\">\r\n                                            <Lock size={12} /> Usa VITE_COTIZADOR_PIN / REACT_APP_COTIZADOR_PIN (default 1234)\r\n                                        </div>\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className=\"space-y-6 max-h-[70vh] overflow-auto pr-2\">\r\n                                        {/* Diseñado */}\r\n                                        <section>\r\n                                            <h4 className=\"font-semibold text-gray-800 mb-3\">Diseñado — precio por m²</h4>\r\n                                            <div className=\"grid grid-cols-2 md:grid-cols-5 gap-3\">\r\n                                                {Object.keys(tempPrecios.disenado).map((mat) => (\r\n                                                    <div key={mat} className=\"space-y-1\">\r\n                                                        <label className=\"text-sm text-gray-600\">{mat}</label>\r\n                                                        <input\r\n                                                            type=\"number\"\r\n                                                            step=\"0.01\"\r\n                                                            value={tempPrecios.disenado[mat]}\r\n                                                            onChange={(e) =>\r\n                                                                setTempPrecios((p) => ({\r\n                                                                    ...p,\r\n                                                                    disenado: { ...p.disenado, [mat]: parseFloat(e.target.value || 0) }\r\n                                                                }))\r\n                                                            }\r\n                                                            className=\"w-full p-2 border rounded-lg\"\r\n                                                        />\r\n                                                    </div>\r\n                                                ))}\r\n                                            </div>\r\n                                        </section>\r\n\r\n                                        {/* Solo corte */}\r\n                                        <section>\r\n                                            <h4 className=\"font-semibold text-gray-800 mb-3\">Solo corte — precio por m²</h4>\r\n                                            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\r\n                                                {/* PVC */}\r\n                                                <div className=\"space-y-1\">\r\n                                                    <label className=\"text-sm text-gray-600\">PVC</label>\r\n                                                    <input\r\n                                                        type=\"number\"\r\n                                                        step=\"0.01\"\r\n                                                        value={tempPrecios.soloCorte.PVC}\r\n                                                        onChange={(e) =>\r\n                                                            setTempPrecios((p) => ({\r\n                                                                ...p,\r\n                                                                soloCorte: { ...p.soloCorte, PVC: parseFloat(e.target.value || 0) }\r\n                                                            }))\r\n                                                        }\r\n                                                        className=\"w-full p-2 border rounded-lg\"\r\n                                                    />\r\n                                                </div>\r\n                                                {/* VINIL */}\r\n                                                <div className=\"space-y-1\">\r\n                                                    <label className=\"text-sm text-gray-600\">VINIL</label>\r\n                                                    <input\r\n                                                        type=\"number\"\r\n                                                        step=\"0.01\"\r\n                                                        value={tempPrecios.soloCorte.VINIL}\r\n                                                        onChange={(e) =>\r\n                                                            setTempPrecios((p) => ({\r\n                                                                ...p,\r\n                                                                soloCorte: { ...p.soloCorte, VINIL: parseFloat(e.target.value || 0) }\r\n                                                            }))\r\n                                                        }\r\n                                                        className=\"w-full p-2 border rounded-lg\"\r\n                                                    />\r\n                                                </div>\r\n                                                {/* ACRILICO 3/6 */}\r\n                                                <div className=\"space-y-1\">\r\n                                                    <label className=\"text-sm text-gray-600\">ACRÍLICO 3 mm</label>\r\n                                                    <input\r\n                                                        type=\"number\"\r\n                                                        step=\"0.01\"\r\n                                                        value={tempPrecios.soloCorte.ACRILICO['3mm']}\r\n                                                        onChange={(e) =>\r\n                                                            setTempPrecios((p) => ({\r\n                                                                ...p,\r\n                                                                soloCorte: {\r\n                                                                    ...p.soloCorte,\r\n                                                                    ACRILICO: { ...p.soloCorte.ACRILICO, '3mm': parseFloat(e.target.value || 0) }\r\n                                                                }\r\n                                                            }))\r\n                                                        }\r\n                                                        className=\"w-full p-2 border rounded-lg\"\r\n                                                    />\r\n                                                </div>\r\n                                                <div className=\"space-y-1\">\r\n                                                    <label className=\"text-sm text-gray-600\">ACRÍLICO 6 mm</label>\r\n                                                    <input\r\n                                                        type=\"number\"\r\n                                                        step=\"0.01\"\r\n                                                        value={tempPrecios.soloCorte.ACRILICO['6mm']}\r\n                                                        onChange={(e) =>\r\n                                                            setTempPrecios((p) => ({\r\n                                                                ...p,\r\n                                                                soloCorte: {\r\n                                                                    ...p.soloCorte,\r\n                                                                    ACRILICO: { ...p.soloCorte.ACRILICO, '6mm': parseFloat(e.target.value || 0) }\r\n                                                                }\r\n                                                            }))\r\n                                                        }\r\n                                                        className=\"w-full p-2 border rounded-lg\"\r\n                                                    />\r\n                                                </div>\r\n                                                {/* MDF 3/6 */}\r\n                                                <div className=\"space-y-1\">\r\n                                                    <label className=\"text-sm text-gray-600\">MDF 3 mm</label>\r\n                                                    <input\r\n                                                        type=\"number\"\r\n                                                        step=\"0.01\"\r\n                                                        value={tempPrecios.soloCorte.MDF['3mm']}\r\n                                                        onChange={(e) =>\r\n                                                            setTempPrecios((p) => ({\r\n                                                                ...p,\r\n                                                                soloCorte: {\r\n                                                                    ...p.soloCorte,\r\n                                                                    MDF: { ...p.soloCorte.MDF, '3mm': parseFloat(e.target.value || 0) }\r\n                                                                }\r\n                                                            }))\r\n                                                        }\r\n                                                        className=\"w-full p-2 border rounded-lg\"\r\n                                                    />\r\n                                                </div>\r\n                                                <div className=\"space-y-1\">\r\n                                                    <label className=\"text-sm text-gray-600\">MDF 6 mm</label>\r\n                                                    <input\r\n                                                        type=\"number\"\r\n                                                        step=\"0.01\"\r\n                                                        value={tempPrecios.soloCorte.MDF['6mm']}\r\n                                                        onChange={(e) =>\r\n                                                            setTempPrecios((p) => ({\r\n                                                                ...p,\r\n                                                                soloCorte: {\r\n                                                                    ...p.soloCorte,\r\n                                                                    MDF: { ...p.soloCorte.MDF, '6mm': parseFloat(e.target.value || 0) }\r\n                                                                }\r\n                                                            }))\r\n                                                        }\r\n                                                        className=\"w-full p-2 border rounded-lg\"\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                        </section>\r\n\r\n                                        {/* Botones modal */}\r\n                                        <div className=\"flex justify-between pt-4\">\r\n                                            <button\r\n                                                onClick={handleResetPrecios}\r\n                                                className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200\"\r\n                                            >\r\n                                                Restaurar por defecto\r\n                                            </button>\r\n                                            <div className=\"flex gap-3\">\r\n                                                <button\r\n                                                    onClick={() => setShowAdmin(false)}\r\n                                                    className=\"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300\"\r\n                                                >\r\n                                                    Cancelar\r\n                                                </button>\r\n                                                <button\r\n                                                    onClick={handleSavePrecios}\r\n                                                    className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg font-semibold hover:bg-indigo-700\"\r\n                                                >\r\n                                                    Guardar cambios\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CotizadorMateriales;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}